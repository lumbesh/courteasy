if (self.CavalryLogger) { CavalryLogger.start_js(["DN7+3"]); }

__d("CometTextStyles_DEPRECATED.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){__p&&__p();var c=a.children,d=a.display;d=d===void 0?"wrap":d;var e=a.size;e=e===void 0?15:e;var f=a.uppercase;f=f===void 0?!1:f;var h=a.use;h=h===void 0?"primary":h;a=a.weight;a=a===void 0?"normal":a;return c((g||(g=b("stylex"))).dedupe(d==="nowrap"?{"display-1":"a8c37x1j","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","text-overflow-1":"ltmttdrg","white-space-1":"g0qnabr5"}:{},e==="inherit"?{"font-size-1":"l94mrbxd","font-weight-1":"p1ri9a11","line-height-1":"aenfhxwr"}:null,e===13?{"font-size-1":"e9vueds3","line-height-1":"ezxwwwxp"}:null,e===15?{"font-size-1":"jq4qci2q","line-height-1":"m5l1wtfr"}:null,e===17?{"font-size-1":"a5q79mjw","line-height-1":"g1cxx5fr"}:null,e===20?{"font-size-1":"o3w64lxj","line-height-1":"b2s5l15y"}:null,e===24?{"font-size-1":"o0t2es00","line-height-1":"f530mmz5"}:null,e===28?{"font-size-1":"m6dqt4wy","line-height-1":"h7mekvxk"}:null,e===32?{"font-size-1":"mhxlubs3","line-height-1":"eeb4wpa2"}:null,f===!0?{"text-transform-1":"sqxagodl"}:null,h==="bluelink"?{"color-1":"py34i1dx"}:null,h==="disabled"?{"color-1":"erlsw9ld"}:null,h==="highlight"?{"color-1":"q66pz984"}:null,h==="inherit"?{"color-1":"gmql0nx0"}:null,h==="inverse"?{"color-1":"qrtewk5h"}:null,h==="negative"?{"color-1":"jdix4yx3"}:null,h==="placeholder"?{"color-1":"pipptul6"}:null,h==="positive"?{"color-1":"g5o1ygfq"}:null,h==="primary"?{"color-1":"oo9gr5id"}:null,h==="secondary"?{"color-1":"m9osqain"}:null,h==="secondary-dark"?{"color-1":"m9hp224e"}:null,h==="tertiary"?{"color-1":"pipptul6"}:null,a==="bold"?{"font-weight-1":"hnhda86s"}:null,a==="medium"?{"font-weight-1":"ekzkrbhg"}:null,a==="normal"?{"font-weight-1":"b1v8xokw"}:null,a==="semibold"?{"font-weight-1":"lrazzd5p"}:null,a==="inherit"?{"font-weight-1":"p1ri9a11"}:null))}e.exports=a}),null);
__d("CometText_DEPRECATED.react",["CometTextStyles_DEPRECATED.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.id,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,["children","id","testid"]);return b("React").jsx(b("CometTextStyles_DEPRECATED.react"),babelHelpers["extends"]({},e,{children:function(a){return b("React").jsx("span",{className:a,"data-testid":void 0,id:d,children:c})}}))}e.exports=a}),null);
__d("StoriesNavListAddToStoryPanel.react",["CometPressable.react","CometTemporaryPlaceholder.react","React","StoriesGating","StoriesNavListAddStoryLabel.react","StoriesNavListAddStoryPlusIcon.react","XCometStoriesCreateControllerRouteBuilder","gkx","stylex","useOpenComposer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("708253");a=function(a){__p&&__p();a=b("useOpenComposer")();if(!b("StoriesGating").isAddToStoryEnabled())return null;var c=b("React").jsxs("div",{className:"hzawbc8m tw6a2znq sj5x9vvc d1544ag0 cxgpxx05 kkf49tns dicw6rsg cgat1ltu rs0gx3tq jifvfom9 ihxqhq3m j83agx80 nhd2j8a9 kzx2olss aot14ch1 p86d2i9g beltcj47 r7d6kgcz e9989ue4 esr5mh6w qu0x051f bp9cbjyn",children:[b("React").jsx(b("StoriesNavListAddStoryPlusIcon.react"),{}),b("React").jsx(b("StoriesNavListAddStoryLabel.react"),{})]});if(g){if(b("StoriesGating").isCometProductionEnabled()){var d=b("XCometStoriesCreateControllerRouteBuilder").buildURL({});return b("React").jsx(b("CometPressable.react"),{display:"inline",linkProps:{url:d},overlayDisabled:!0,children:c})}return b("React").jsx(b("CometTemporaryPlaceholder.react"),{children:b("React").jsx(b("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,children:c})})}return b("React").jsx(b("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,children:c})};e.exports=a}),null);
__d("StoriesNavListArchiveHeaderButton.react",["ix","fbt","CometImage.react","CometPressable.react","FBStoriesQPLUtils","ProfileTabConst","React","StoriesActorContext","TetraText.react","URI","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("React").useContext;function a(a){var c=j(b("StoriesActorContext"));c=c.actorID;if(c==null)return null;c=new(i||(i=b("URI")))("/"+c).setQueryData({sk:b("ProfileTabConst").STORIES_ARCHIVE});return b("React").jsx(b("CometPressable.react"),{display:"inline",linkProps:{target:"_blank",url:c.toString()},onPress:function(){b("FBStoriesQPLUtils").start({navigationStart:!1,qplMarker:22347782})},overlayDisabled:!0,children:b("React").jsxs("div",{className:"qnrpqo6b qt6c0cv9 jxrgncrl jb3vyjys taijpn5t btwxx1t3 j83agx80 bp9cbjyn",children:[a.showIcon===!0&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("CometImage.react"),{src:g("689699")}),"\xa0"]}),b("React").jsx(b("TetraText.react"),{color:"highlight",type:"body3",children:h._("Archive")})]})})}e.exports=a}),null);
__d("StoriesNavListSettingsHeaderButtonComet.react",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","React","StoriesPauseReasons","StoriesViewerSuspenseEventEmitterContext","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React").useContext,i=b("StoriesPauseReasons").SETTINGS_DIALOG,j=b("JSResource")("StoriesWebSettingsDialog.react").__setRef("StoriesNavListSettingsHeaderButtonComet.react");function a(a){var c=h(b("StoriesViewerSuspenseEventEmitterContext")),d=c.requestPause;return b("React").jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onBeforeDialogClose:a.onBeforeDialogClose,setPause:d},dialogResource:j,onShow:function(){return d(!0,i)},children:function(a,c){return b("React").jsx(b("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,ref:c,children:b("React").jsx("div",{className:"qnrpqo6b qt6c0cv9 jxrgncrl jb3vyjys i1fnvgqd j83agx80 bp9cbjyn",children:b("React").jsx(b("TetraText.react"),{color:"highlight",type:"body3",children:g._("Settings")})})})}})}e.exports=a}),null);
__d("StoriesNavListHeaderButtons.react",["Promise","React","StoriesActorContext","StoriesGating","StoriesNavListArchiveHeaderButton.react","StoriesNavListSettingsHeaderButtonComet.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){__p&&__p();var c=function(c){return c&&a.refreshNavList!==void 0?a.refreshNavList():b("Promise").resolve()},d=g(b("StoriesActorContext"));d=d.actorID;var e=b("StoriesGating").isStoriesArchiveEnabled();d=d!=null&&e;if(b("StoriesGating").isComet()===!1){e=b("React").jsx(b("StoriesNavListSettingsHeaderButtonComet.react"),{onBeforeDialogClose:c});d=d?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("StoriesNavListArchiveHeaderButton.react"),{}),"\xb7"]}):null;return b("React").jsxs("div",{className:"j83agx80",children:[d,e]})}else return b("React").jsx("div",{className:"j83agx80",children:b("React").jsx(b("StoriesNavListSettingsHeaderButtonComet.react"),{onBeforeDialogClose:c})})}e.exports=a}),null);
__d("StoriesNavListItemInfo.react",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={navListItemInfoContainer:{flex:"hhnejfq7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},primaryTitle:{display:"q9uorilb",paddingTop:"ecm0bbzt",paddingEnd:"rz4wbd8a",paddingBottom:"e5nlhep0",paddingStart:"a8nywdso",textAlign:"hzawbc8m",verticalAlign:"sf5mxxl7",width:"k4urcfbm"},subtitle:{paddingTop:"ecm0bbzt",paddingEnd:"rz4wbd8a",paddingBottom:"e5nlhep0",paddingStart:"a8nywdso"}},j=function(a){a=a.title;return a!=null?b("React").jsx("div",{"aria-label":g._("{user's name}'s story",[g._param("user's name",a)]),className:(h||(h=b("stylex")))(i.primaryTitle),dir:"auto",children:b("React").jsx(b("TetraText.react"),{numberOfLines:2,type:"bodyLink3",children:a})}):null},k=function(a){var c=a.lastUpdateTime;a=a.unseenCount;var d=null;if(a!==0&&c!=null){var e,f=g._("{Unseen count} new",[g._param("Unseen count",a)]);d=(e=b("React")).jsxs(e.Fragment,{children:[e.jsx(b("TetraText.react"),{color:"highlight",type:"body3",children:""+f.toString()}),e.jsx("span",{children:" \xb7 "}),c]})}else a===0&&(d=c);return b("React").jsx("div",{className:(h||(h=b("stylex")))(i.subtitle),children:b("React").jsx(b("TetraText.react"),{color:"secondary",type:"body3",children:d})})};a=function(a){var c=a.lastUpdateTime,d=a.name;a=a.unseenCount;return b("React").jsxs("div",{className:(h||(h=b("stylex")))(i.navListItemInfoContainer),children:[d!=null&&b("React").jsx(j,{title:d}),b("React").jsx(k,{lastUpdateTime:c,unseenCount:a})]})};e.exports=a}),null);
__d("StoriesViewerBucketPrefetcher",["CometRelay","WebPixelRatio","StoriesViewerBucketPrefetcherSingleBucketQuery.graphql","StoriesViewerBucketPrefetcherMultiBucketsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("CometRelay").fetchQuery;b("CometRelay").graphql;var j=g!==void 0?g:g=b("StoriesViewerBucketPrefetcherSingleBucketQuery.graphql"),k=h!==void 0?h:h=b("StoriesViewerBucketPrefetcherMultiBucketsQuery.graphql");function a(a,c,d,e){i(c,j,{bucketID:a,prefetchPhotoUri:!1,scale:b("WebPixelRatio").get()}).subscribe({complete:function(){d&&d()},error:function(a){e&&e(a)}})}function c(a,c,d,e,f){i(c,k,{bucketIDs:a,prefetchPhotoUri:d,scale:b("WebPixelRatio").get()}).subscribe({complete:function(){e&&e()},error:function(a){f&&f(a)}})}e.exports={loadBucket:a,loadBuckets:c}}),null);
__d("useStoriesSuspenseResharingHandler",["React","StoriesViewerSuspenseEventEmitterContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useEffect,i=b("React").useState;function a(){var a=i(!1),c=a[0],d=a[1];a=g(b("StoriesViewerSuspenseEventEmitterContext"));var e=a.listenToReshareRequest;h(function(){var a=function(a){d(a)};return e(function(){return a.apply(void 0,arguments)})},[e,d]);return c}e.exports=a}),null);
__d("StoriesSuspenseCircularNavigationPanePlaceholder.react",["fbt","React","StoriesCometListItemGlimmer.react","TetraUnit.react","TetraUnitHeader.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx(b("TetraUnit.react"),{header:a.jsx(b("TetraUnitHeader.react"),{hasTopDivider:!1,headline:g._("Stories"),level:1})}),a.jsx("div",{className:"dlu2gh78",children:a.jsx(b("TetraUnit.react"),{header:a.jsx(b("TetraUnitHeader.react"),{hasTopDivider:!1,headline:g._("Your Story"),level:3}),children:a.jsx(b("StoriesCometListItemGlimmer.react"),{numberOfItems:1})})}),a.jsx("div",{className:"dlu2gh78",children:a.jsx(b("TetraUnit.react"),{header:a.jsx(b("TetraUnitHeader.react"),{hasTopDivider:!1,headline:g._("All Stories"),level:3}),children:a.jsx(b("StoriesCometListItemGlimmer.react"),{isFriends:!0,numberOfItems:6})})})]})}e.exports=a}),null);
__d("StoriesSuspenseNavigationPanePlaceholder.react",["React","StoriesSuspenseCircularNavigationPanePlaceholder.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("StoriesSuspenseCircularNavigationPanePlaceholder.react"),{})}e.exports=a}),null);
__d("StoriesSuspenseNavListItem.react",["BaseClickableListItem.react","CometRelay","React","StoriesNavListItemInfoContainer.react","StoriesNavListItemPog.react","StoriesSuspenseNavListItem_bucket.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React").useRef;function a(a){var c=a.bucket,d=a.index,e=a.onClick;a=a.selected;c=h(g!==void 0?g:g=b("StoriesSuspenseNavListItem_bucket.graphql"),c);var f=i();return!c?null:b("React").jsx("div",{"data-id":c.id,"data-testid":void 0,ref:function(a){return f.current=a},title:"",children:b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("StoriesNavListItemPog.react"),{bucket:c}),disabled:!1,onClick:function(){return e()},right:null,selected:a,testid:void 0,children:b("React").jsx(b("StoriesNavListItemInfoContainer.react"),{bucket:c,index:d})})})}e.exports=a}),null);
__d("StoriesSuspenseNavListYourStory.react",["fbt","BaseClickableListItem.react","CometPressable.react","CometRelay","React","StoriesGating","StoriesNavListAddStoryPlusIcon.react","StoriesNavListAddToStoryPanel.react","StoriesNavListItemInfoContainer.react","StoriesNavListItemPog.react","XCometStoriesCreateControllerRouteBuilder","useOpenComposer","useStoriesSuspenseRefetchOnPost","useStoriesSuspenseResharingHandler","StoriesSuspenseNavListYourStory_userBucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("CometRelay").graphql;var i=b("CometRelay").useRefetchableFragment,j=h!==void 0?h:h=b("StoriesSuspenseNavListYourStory_userBucket.graphql");function a(a){__p&&__p();var c=i(j,a.userBucket),d=c[0];c=c[1];var e=d==null?void 0:d.id;e=b("useStoriesSuspenseRefetchOnPost")(e,c);c=b("useStoriesSuspenseResharingHandler")();var f=function(b){var c=b.type==="press";c||(b.preventDefault(),b.stopPropagation());a.onClick()},g=a.userBucket==null;if(g)return b("React").jsx(b("StoriesNavListAddToStoryPanel.react"),{});else{g=a.selected;e=e||c;c=b("StoriesGating").isTest();return!a.isUserBucketEmpty||e?b("React").jsx("div",{"data-id":c?d==null?void 0:d.id:null,"data-testid":void 0,children:b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("StoriesNavListItemPog.react"),{bucket:d,isUploading:e}),disabled:!1,onClick:f,right:b("React").jsx(k,{isSelected:g}),selected:g,testid:void 0,children:b("React").jsx(b("StoriesNavListItemInfoContainer.react"),{bucket:d})})}):b("React").jsx(b("StoriesNavListAddToStoryPanel.react"),{})}}var k=function(a){__p&&__p();var c=b("useOpenComposer")();if(!b("StoriesGating").isAddToStoryEnabled())return null;var d={display:"inline",label:g._("Add to Story"),overlayDisabled:!0};if(b("StoriesGating").isCometProductionEnabled()){var e=b("XCometStoriesCreateControllerRouteBuilder").buildURL({});d=babelHelpers["extends"]({},d,{linkProps:{url:e}})}else d=babelHelpers["extends"]({},d,{onPress:c});return b("React").jsx(b("CometPressable.react"),babelHelpers["extends"]({},d,{children:b("React").jsx(b("StoriesNavListAddStoryPlusIcon.react"),{isSelected:a.isSelected})}))};e.exports=a}),null);
__d("StoriesSuspenseNavListYourStoryPlaceholder.react",["BaseClickableListItem.react","CometPlaceholder.react","CometRelativeTimestamp.react","CometRingedImageIcon.react","React","StoriesNavListItemInfo.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.profilePicUri,d=a.userName;return b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(g,{profilePicUri:c,userName:d}),children:a.children})}var g=function(a){var c=a.profilePicUri;a=a.userName;return c!=null?b("React").jsx(b("BaseClickableListItem.react"),{addon:b("React").jsx(b("CometRingedImageIcon.react"),{ringColor:"blue-spinning",size:60,src:c}),disabled:!1,onClick:function(){},right:null,selected:!1,children:b("React").jsx(b("StoriesNavListItemInfo.react"),{lastUpdateTime:b("React").jsx(b("CometRelativeTimestamp.react"),{date:new Date(),format:"minimized"}),name:a,unseenCount:0})}):null};e.exports=a}),null);
__d("StoriesSuspenseCircularNavigationPane.react",["fbt","CometHero.react","CometRelay","React","StoriesGating","StoriesSuspenseNavListItem.react","StoriesSuspenseNavListYourStory.react","StoriesSuspenseNavListYourStoryPlaceholder.react","TetraUnit.react","TetraUnitHeader.react","stylex","StoriesSuspenseCircularNavigationPane_user.graphql","StoriesSuspenseCircularNavigationPane_buckets.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment;function a(a){__p&&__p();var c=a.bucketIndex,d=a.buckets,e=a.isFriendListEmpty,f=a.isUserBucketEmpty,k=a.onItemClicked,l=a.user,m=a.userBucketIndex;a=j(h!==void 0?h:h=b("StoriesSuspenseCircularNavigationPane_user.graphql"),l);l=j(i!==void 0?i:i=b("StoriesSuspenseCircularNavigationPane_buckets.graphql"),d);d=(l==null?void 0:l.edges)||[];l=d==null?void 0:(l=d[m])==null?void 0:l.node;d=d.reduce(function(a,d,e){d=d.node;if(e===m)return a;a.push(b("React").jsx(b("StoriesSuspenseNavListItem.react"),{bucket:d,index:e,onClick:function(){k(e)},selected:c===e},d==null?void 0:d.id));return a},[]);var n=a==null?void 0:a.name;a=a==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;f=(!f||b("StoriesGating").isAddToStoryEnabled())&&b("React").jsx(b("TetraUnit.react"),{header:b("React").jsx(b("TetraUnitHeader.react"),{hasTopDivider:!1,headline:g._("Your Story"),level:3}),children:b("React").jsxs(b("StoriesSuspenseNavListYourStoryPlaceholder.react"),{profilePicUri:a,userName:n,children:[b("React").jsx(b("CometHero.react"),{description:"Your Story"}),b("React").jsx(b("StoriesSuspenseNavListYourStory.react"),{isUserBucketEmpty:f,onClick:function(){k(m)},profilePicUri:a,selected:c===m,userBucket:l,userName:n})]})});a=e?b("React").jsx("div",{className:"dhix69tm oygrvhab wkznzc2l aov4n071 jq4qci2q m9osqain",children:g._("When friends, groups, and pages post stories their stories will show up here.")}):b("React").jsx(b("TetraUnit.react"),{header:b("React").jsx(b("TetraUnitHeader.react"),{hasTopDivider:!1,headline:g._("All Stories"),level:3}),children:d});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"sxpk6l6v",children:f}),b("React").jsx("div",{className:"dlu2gh78",children:a})]})}e.exports=a}),null);
__d("StoriesSuspenseNavigationPanePaginationPlaceholder.react",["React","StoriesCometListItemGlimmer.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("StoriesCometListItemGlimmer.react"),{isFriends:!0,numberOfItems:2})}e.exports=a}),null);
__d("useStoriesSuspenseNavListSelectors",["CometRelay","React","StoriesActorContext","StoriesConstants","StoriesQueryArgumentsContext","relay-runtime","useStoriesSuspenseNavListSelectors_buckets.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(c=b("CometRelay")).commitLocalUpdate;c.graphql;var i=c.useFragment,j=c.useRelayEnvironment,k=b("React").useContext,l=b("relay-runtime").ConnectionHandler,m=g!==void 0?g:g=b("useStoriesSuspenseNavListSelectors_buckets.graphql");function a(a){__p&&__p();var c=j(),d=k(b("StoriesActorContext")),e=d.actorID;d=k(b("StoriesQueryArgumentsContext"));var f=d.hideSelfBucket,g=d.initialBucketID;d=i(m,a);var n=d==null?void 0:d.edges,o=[];n!=null&&(o=n.reduce(function(a,b,c){var d;(b==null?void 0:(d=b.node)==null?void 0:(d=d.story_bucket_owner)==null?void 0:d.id)!==e&&s(b==null?void 0:b.node)&&a.push(c);return a},[]));o.length>0&&h(c,function(a){__p&&__p();if(e==null)return;var c=a.get(e),d=null;if(c==null)return;d=l.getConnection(c,b("StoriesConstants").NavList.CONNECTION_NAME,{front_pin_buckets:[g],hide_self_bucket:f});if(d==null)return;c={EDGES:"edges",NODE:"node"};var h=c.EDGES;c=c.NODE;var i=d.getLinkedRecords(h);if(i==null)return;var j=[].concat(i);for(var k=o.length-1;k>=0;k--){var m=o[k];j.splice(m,1);m=i[m];if(m==null)continue;m=m.getLinkedRecord(c);if(m==null)continue;a["delete"](m.getDataID())}d.setLinkedRecords(j,h)});function p(){return r()?0:-1}function q(){var a;a=n==null?void 0:(a=n[p()])==null?void 0:a.node;return s(a)}function r(){if(n!=null&&n.length>0){var a;a=(a=n[0].node)==null?void 0:(a=a.story_bucket_owner)==null?void 0:a.id;return a!=null?a===e:!1}return!1}function s(a){__p&&__p();if(a==null)return!0;a=a==null?void 0:(a=a.unified_stories)==null?void 0:a.edges;if(a==null)return!0;a=a.map(function(a){return a==null?void 0:a.node});var b=Date.now()/1e3;if(a!=null){a=a.some(function(a){a=a==null?void 0:a.expiration_time;return a==null||a>b});return!a}return!0}function t(){return n==null?[]:r()?n.slice(1):n}function u(){return t().length===0}function v(a){return n==null?void 0:(a=n[a])==null?void 0:a.node}function w(a){return n!=null&&a===n.length-1}function x(a){function b(){return r()&&q()?1:0}return a===b()}function y(a){return((a=v(a))==null?void 0:a.id)||""}return{bucketCount:(n==null?void 0:n.length)||0,getBucketID:y,isFirstBucket:x,isFriendListEmpty:u(),isLastBucket:w,isUserBucketEmpty:q(),userBucketIndex:p()}}e.exports=a}),null);
__d("useStoriesSuspenseNavListTransitionRequestListener",["QuickPerformanceLogger","React","StoriesEnums","StoriesViewerSuspenseEventEmitterContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useEffect,i=b("StoriesEnums").NAV_DIRECTIONS;function a(a,c,d,e){__p&&__p();var f=g(b("StoriesViewerSuspenseEventEmitterContext")),j=f.listenToTransitionRequest;h(function(){function d(b){if(a===-1)return e;b=b===i.NEXT_BUCKET?1:-1;b=a+b;return b}return j(function(a){a=d(a);a>=0&&(b("QuickPerformanceLogger").annotateMarkerString(13238356,"TRANSITION_TYPE","BUCKET"),c(a))})},[c,a,d,j])}e.exports=a}),null);
__d("useStoriesViewerBucketPrefetcher",["CometRelay","React","StoriesConstants","StoriesImagePrefetchingContext","StoriesViewerBucketPrefetcher","StoriesViewerSuspenseEventEmitterContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRelay").useRelayEnvironment,h=b("React").useContext,i=b("React").useEffect,j=b("StoriesViewerBucketPrefetcher").loadBuckets,k=new Set(),l=2;function a(a,c){var d=h(b("StoriesViewerSuspenseEventEmitterContext")),e=d.listenToBucketLoaded,f=g();d=h(b("StoriesImagePrefetchingContext"));var l=d.shouldPrefetchPhotoUriWithBucketPrefetching;i(function(){return e(function(){k.add(c);var b=m(a,c);b.length>0&&j(b,f,l)})},[a,c,e,f,l])}function m(a,c){__p&&__p();var d=b("StoriesConstants").NUMBER_OF_BUCKETS_TO_PREFETCH,e=c+1;while(e<a.length&&e<=c+l){if(!k.has(e))break;e++}if(e>c+l||e>=a.length)return[];c=[];while(e<a.length&&c.length<d)k.has(e)||(k.add(e),c.push(a[e])),e++;return c}e.exports=a}),null);
__d("StoriesSuspenseNavigationPane.react",["fbt","Promise","CometInfiniteScrollTrigger.react","CometRelay","React","StoriesActorContext","StoriesNavListHeaderButtons.react","StoriesQueryArgumentsContext","StoriesSuspenseBucketDataContext","StoriesSuspenseCircularNavigationPane.react","StoriesSuspenseNavigationPanePaginationPlaceholder.react","StoriesViewerSuspenseEventEmitterContext","WebPixelRatio","stylex","useStoriesViewerBuckets","StoriesSuspenseNavigationPane_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React").useCallback,k=b("React").useContext;function a(a){__p&&__p();var c=a.hasNode,d=a.initialBucketID;a=a.user;a=i(h!==void 0?h:h=b("StoriesSuspenseNavigationPane_user.graphql"),a);var e=k(b("StoriesActorContext")),f=e.actorID;e=k(b("StoriesSuspenseBucketDataContext"));var l=e.setBucketData;e=e.setNavigationDirection;var m=k(b("StoriesViewerSuspenseEventEmitterContext")),n=m.navListItemTransition;m=k(b("StoriesQueryArgumentsContext"));var o=m.initialBucketsCount;m=b("useStoriesViewerBuckets")(a,d,l,e,c);l=m.bucketIndex;e=m.buckets;c=m.hasNext;var p=m.isFriendListEmpty,q=m.isLoadingNext,r=m.isUserBucketEmpty,s=m.loadMore,t=m.prevBucketIndex,u=m.refetch,v=m.setBucketIndex;m=m.userBucketIndex;var w=function(){return new(b("Promise"))(function(a){if(f!=null&&u!=null){var c;u({bucketsCount:o,id:f,pinnedIDs:[(c=d)!=null?c:""],scale:b("WebPixelRatio").get()},{fetchPolicy:"network-only",onComplete:function(){a(),v(-1)}})}})},x=j(function(a){a!==t.current&&n(),v(a)},[n,t,v]);l=b("React").jsx(b("StoriesSuspenseCircularNavigationPane.react"),{bucketIndex:l,buckets:e==null?void 0:e.unified_stories_buckets,isFriendListEmpty:p,isUserBucketEmpty:r,onItemClicked:x,user:a,userBucketIndex:m});return b("React").jsx("div",{"data-testid":void 0,children:b("React").jsxs("div",{className:"eg9m0zos d76ob5m9",children:[b("React").jsx("div",{className:"dhix69tm n851cfcs wkznzc2l n1l5q3vz n3ffmt46 ou4ep6bq oo9gr5id",children:g._("Stories")}),b("React").jsx("div",{className:"daor5o6w pmk7jnqg e5ffyxfx",children:b("React").jsx(b("StoriesNavListHeaderButtons.react"),{refreshNavList:w})}),l,b("React").jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:c,isLoading:q,onLoadMore:s,children:b("React").jsx("div",{className:"sxpk6l6v",children:b("React").jsx(b("StoriesSuspenseNavigationPanePaginationPlaceholder.react"),{})})})]})})}e.exports=a}),null);
__d("StoriesSuspenseNavigationPanePauseContainer",["React","StoriesPauseReasons","StoriesSuspensePauseContext","StoriesViewerSuspenseEventEmitterContext","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){a=a.children;var c=g(b("StoriesViewerSuspenseEventEmitterContext")),d=c.requestPause;c=!1;return b("React").jsx("div",{className:"k4urcfbm datstx6m",onMouseEnter:function(){d(!0,b("StoriesPauseReasons").HOVER_ON_PAUSE_OVERLAY)},onMouseLeave:function(){d(!1,b("StoriesPauseReasons").HOVER_ON_PAUSE_OVERLAY)},children:b("React").jsx(b("StoriesSuspensePauseContext").Provider,{value:{isPaused:c,setPause:d},children:a})})}e.exports=a}),null);
__d("StoriesSuspenseNavigationPaneRootWithEntryPoint.react",["CometRelay","QuickPerformanceLogger","React","StoriesActorProvider.react","StoriesSuspenseNavigationPane.react","StoriesSuspenseNavigationPanePauseContainer","WebFunnelLogger","StoriesSuspenseNavigationPaneRootWithEntryPointQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").usePreloadedQuery,i=b("React").useEffect;function a(a){__p&&__p();var c,d=a.initialBucketID,e=a.queryReference,f=a.viewerSessionID;a=h(g!==void 0?g:g=b("StoriesSuspenseNavigationPaneRootWithEntryPointQuery.graphql"),e);i(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebTrayViewerV2FunnelDefinition").setSessionKey((a=f)!=null?a:"null").setAction("Viewer Navigation Pane Loaded").markEnd().log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer navigation pane loaded")},[f]);e=a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.id;c=a==null?void 0:(c=a.bucket)==null?void 0:(c=c.unified_stories)==null?void 0:c.count;c=c!=null&&c>0;return b("React").jsx(b("StoriesSuspenseNavigationPanePauseContainer"),{children:b("React").jsx(b("StoriesActorProvider.react"),{actorID:e,children:b("React").jsx(b("StoriesSuspenseNavigationPane.react"),{hasNode:c,initialBucketID:d,user:a.me})})})}e.exports=a}),null);
__d("StoriesCometLeftRailRootWithEntryPoint.react",["CometPlaceholder.react","React","StoriesCometLeftRailLayout.react","StoriesSuspenseBucketDataContext","StoriesSuspenseNavigationPanePlaceholder.react","StoriesSuspenseNavigationPaneRootWithEntryPoint.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(a){var c,d=a.children,e=a.initialBucketID,f=a.queryReference;a=a.viewerSessionID;var h=g(b("StoriesSuspenseBucketDataContext"));h=h.bucketData;return(c=b("React")).jsx(b("StoriesCometLeftRailLayout.react"),{hasRightRail:h.canSeeViewerSheet,leftRail:c.jsx(b("CometPlaceholder.react"),{fallback:c.jsx(b("StoriesSuspenseNavigationPanePlaceholder.react"),{}),children:c.jsx(b("StoriesSuspenseNavigationPaneRootWithEntryPoint.react"),{initialBucketID:e,queryReference:f,viewerSessionID:a})}),children:d})}e.exports=a}),null);
__d("StoriesSuspenseContentPaneRootWithEntryPoint.react",["CometRelay","QuickPerformanceLogger","React","StoriesActorProvider.react","StoriesSuspenseContentPane.react","StoriesSuspensePauseContextProvider.react","StoriesSuspensePendingRefetchBucketIDsContext","WebFunnelLogger","stylex","StoriesSuspenseContentPaneRootWithEntryPointQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").usePreloadedQuery,i=b("React").useEffect,j=b("React").useMemo,k=b("React").useRef;function l(a,b){var c;c=a==null?void 0:(c=a.unified_stories)==null?void 0:c.edges;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:a.id;var d=b!=null&&b!==""?b:a;b=c&&d!=null?c.findIndex(function(a){return((a=a.node)==null?void 0:a.id)===d}):-1;return Math.max(b,0)}function a(a){__p&&__p();var c=a.bucketID,d=a.initialBucketID,e=a.initialCardID,f=a.queryRefernce,m=a.updateFetchPolicy,n=a.viewerSessionID,o=k(null),p=k(null);a=h(g!==void 0?g:g=b("StoriesSuspenseContentPaneRootWithEntryPointQuery.graphql"),f);i(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebTrayViewerV2FunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Loaded").markEnd().log();new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Loaded").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer loaded")},[n]);var q=(f=l(a==null?void 0:a.initialBucket,e))!=null?f:(e=o.current)==null?void 0:e.initialCardIndex,r=(f=a==null?void 0:a.viewer)!=null?f:(e=o.current)==null?void 0:e.viewer;e=r==null?void 0:(f=r.actor)==null?void 0:f.id;i(function(){o.current===null&&(o.current={initialCardIndex:q,viewer:r})},[q,r]);if(e===(a==null?void 0:(f=a.bucket)==null?void 0:(f=f.story_bucket_owner)==null?void 0:f.id)){p.current=a==null?void 0:(f=a.bucket)==null?void 0:f.id}f=j(function(){return{setShouldRefetchSelfBucket:function(a){a=a&&p.current===c?"network-only":"store-or-network";m(a)}}},[c,m]);return b("React").jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg stjgntxs ni8dbmo4 taijpn5t n7fi1qx3 j83agx80 i09qtzwb tqsryivl bp9cbjyn",children:b("React").jsx(b("StoriesActorProvider.react"),{actorID:e,children:b("React").jsx(b("StoriesSuspensePendingRefetchBucketIDsContext").Provider,{value:f,children:b("React").jsx(b("StoriesSuspensePauseContextProvider.react"),{children:b("React").jsx(b("StoriesSuspenseContentPane.react"),{LWRAnimations:r,bucket:a==null?void 0:a.bucket,initialBucketID:d,initialCardIndex:q})})})})})}e.exports=a}),null);
__d("StoriesViewerSuspenseWithEntryPoint.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometStyleXSheet","QuickPerformanceLogger","React","StoriesBucketError.react","StoriesCenterPaneErrorBoundary.react","StoriesCometLeftRailRootWithEntryPoint.react","StoriesEnums","StoriesImagePrefetchingContext","StoriesLoggerSession","StoriesQueryArgumentsContext","StoriesResizeToView.react","StoriesRootError.react","StoriesSetBucketHelper","StoriesSuspenseBucketDataContext","StoriesSuspenseBucketTransitioningContext","StoriesSuspenseContentPanePlaceholder.react","StoriesSuspenseContentPaneRootWithEntryPoint.react","StoriesSuspenseContentPaneRootWithEntryPointQuery$Parameters","StoriesSuspenseNavigationPaneHelpers","StoriesSuspenseViewerKeyboardListener.react","StoriesUtils","StoriesViewerSuspenseEventEmitterContext","WebFunnelLogger","gkx","storiesViewerSuspenseEmitter","stylex","useCometWindowSize","useRefetchablePreloadedQuery","useStable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("CometStyleXSheet").rootStyleSheet;var h=b("React").useEffect,i=b("React").useMemo,j=b("React").useState,k=b("StoriesEnums").NAV_DIRECTIONS;c.injectTheme();var l={shouldPrefetchPhotoUri:!0,shouldPrefetchPhotoUriWithBucketPrefetching:!0};function a(a){__p&&__p();var c=b("useStable")(function(){return b("storiesViewerSuspenseEmitter")()}),d=a.bucketID,e=a.cardID,f=a.openSource,m=a.traySessionID,n=a.viewerSessionID,o=j(!1),p=o[0],q=o[1];o=j(b("StoriesSetBucketHelper").defaultBucketData(d));var r=o[0],s=o[1];o=j(k.NEXT_BUCKET);var t=o[0],u=o[1];h(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebTrayViewerV2FunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Mounted").log();new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Mounted").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer mounted");b("StoriesLoggerSession").initialize(m,n,f)},[f,m,n]);o=j("store-or-network");var v=o[0];o=o[1];v=b("useRefetchablePreloadedQuery")(b("StoriesSuspenseContentPaneRootWithEntryPointQuery$Parameters"),a.queries.storiesSuspenseContentPaneRootReference,v);var w=v[0];v=v[1];var x=r.bucketID,y=r.bucketIndex,z=x==="",A=b("useCometWindowSize")(),B=i(function(){function a(a){b("StoriesSetBucketHelper").updateBucketData(s,q,r,a,w)}return{bucketData:r,bucketNavDirection:t,setBucketData:a,setNavigationDirection:u}},[r,t,w]),C=i(function(){return{isBucketTransitionInProgress:p,setIsBucketTransitionInProgress:q}},[p,q]),D=i(function(){return{hideSelfBucket:!1,initialBucketID:d,initialBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getInitialBucketsCount(),pageBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getPageBucketsCount()}},[d]);return b("StoriesUtils").shouldResizeToViewStories(A.innerHeight)?b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesResizeToView.react"),{})}):b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesQueryArgumentsContext").Provider,{value:D,children:b("React").jsx(b("StoriesViewerSuspenseEventEmitterContext").Provider,{value:c,children:b("React").jsx(b("StoriesSuspenseBucketTransitioningContext").Provider,{value:C,children:b("React").jsx(b("StoriesSuspenseBucketDataContext").Provider,{value:B,children:b("React").jsx("div",{className:"k4urcfbm j83agx80","data-testid":void 0,id:"viewer_dialog",children:b("React").jsx(b("StoriesImagePrefetchingContext").Provider,{value:l,children:b("React").jsxs(b("StoriesSuspenseViewerKeyboardListener.react"),{children:[b("React").jsx(b("StoriesCometLeftRailRootWithEntryPoint.react"),{initialBucketID:d,queryReference:a.queries.storiesSuspenseNavigationPaneRootReference,viewerSessionID:n,children:b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:z}),children:b("React").jsx(b("StoriesCenterPaneErrorBoundary.react"),{bucketIndex:y,fallback:function(a){return b("React").jsx(b("StoriesBucketError.react"),{bucketID:x,cardID:"",error:a})},children:b("React").jsx(b("StoriesSuspenseContentPaneRootWithEntryPoint.react"),{bucketID:x,initialBucketID:d,initialCardID:e,queryRefernce:v,updateFetchPolicy:o,viewerSessionID:n})})})}),b("gkx")("678680")&&b("React").jsx("div",{className:"fwizqjfa j9ispegn pmk7jnqg cyypbtt7 g7xisrfe ljqsnud1 i09qtzwb v0lkmu4y",children:g._("SV")})]})})})})})})})})}e.exports=a}),null);
__d("StoriesViewerSuspenseRootWithEntryPoint.react",["CometBlueBridge.react","CometErrorBoundary.react","React","StoriesConstants","StoriesRootError.react","StoriesViewerBucketListFetchPolicyContext","StoriesViewerOpenAnimationContextProvider.react","StoriesViewerSuspenseWithEntryPoint.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useMemo,h=b("StoriesConstants").RELAY_FETCH_POLICY;function a(a){var c,d=a.props;a=a.queries;var e=d.bucketListFetchPolicy;d.tilePosition;var f=babelHelpers.objectWithoutPropertiesLoose(d,["bucketListFetchPolicy","tilePosition"]),i=g(function(){var a;return{fetchPolicy:(a=e)!=null?a:h.STORE_OR_NETWORK}},[e]);return(c=b("React")).jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:c.jsx(b("CometBlueBridge.react"),{children:c.jsx(b("StoriesViewerOpenAnimationContextProvider.react"),{tilePosition:d.tilePosition,children:c.jsx(b("StoriesViewerBucketListFetchPolicyContext").Provider,{value:i,children:c.jsx("div",{className:"t38bcc6f j9ispegn poy2od1o g5gj957u buofh1pr rj1gh0hx n7fi1qx3 j83agx80 i09qtzwb",children:c.jsx(b("StoriesViewerSuspenseWithEntryPoint.react"),babelHelpers["extends"]({},f,{queries:a}))})})})})})}e.exports=a}),null);
__d("XStoriesAsyncTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stories/tray/async/",{})}),null);
__d("FBStoriesTrayReloadXHPTray",["AsyncRequest","XStoriesAsyncTrayController"],(function(a,b,c,d,e,f){"use strict";a={reloadTray:function(){var a=b("XStoriesAsyncTrayController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).send()}};e.exports=a}),null);
__d("XFBStoriesPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stories/{?bucket_id}/{?card_id}/",{bucket_id:{type:"FBID"},card_id:{type:"String"},source:{type:"String"},view_single:{type:"Bool",defaultValue:!1}})}),null);
__d("StoriesViewer2URI",["PageTransitions","StoriesGating","URI","XFBStoriesPermalinkController","persistentQueryParams"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="/stories",i="/stories/test";e.exports={isTileGridPermalink:function(a){a=a.replace(/\//g,"");var c=h.replace(/\//g,"");return b("StoriesGating").isTileGridPermalinkEnabled()&&a===c},isValid:function(a){a=a.getPath();return a.startsWith(h)&&!this.isTileGridPermalink(a)&&!a.startsWith(i)},getURI:function(a,c){__p&&__p();var d=b("XFBStoriesPermalinkController").getURIBuilder();a!=null&&a!==""&&d.setFBID("bucket_id",a);c!=null&&c!==""&&d.setString("card_id",c);a=d.getURI();var e=(g||(g=b("URI"))).getNextURI().getQueryData(),f=new Set(Object.keys(e));c={};b("persistentQueryParams").reduce(function(a,b){f.has(b)&&(a[b]=e[b]);return a},c);a.setQueryData(c);return a},updateURL:function(a,c){if(a==null||a=="")return;if(this.isValid(b("PageTransitions").getNextURI())===!1)return;a=this.getURI(a,c);history.replaceState(null,"",a.toString())}}}),null);
__d("StoriesTrayLoggerSessionProvider",["React","StoriesTrayLoggerSessionContext"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children;a=a.trackingStrings;return b("React").jsx(b("StoriesTrayLoggerSessionContext").Provider,{value:{trackingStrings:a},children:c})}e.exports=a}),null);
__d("FBStoriesViewer2",["csx","cx","requireDeferred","Arbiter","ChatSidebarActions","ChatSidebarStore","CSS","DOM","DOMQuery","FantaHider","FBLogger","FBStoriesTrayReloadXHPTray","PageTransitions","React","ReactDOM","StoriesArchiveCardStoreForBlue","StoriesCometPlaceholder.react","StoriesGating","StoriesLoggingConstants","StoriesTrayLoggerSessionProvider","StoriesViewer2URI","StoriesViewerSuspenseRootWithEntryPoint.react","URI","UserAgent","deferredLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("deferredLoadComponent")(b("requireDeferred")("StoriesViewerSuspenseRoot.react")),k=b("deferredLoadComponent")(b("requireDeferred")("StoriesViewerSingleBucketRoot.react")),l=b("deferredLoadComponent")(b("requireDeferred")("StoriesArchiveRoot.react")),m="fb_stories_theater",n=4;a=function(){__p&&__p();a.getInstance=function(){this.$9||(a.$9=new a());return a.$9};a.open=function(b){a.getInstance().open(b)};function a(){__p&&__p();var a=this;this.$6=null;this.$7=null;this.$8=!1;this.$13=function(c){__p&&__p();if(b("StoriesViewer2URI").isValid(c))return!0;a.$10();a.$7&&a.$7.unsubscribe();var d=a.$6;if(d&&c.getQualifiedURI().toString()===d.getQualifiedURI().toString()&&(!a.$8||!b("StoriesViewer2URI").isTileGridPermalink(c.getPath()))){c.stripTrailingSlash().getPath()===""&&b("FBStoriesTrayReloadXHPTray").reloadTray();b("PageTransitions").transitionComplete();return!0}return!1};this.$1=!1;this.$3=b("DOMQuery").scry(document.body,"._li")[0]}var c=a.prototype;c.toggle=function(a,b){a?this.open(b):this.$10()};c.open=function(a){__p&&__p();var c=this,d=a.bucketID,e=a.cardID;this.$1&&this.$10();var f=function d(e){if(b("StoriesViewer2URI").isValid(e)===!1){b("FBLogger")("fbstories").mustfix("Stories Viewer Transition Handler hit with non story viewer URL with uri: "+e.getPath());return!1}b("PageTransitions").removeHandler(d,n);c.$11(a);b("PageTransitions").transitionComplete();return!0};b("PageTransitions").registerHandler(f,n);this.$6=b("PageTransitions").getCurrentURI();this.$8=b("PageTransitions").isTransitioning();b("PageTransitions").go(b("StoriesViewer2URI").getURI(d,e))};c.closeArchiveDialogAndRefresh=function(){b("StoriesArchiveCardStoreForBlue").DeletedStoryList.size>0&&(b("StoriesArchiveCardStoreForBlue").DeletedStoryList.forEach(function(a){if(b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.has(a)){var c=b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.get(a);c&&(c.onDeleted(),b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap["delete"](a))}}),b("StoriesArchiveCardStoreForBlue").DeletedStoryList.clear()),b("StoriesArchiveCardStoreForBlue").SeenStoryList.size>0&&(b("StoriesArchiveCardStoreForBlue").SeenStoryList.forEach(function(a){if(b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.has(a)){a=b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.get(a);a&&a.onSeenStory()}}),b("StoriesArchiveCardStoreForBlue").SeenStoryList.clear()),this.$10()};c.navigateToEntryPoint=function(){this.$6&&b("StoriesViewer2URI").isValid(this.$6)&&(this.$6=new(i||(i=b("URI")))("/"),this.$8=!1),this.$6?b("PageTransitions").go(this.$6):(i||(i=b("URI"))).go("/")};c.$12=function(a){__p&&__p();var c=a.bucketID,d=a.bucketListFetchPolicy,e=a.cardID,f=a.currentTime,g=a.openSource,h=a.traySessionID,i=a.viewerSessionID,n=a.tilePosition,o=a.trackingString;a=a.queries;b("CSS").addClass(this.$3,"_72b0");document.body&&b("CSS").addClass(document.body,"_7d54");var p=b("DOM").create("div",{id:m});b("CSS").setClass(p,"_74r7");var q=b("DOM").create("div");b("DOM").appendContent(q,p);this.$4=q;this.$2=p;b("CSS").setClass(q,"_74r8");b("UserAgent").isBrowser("Edge")||b("CSS").addClass(q,"_7qac");b("DOM").appendContent(this.$3,q);q=null;if(g===b("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE&&b("StoriesGating").isUsingStoriesArchiveViewerV2())f!=null&&(q=b("React").jsx(l,{currentStoryTime:f,cardID:e||"",fadeIn:!0,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE,traySessionID:h,viewerSessionID:i}));else{f=g===b("StoriesLoggingConstants").ACTION_SOURCE.FACEBOOK_CHAT_TAB||g===b("StoriesLoggingConstants").ACTION_SOURCE.MESSENGER_DOT_COM||g===b("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE||g===b("StoriesLoggingConstants").ACTION_SOURCE.POST_HEADER||g===b("StoriesLoggingConstants").ACTION_SOURCE.TODAY_IN;if(f){q=b("React").jsx(k,{bucketID:c,cardID:e||"",fadeIn:!0,openSource:(f=g)!=null?f:b("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:h,tilePosition:n,viewerSessionID:i})}else if(a!=null){f={bucketID:c,cardID:e||"",fadeIn:!0,openSource:(f=g)!=null?f:b("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:h,tilePosition:n,viewerSessionID:i};q=b("React").jsx(b("StoriesViewerSuspenseRootWithEntryPoint.react"),{props:f,entryPoints:{},queries:a,extraProps:null})}else{q=b("React").jsx(j,{bucketID:c,bucketListFetchPolicy:d,cardID:e||"",fadeIn:!0,openSource:(f=g)!=null?f:b("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:h,tilePosition:n,viewerSessionID:i})}}a=c==="";b("ReactDOM").render(b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("StoriesCometPlaceholder.react"),{isNullState:a}),children:b("React").jsx(b("StoriesTrayLoggerSessionProvider"),{trackingStrings:new Map([[c,o]]),children:q})}),p)};c.openDialogMessenger=function(a){this.openDialog(a)};c.openDialog=function(a){b("Arbiter").inform("jewel/hide");if(this.$1)return;this.$1=!0;this.$12(a)};c.openDialogArchive=function(a){this.$11(a)};c.$11=function(a){__p&&__p();var c=this;b("Arbiter").inform("jewel/hide");this.$1=!0;this.$7=b("Arbiter").subscribe("page_transition",function(a,d){a=d.uri;if(b("StoriesViewer2URI").isValid(a))return;if(!c.$1){c.$7&&c.$7.unsubscribe();return}c.$13(a)});this.$12(a);b("FantaHider").hide();b("ChatSidebarStore").isEnabled()?(this.$5=b("ChatSidebarStore").getVisibleType(),b("ChatSidebarActions").disable()):this.$5=null;b("PageTransitions").registerHandler(this.$13)};c.$14=function(){this.$2!=null&&(b("ReactDOM").unmountComponentAtNode(this.$2),this.$2=null),b("CSS").removeClass(this.$3,"_72b0"),document.body&&b("CSS").removeClass(document.body,"_7d54"),this.$4!=null&&(b("DOM").remove(this.$4),this.$4=null)};c.closeDialogMessenger=function(){this.closeDialog()};c.closeDialog=function(){if(this.$1===!1)return;this.$14();this.$1=!1};c.$10=function(){if(this.$1===!1)return;b("PageTransitions").removeHandler(this.$13);this.$14();b("FantaHider").unhide();this.$5!=null&&b("ChatSidebarActions").enable(this.$5);this.$1=!1};return a}();e.exports=a}),null);