if (self.CavalryLogger) { CavalryLogger.start_js(["eQaxA"]); }

__d("FixedDataTableAbstractSortableHeader.react",["ix","cx","AdsManagerNavigationGatingUtils","Image.react","PopoverMenu.react","PopoverMenuShowOnHover","React","asset","fbglyph","gkx","joinClasses","keyMirror","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("AdsManagerNavigationGatingUtils").getHasGeoPreview(),j=b("keyMirror")({ASC:null,DESC:null});function k(a){switch(a){case j.ASC:return j.DESC;default:return j.ASC}}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=k(c.props.sorting);c.props.onClick(b,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.sortMenu,f=a.sorting,h=a.isSortDisabled;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","sortMenu","sorting","isSortDisabled"]);var k="_54_8"+(h?" _3w3t":"")+(!!f&&!h&&!e?" _54_9":"")+(f===j.DESC&&!h&&!e?" _5y6x":"")+(!!f&&!h&&!!e?" _3qz2":"")+(e?" _7myg":""),l;if(e){!f||h?h=b("gkx")("729189")?g("505794"):g("125303"):f===j.DESC?h=b("gkx")("729189")?g("505782"):g("134915"):h=b("gkx")("729189")?g("505789"):g("134927");l=b("React").jsx(b("PopoverMenu.react"),{activateControlVisiblityPropName:"onShow",alignh:i?"left":"right",behaviors:[b("PopoverMenuShowOnHover")],deactivateControlVisiblityPropName:"onHide",menu:e,position:"below",children:b("React").jsx(b("Image.react"),{"data-testid":void 0,className:"_3qz3",src:h})})}return b("React").jsxs("div",babelHelpers["extends"]({},a,{onClick:this.$1,className:b("joinClasses")(k,d),role:"columnheader",tabIndex:"-1",children:[c,l]}))};return c}(b("React").Component);a.propTypes={className:(c=b("prop-types")).string,disabledReason:c.string,isSortDisabled:c.bool,sortMenu:c.node,sorting:c.oneOf([j.ASC,j.DESC]),onClick:c.func.isRequired};e.exports=a}),null);
__d("FixedDataTableSortableHeader.react",["ix","cx","fbt","xuiglyph","FixedDataTableAbstractSortableHeader.react","Image.react","React","XUIError.react","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=i._("Please use the filters to narrow down the number of items to be sorted.");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);var d=a.isSortDisabled?this.$1(a.disabledReason):null;return b("React").jsx(b("FixedDataTableAbstractSortableHeader.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"_2wzx")},a,{children:b("React").jsxs("div",{className:"_2eq6",children:[d,this.props.children]})}))};d.$1=function(a){a===void 0&&(a=k);return b("React").jsx(b("XUIError.react"),{xuiErrorPosition:"above",xuiError:a,children:b("React").jsxs("span",{className:"_2wzy",children:[b("React").jsx(b("Image.react"),{className:"_2w-0",src:g("88769")}),b("React").jsx(b("Image.react"),{className:"_2w-1",src:g("88766")})]})})};return c}(b("React").Component);a.propTypes=babelHelpers["extends"]({},b("FixedDataTableAbstractSortableHeader.react").propTypes);e.exports=a}),null);
__d("UFISearchInput.react",["ix","cx","fbt","AbstractButton.react","AbstractTextInput.react","FlexLayout.react","Image.react","React","asset","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.focusInput()};d.render=function(){var a;return(a=b("React")).jsxs(b("FlexLayout.react"),{className:"_2pgc",align:"center",direction:"horizontal",children:[a.jsx(b("Image.react"),{className:"_2pgd",src:g("363738")}),a.jsx(b("AbstractTextInput.react"),{onChange:this.props.onChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:"inputField",value:this.props.value,"aria-label":this.props.label}),a.jsx(b("AbstractButton.react"),{labelIsHidden:!0,onClick:this.props.onClear,label:i._("Clear search"),className:(this.props.value.length===0?"hidden_elem":"")+" _2pge",image:b("React").jsx(b("Image.react"),{src:g("393092")})})]})};d.focusInput=function(){this.refs.inputField.focusInput()};return c}(b("React").PureComponent);a.propTypes={onChange:(c=b("prop-types")).func,onClear:c.func,onClick:c.func,placeholder:c.node,value:c.string.isRequired,label:c.string};e.exports=a}),null);
__d("FDSBaseMultiSelector.react",["cssVar","fbt","FDSCheckboxInput.react","FDSPrivateSelectorMenu.experimental.react","FDSPrivateThemeContext.react","FDSSelectorContext","React","divisorSignedModulo","intlList","makeFDSStandardComponent","shallowEqual"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,b){b===void 0&&(b=!1);var c=d.$2(a,d.$3);d.setState(function(d){var e=d.contextValue.selectedValue!=null&&a.length<d.contextValue.selectedValue.length,f=null;b||(f=e?d.contextValue.focusedValue:a[a.length-1]);return{label:c,contextValue:babelHelpers["extends"]({},d.contextValue,{focusedValue:f,selectedValue:a})}});d.props.onChange(a)},d.$4=function(a){d.setState(function(b){return{contextValue:babelHelpers["extends"]({},b.contextValue,{focusedValue:a})}})},d.$5=function(){var a=d.$6(d.$3,d.state.contextValue.focusedValue),c=d.$3[b("divisorSignedModulo")(a+1,d.$3.length)];d.setState(function(a){return{contextValue:babelHelpers["extends"]({},a.contextValue,{focusedValue:c.value})}})},d.$7=function(){var a=d.$6(d.$3,d.state.contextValue.focusedValue),c=d.$3[b("divisorSignedModulo")(a-1,d.$3.length)];d.setState(function(a){return{contextValue:babelHelpers["extends"]({},a.contextValue,{focusedValue:c.value})}})},d.$8=function(a){var b=d.$6(d.$3,a.value);b<0?d.$3.push(a):d.$3[b]=a;b=d.$2(d.props.value,d.$3);d.setState({label:b})},d.$3=[],d.state={label:null,contextValue:{selectionType:"multi",closeMenuOnSelect:!1,focusedValue:null,onChange:d.$1,onFocus:d.$4,onPrevious:d.$7,onNext:d.$5,onRegisterItem:d.$8,selectedValue:d.props.value!=null?d.props.value:null,size:d.props.size,shouldPassFocusToSelectorItem:!0}},d.$9=function(){d.$3=[],d.props.onClose&&d.props.onClose()},d.$10=function(){d.state.contextValue.focusedValue==null&&d.$3[0]!=null&&(d.props.value==null?d.$4(d.$3[0].value):d.$4(d.props.value[0])),d.props.onOpen&&d.props.onOpen()},d.$11=function(){var a=d.$12();a===!1?d.$1(d.$3.map(function(a){return a.value}),!0):d.$1([],!0)},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){var d;a=Array.from((a=a.value)!=null?a:[]).sort();d=Array.from((d=c.contextValue.selectedValue)!=null?d:[]).sort();return!b("shallowEqual")(a,d)?babelHelpers["extends"]({},c,{label:null,contextValue:babelHelpers["extends"]({},c.contextValue,{selectedValue:a})}):null};var d=c.prototype;d.$2=function(a,c){__p&&__p();if(this.props.displayValue!=null){var d=new Map(c.reduce(function(b,c){return a!=null&&a.includes(c.value)?[].concat(b,[[c.value,c.label]]):b},[])),e=new Map(c.map(function(a){return[a.value,a.label]}));d=this.props.displayValue!=null?this.props.displayValue(d,e):null;if(d!=null)return d}if(a==null)return null;e=a.length;if(e===0)return null;if(e===1){d=c.find(function(b){return b.value===a[0]});return d!==void 0?d.label:null}if(this.props.displayValueType==="list"){d=c.reduce(function(b,c){a.includes(c.value)&&b.push(c.label);return b},[]);return b("intlList")(d)}return h._({"*":"{number} options selected","_1":"1 option selected"},[h._plural(e,"number")])};d.$6=function(a,b){return a.findIndex(function(a){return a.value===b})};d.$12=function(){var a=this.$3.length,b=this.state.contextValue.selectedValue;b=(b=b==null?void 0:b.length)!=null?b:0;if(b===0)return!1;else if(b===a)return!0;else return"indeterminate"};d.render=function(){var a=this.props,c=this.context,d=b("FDSSelectorContext");return b("React").jsx(d.Provider,{value:this.state.contextValue,children:b("React").jsx(b("FDSPrivateSelectorMenu.experimental.react"),{"data-button-testid":a["data-button-testid"],"data-testid":a["data-testid"],footer:a.footer,hasError:a.hasError,hasWarning:a.hasWarning,header:a.hasSelectAll===!0?b("React").jsx("div",{style:{backgroundColor:c.colors.layers.background,borderRadius:c.borderRadius.container,borderBottomLeftRadius:0,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:c.elevation.depth2,padding:8},children:b("React").jsx(b("FDSCheckboxInput.react"),{label:h._("Select All"),onChange:this.$11,size:this.props.size,value:this.$12()})}):void 0,htmlForTargetId:a.htmlForTargetId,isDisabled:a.isDisabled,isEdited:a.isEdited,isValid:a.isValid,label:this.state.label,labelledBy:a.labelledBy,media:a.media,minMenuWidth:a.minMenuWidth,onBlur:a.onBlur,onClick:a.onClick,onClose:this.$9,onOpen:this.$10,placeholder:a.placeholder,size:a.size,children:b("React").jsx("ul",{role:"menu",children:a.children})})})};return c}(b("React").Component);a.defaultProps={displayValueType:"count",hasError:!1,hasWarning:!1,isDisabled:!1,isEdited:!1,size:"large"};a.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSBaseMultiSelector",a)}),null);
__d("FDSMultiSelectorItem.react",["FDSPrivateSelectorItem.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("FDSPrivateSelectorItem.react"),babelHelpers["extends"]({},this.props))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SUISimpleTableColumn.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return null};return b}(b("React").Component);e.exports=a}),null);
__d("FDSSimpleTableColumn.react",["React","SUISimpleTableColumn.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return null};return b}(b("React").Component);a.propTypes=b("SUISimpleTableColumn.react").propTypes;e.exports=a}),null);
__d("GamesTypeahead.react",["fbt","GamerGraphGameSearchSource","React","XUITypeahead.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.state={query:""};d.$2=function(a){d.setState({query:d.props.clearOnSelect?"":a.getTitle()}),d.props.onGameSelect(a)};d.$3=function(a){d.setState({query:a.target.value})};d.$4=function(){d.setState({query:""})};d.$1=new(b("GamerGraphGameSearchSource"))(c.includeSeries,c.filterVideoTags,c.queryInstantGames);return d}var d=c.prototype;d.render=function(){var a=babelHelpers["extends"]({},this.props),c=g._("Search for games");return b("React").jsx(b("XUITypeahead.react"),babelHelpers["extends"]({},a,{clearable:!0,focusedOnInit:this.props.focusOnMount||!1,highlightOnSelect:!0,onChange:this.$3,onClear:this.$4,onSelectAttempt:this.$2,placeholder:this.props.placeholder||c,queryString:this.state.query,searchSource:this.$1,showEntriesOnFocus:this.props.showEntriesOnFocus}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createExponentialMovingAverage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){b===void 0&&(b=0);var c=b;return function(b){return c+=a*(b-c)}}function g(a){return function(b){return 1-Math.exp(-b/a)}}function b(a,b){b===void 0&&(b=0);var c=b,d=g(a);return function(a,b){return c+=d(b)*(a-c)}}a.createContinuous=b;e.exports=a}),null);
__d("VelocityTracker",["createExponentialMovingAverage","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(a,c){a===void 0&&(a=50),c===void 0&&(c={x:0,y:0}),this.$5=c.x,this.$6=c.y,this.$1=(g||(g=b("performanceNow")))(),this.$2=b("createExponentialMovingAverage").createContinuous(a,this.$5),this.$3=b("createExponentialMovingAverage").createContinuous(a,this.$6)}var c=a.prototype;c.update=function(a,c){var d=0;this.$4?(d=(g||(g=b("performanceNow")))()-this.$1,d=this.updateVelocity((a-this.$4.x)*1e3/d,(c-this.$4.y)*1e3/d)):this.$1=(g||(g=b("performanceNow")))();this.$4={x:a,y:c};return d};c.updateVelocity=function(a,c){var d=(g||(g=b("performanceNow")))(),e=d-this.$1;this.$1=d;this.$5=this.$2(a,e);this.$6=this.$3(c,e);return e};c.getVelocityX=function(){return Math.trunc(this.$5)};c.getVelocityY=function(){return Math.trunc(this.$6)};c.getSpeed=function(){return Math.trunc(Math.sqrt(this.$5*this.$5+this.$6*this.$6))};return a}();e.exports=a}),null);
__d("SUIHoverStyle",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Set();function i(a,b){g||(g=document.createElement("style"),document.head&&document.head.appendChild(g));b="."+a+":hover {\n    background-color: "+b+";\n  }";var c=g.sheet;c.insertRule(b,c.cssRules.length);return a}function j(a,b){return a+"_"+b.id}function a(a,b,c){b=j(b,a);if(h.has(b))return b;h.add(b);try{return i(b,c)}catch(a){return null}}e.exports={ensureInjectForTheme:a,getThemeClassName:j}}),null);
__d("SUISimpleTableCellGroupWrapper.react",["cssVar","FlexLayout.react","React","SUITableCellBackgroundContext","SUITableLoadingCell.react","SUITheme","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this,b,c)||this;d.$1=function(){d.setState({isHovering:!0})};d.$2=function(){d.setState({isHovering:!1})};d.state={isHovering:!1};return d}var d=c.prototype;d.render=function(){var a=this,c=b("SUITheme").get(this).SUISimpleTable,d=this.props,e=d.cellClassName,f=d.height,g=d.mode;d=d.rowIndex;var h=g==="footer"?c.colors.footerTopBorder:c.colors.border,i=g==="header"?c.colors.headerBottomBorder:c.colors.border;i={borderColor:c.colors.border,borderBottomColor:i,borderTopColor:h,minHeight:f};h=this.$3();return b("React").jsx(b("SUITableCellBackgroundContext").Provider,{value:{backgroundColor:h},children:b("React").jsx("div",{"aria-rowindex":d.toString(),className:this.props.containerClassName,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"row",style:i,children:b("React").jsx(b("FlexLayout.react"),{justify:"start",children:this.props.columns.map(function(d,h){var i=babelHelpers["extends"]({grow:1,shrink:0,basis:"0"},d.props.flexibleWidth);h=(h+1).toString();return b("React").jsx("div",{"aria-colindex":h,className:e,role:g==="header"?"columnheader":"gridcell",style:{borderColor:c.colors.border,flexGrow:i.grow,flexShrink:i.shrink,flexBasis:i.basis,overflow:"hidden",height:f},children:a.$4(d)},d.props.columnKey)})})})})};d.$3=function(){var a=b("SUITheme").get(this).SUISimpleTable;if(this.state.isHovering)return a.colors.hoverBackground;return a.colors.background==="transparent"?"#FFFFFF":a.colors.background};d.$4=function(a){__p&&__p();var b=this.props,c=b.isLoading,d=b.data;b=b.mode;var e=a.props.columnKey;switch(b){case"header":return a.props.header(d,e);case"row":b=c?a.props.cellLoadingContentOverride||this.getLoadingComponent():a.props.cell(d,e);return b;case"footer":b=c?a.props.footerLoadingContentOverride||this.getLoadingComponent():a.props.footer(d,e);return b;default:return null}};d.getLoadingComponent=function(){return b("React").jsx(b("SUITableLoadingCell.react"),{height:this.props.height,theme:this.props.theme})};return c}(b("React").PureComponent);e.exports=b("withSUITheme")(a)}),null);
__d("SUISimpleTableFooter.react",["cx","React","SUISimpleTableCellGroupWrapper.react","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.borders,d=a.columns,e=a.data,f=a.height,g=a.isLoading,h=a.rowIndex;a=a.theme;return b("React").jsx(b("SUISimpleTableCellGroupWrapper.react"),{cellClassName:c==="all"?"_64m6":"",columns:d,containerClassName:"_64m7",data:e,height:f,isLoading:g,mode:"footer",preserveThemeFromContext:!0,rowIndex:h,theme:a})};return c}(b("React").PureComponent);e.exports=b("withSUITheme")(a)}),null);
__d("SUISimpleTableHeader.react",["cx","React","SUISimpleTableCellGroupWrapper.react","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.borders,d=a.columns,e=a.data,f=a.height;a=a.theme;return b("React").jsx(b("SUISimpleTableCellGroupWrapper.react"),{cellClassName:c==="all"?"_33y-":"",columns:d,containerClassName:"_33z1",data:e,height:f,isLoading:!1,mode:"header",preserveThemeFromContext:!0,rowIndex:1,theme:a})};return c}(b("React").PureComponent);e.exports=b("withSUITheme")(a)}),null);
__d("SUISimpleTableRow.react",["cx","React","SUIHoverStyle","SUISimpleTableCellGroupWrapper.react","SUITheme","joinClasses","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_4e4n";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("SUITheme").get(this),c=a.SUISimpleTable;b("SUIHoverStyle").ensureInjectForTheme(a,h,c.colors.hoverBackground)};d.render=function(){var a=this.props,c=a.borders,d=a.columns,e=a.data,f=a.height,g=a.isLoading,i=a.rowIndex;a=a.theme;return b("React").jsx(b("SUISimpleTableCellGroupWrapper.react"),{cellClassName:c==="all"?"_4e4p":"",columns:d,containerClassName:b("joinClasses")(c!=="none"?"_4e4q":"",b("SUIHoverStyle").getThemeClassName(h,b("SUITheme").get(this))),data:e,height:f,isLoading:g,mode:"row",preserveThemeFromContext:!0,rowIndex:i,theme:a})};return c}(b("React").PureComponent);e.exports=b("withSUITheme")(a)}),null);
__d("SUISimpleTable.react",["cx","invariant","FDSSimpleTableColumn.react","LayoutScrollableView.react","React","SUISimpleTableColumn.react","SUISimpleTableFooter.react","SUISimpleTableHeader.react","SUISimpleTableRow.react","SUITheme","immutable","isFalsey","prop-types","withSUITheme"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={borders:"rows",isBodyLoading:!1,isFooterLoading:!1,loadingRowCount:1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("SUITheme").get(this).SUISimpleTable,c=b("React").Children.map(this.props.children,function(a){!a||a.type===b("SUISimpleTableColumn.react")||a.type===b("FDSSimpleTableColumn.react")||h(0,5806);return a});c.length||h(0,5807);var d=this.props.footerProps,e=this.$1();d=d?e+2:e+1;return b("React").jsxs("div",{"aria-colcount":c.length,"aria-rowcount":d,className:"_2e42"+(this.props.borders==="all"?" _3g1x":""),"data-testid":this.props["data-testid"],role:"grid",style:{backgroundColor:a.colors.background,borderColor:a.colors.border,maxHeight:this.props.maxHeight},children:[this.$2(c),this.props.maxHeight!=null||this.props.maxHeight!==0?this.$3(c):this.$4(c),this.$5(c)]})};d.$2=function(a){return b("React").jsx(b("SUISimpleTableHeader.react"),{borders:this.props.borders,columns:a,data:this.props.headerProps.item,height:this.props.headerProps.height,preserveThemeFromContext:!0,theme:b("SUITheme").get(this)})};d.$4=function(a){var c=this,d=this.props,e=d.borders,f=d.isBodyLoading,g=d.loadingRowCount,h=d.rowHeight;d=f?b("immutable").List(Array(g)):this.props.items;return b("React").jsx("div",{className:"_3g1y",role:"rowgroup",children:d.map(function(d,g){var i=typeof h==="number"?h:h({index:g});return b("React").jsx(b("SUISimpleTableRow.react"),{borders:e,columns:a,data:d,height:i,isLoading:f,preserveThemeFromContext:!0,rowIndex:g+2,theme:b("SUITheme").get(c)},g)})})};d.$3=function(a){__p&&__p();var c=this.props,d=c.maxHeight;c=c.headerProps;if(b("isFalsey")(d))return this.$4(a);var e=this.props.footerProps?this.props.footerProps.height:0,f=this.$6();d=d-c.height-e;this.props.borders==="all"&&(d-=2);if(f<=d)return this.$4(a);c=Math.max(d,0);return b("React").jsx(b("LayoutScrollableView.react"),{height:c,children:this.$4(a)})};d.$6=function(){var a=this.props.rowHeight,b=this.$1();if(typeof a==="number")return b*a;var c=0;for(var d=0;d<b;d++)c+=a({index:d});return c};d.$5=function(a){if(!this.props.footerProps)return null;var c=this.props,d=c.borders,e=c.footerProps;c=c.isFooterLoading;var f=this.$1()+2;return b("React").jsx(b("SUISimpleTableFooter.react"),{borders:d,columns:a,data:e.item,height:e.height,isLoading:c,preserveThemeFromContext:!0,rowIndex:f,theme:b("SUITheme").get(this)})};d.$1=function(){var a=this.props,b=a.items,c=a.isBodyLoading;a=a.loadingRowCount;return c?a:Array.isArray(b)?b.length:b.size};return c}(b("React").PureComponent);c.propTypes={borders:(d=b("prop-types")).oneOf(["rows","all","none"]).isRequired,footerProps:d.object,headerProps:d.object.isRequired,isBodyLoading:d.bool.isRequired,isFooterLoading:d.bool.isRequired,items:d.oneOfType([d.array,d.instanceOf(b("immutable").List)]).isRequired,loadingRowCount:d.number,maxHeight:d.number,rowHeight:d.oneOfType([d.number,d.func]).isRequired,theme:d.instanceOf(b("SUITheme"))};c.defaultProps=a;e.exports=b("withSUITheme")(c)}),null);
__d("SphericalParallaxUtils",["easeInOutInterpolate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=200,h=-100,i=g-h,j=45,k={getMinYawOffset:function(a,b,c,d){c=j*(c-h)/i;if(!a)return c;a=-a+b;if(d>180){b=-(360-d-c);return b>a?Math.abs(-(360-d)-a):c}else return d-c<a?d+a:c},getMaxYawOffset:function(a,b,c,d){c=j*(g-c)/i;if(!a||d>180)return c;a=a-b;if(d<180)return c+d>a?a-d:c;else return d-360+c>a?a-(d-360):c},calculateNewYaw:function(a,c,d,e,f,j){__p&&__p();e=k.getMinYawOffset(e,j,c,d);f=k.getMaxYawOffset(f,j,c,d);if(a<h)return{yaw:-e,success:!0};if(a>g)return{yaw:f,success:!0};j=b("easeInOutInterpolate")((a-h)/i)*i+h;if(j>=h&&j<=g){j>c?a=d+f*((j-c)/(g-c)):a=d-e+e*(j-h)/(c-h);if(a<=d+f&&a>=d-e)return{yaw:a,success:!0}}return{yaw:0,success:!1}},calculateYawOffset:function(a,b,c,d){return k.calculateNewYaw(a,50,0,b,c,d)}};e.exports=k}),null);
__d("degToRad",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a*Math.PI/180}e.exports=a}),null);
__d("radToDeg",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a*180/Math.PI}e.exports=a}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("gl-matrix").glMatrix;var g=b("gl-matrix").mat4,h=b("gl-matrix").vec3;a={getMaxMinVfov:function(a,c){var d=b("degToRad")(a.partialRightDegrees||180),e=b("degToRad")(a.partialLeftDegrees||180),f=b("degToRad")(a.partialTopDegrees||90);a=b("degToRad")(a.partialBottomDegrees||90);d=(d+e)/2;e=(f+a)/2;f=2*Math.atan(d/c);a=this.getMinFullVfov(e,e);return{maxVfov:b("radToDeg")(Math.max(f,a)),minVfov:b("radToDeg")(Math.min(a,f/2))}},getMaxVfov:function(a,b){return this.getMaxMinVfov(a,b).maxVfov},getMinFullVfov:function(a,b){a=(a+b)/2;return 2*Math.atan(a)},getMinFullHfov:function(a,b){a=(a+b)/2;return 2*Math.atan(a)},getZoomProgressFromFov:function(a,b,c){return Math.max(0,Math.min(1,(a-c)/(b-c)))},getZoomProgress:function(a,b,c){b=this.getMaxMinVfov(b,c);c=b.maxVfov;b=b.minVfov;return this.getZoomProgressFromFov(a,c,b)},getHfov:function(a,b){a=2*Math.atan(Math.tan(a/2)*b);return a},normalizeLimits:function(a){__p&&__p();var b=a.partialLeftDegrees||0,c=a.partialRightDegrees||0,d=a.partialTopDegrees||0;a=a.partialBottomDegrees||0;if(b<0&&c<0){var e=Math.max(b,c);b-=e;c-=e}if(d<0&&a<0){e=Math.max(d,a);d-=e;a-=e}return{partialLeftDegrees:b,partialRightDegrees:c,partialTopDegrees:d,partialBottomDegrees:a}},getPartialLimits:function(a,c,d){__p&&__p();var e=this.getMaxMinVfov(d,c),f=e.maxVfov;e=e.minVfov;var g=b("degToRad")(a);c=this.getHfov(g,c);e=this.getZoomProgressFromFov(a,f,e);c=Math.tan(c/2);g=Math.tan(g/2);var h=Math.sin(c)*e+c*(1-e);c=Math.cos(c)*e+1*(1-e);var i=Math.sin(g)*e+g*(1-e);g=Math.cos(g)*e+1*(1-e);e=function(c,d,e){var g=Math.sin(c);c=Math.cos(c);return a>f?0:b("radToDeg")(Math.atan2(g*e-c*d,g*d+c*e))};var j=b("degToRad")(d.partialLeftDegrees||180),k=b("degToRad")(d.partialRightDegrees||180),l=b("degToRad")(d.partialTopDegrees||90);d=b("degToRad")(d.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:e(j,h,c),partialRightDegrees:e(k,h,c),partialTopDegrees:e(l,i,g),partialBottomDegrees:e(d,i,g)})},projectVertex:function(a,b,c,d){__p&&__p();var e=a[0];a=a[1];var f=c?Math.sin(e):Math.sin(e)*Math.cos(a),g=c?a:Math.sin(a);c=c?Math.cos(e):Math.cos(e)*Math.cos(a);f=d*f+(1-d)*e;g=d*g+(1-d)*a;c=d*c+(1-d)*1;e=h.fromValues(f,g,c);h.transformMat4(e,e,b);return e},getSphericalFromVertex:function(a){var b=a[0],c=a[1];a=a[2];var d=Math.atan2(b,a);c=Math.atan2(c,Math.sqrt(b*b+a*a));return{yaw:d,pitch:c}},getRelativeHfov:function(a,c,d){a=this.getPartialLimits(a,c,d);c=d.partialLeftDegrees||180;d=d.partialRightDegrees||180;var e=a.partialLeftDegrees||0;a=a.partialRightDegrees||0;return b("degToRad")(d-a+c-e)},getRelativeVfov:function(a,c,d){a=this.getPartialLimits(a,c,d);c=d.partialTopDegrees||90;d=d.partialBottomDegrees||90;var e=a.partialTopDegrees||0;a=a.partialBottomDegrees||0;return b("degToRad")(c-e+d-a)},convert2dTo3d:function(a,c,d,e,f,i){__p&&__p();var j=e/f,k=e/2,l=f/2;a=(a-k)*(2/e);k=(c-l)*(2/f);e=b("degToRad")(d.fov);c=this.getHfov(e,j);l=this.getMinFullHfov(b("degToRad")(i.partialLeftDegrees||180),b("degToRad")(i.partialRightDegrees||180));f=Math.tan(e/2);e=Math.tan(c/2);c=Math.tan(Math.min(c,l)/2);l=a*e;a=-k*f;if(l>c||l<-c)return null;e=this.getZoomProgress(d.fov,i,j);k=g.create();g.rotateY(k,k,b("degToRad")(d.yaw));g.rotateX(k,k,-b("degToRad")(d.pitch));f=this.projectVertex(h.fromValues(l,a,-1),k,!1,e);c=this.getSphericalFromVertex(f);i=b("radToDeg")(c.yaw);return{yaw:i<0?360+i:i,pitch:b("radToDeg")(c.pitch)}},convert3dTo2d:function(a,c,d,e,f,i){__p&&__p();var j;a=(j=b("degToRad"))(a);c=j(c);var k=j(d.fov),l=e/f,m=this.getHfov(k,l);j=this.getMinFullHfov(j(i.partialLeftDegrees||180),b("degToRad")(i.partialRightDegrees||180));var n=Math.tan(m/2);m=Math.tan(Math.min(m,j)/2);j=m/n;m=this.getMinFullVfov(b("degToRad")(i.partialTopDegrees||90),b("degToRad")(i.partialBottomDegrees||90));n=Math.tan(k/2);k=Math.tan(Math.min(k,m)/2);m=k/n;k=this.getRelativeHfov(d.fov,l,i);n=this.getRelativeVfov(d.fov,l,i);l=g.create();g.rotateY(l,l,b("degToRad")(d.yaw));g.rotateX(l,l,-b("degToRad")(d.pitch));g.invert(l,l);i=a+Math.PI;d=c+Math.PI/2;a=-Math.sin(d)*Math.sin(i);c=-Math.cos(d);d=-Math.sin(d)*Math.cos(i);i=h.fromValues(a,c,d);h.transformMat4(i,i,l);a=Math.atan2(i[0],i[2]);c=Math.atan2(i[1],Math.sqrt(i[0]*i[0]+i[2]*i[2]));d=.5+a*j/k;l=.5-c*m/n;return{x:d*e,y:l*f}}};e.exports=a}),null);
__d("calculateHFOVFromVFOV",["degToRad","radToDeg"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){a=b("radToDeg")(Math.atan(Math.tan(b("degToRad")(a/2))*c)*2);return(a%360+360)%360};e.exports=a}),null);
__d("calculateVFOVFromHFOV",["degToRad","radToDeg"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){a=b("radToDeg")(Math.atan(Math.tan(b("degToRad")(a)/2)/c))*2;return(a%360+360)%360};e.exports=a}),null);
__d("SphericalViewportControl",["csx","cx","invariant","Bootloader","CSS","DOMEventListener","DOMQuery","Event","EventEmitter","Keys","Parent","SphericalPhotoProjectionUtils","SubscriptionsHandler","UserAgent","VelocityTracker","calculateHFOVFromVFOV","calculateVFOVFromHFOV","debounce","degToRad","getElementRect","performanceNow","queryThenMutateDOM","radToDeg","requestAnimationFrame","throttle","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("DOMQuery").scry(window.document.body,"_li")[0]||window.document.body,l=navigator===void 0||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),m=.6,n=2.5,o=20,p=110,q=179,r=.01,s=1e3,t=.5,u=["W","A","S","D"].reduce(function(a,b){a[b]=b.charCodeAt(0);return a},{}),v={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var h;e===void 0&&(e={});f===void 0&&(f=!1);g===void 0&&(g=k);h=a.call(this)||this;h.$SphericalViewportControl18=!1;h.$SphericalViewportControl19=!1;h.$SphericalViewportControl20=!1;h.$SphericalViewportControl45=!1;h.$SphericalViewportControl62=!1;h.$SphericalViewportControl64={x:1,y:1};h.$SphericalViewportControl65=!1;h.$SphericalViewportControl66=null;h.$SphericalViewportControl69=!1;h.$SphericalViewportControl70=!0;h.$SphericalViewportControl90=function(a){__p&&__p();a.deliberateSync=!0;if(h.$SphericalViewportControl67){if(a.shiftKey){var c=h.$SphericalViewportControl114(a),d=b("getElementRect")(h.$SphericalViewportControl32);if(c.x>d.left&&c.x<d.right&&c.y>d.top&&c.y<d.bottom){var e=(a.deltaX||0)+(a.deltaY||0)+(a.deltaZ||0),f=.5*(d.left+d.right),g=.5*(d.top+d.bottom);f={x:(c.x-f)/(d.right-d.left),y:(c.y-g)/(d.bottom-d.top)};h.emit("wheelScrollWithShiftKey",e,f)}a.preventDefault()}return}h.$SphericalViewportControl38&&a.preventDefault();h.$SphericalViewportControl124(a);h.$SphericalViewportControl46&&b("Event").kill(a)};h.$SphericalViewportControl127=function(a){h.emit("panningWithRightMouse",h.$SphericalViewportControl111());if(h.$SphericalViewportControl69){h.$SphericalViewportControl66=b("requestAnimationFrame")(h.$SphericalViewportControl127);return}h.emit("updateViewportEnd",h.$SphericalViewportControl26.x,h.$SphericalViewportControl26.y);h.$SphericalViewportControl15=!1;h.$SphericalViewportControl66=null};h.$SphericalViewportControl128=function(a){__p&&__p();var c=(a-h.$SphericalViewportControl59)/1e3;h.$SphericalViewportControl59=a;h.$SphericalViewportControl129();h.$SphericalViewportControl60||b("queryThenMutateDOM")(h.$SphericalViewportControl91.bind(babelHelpers.assertThisInitialized(h)),function(){return null});a=h.$SphericalViewportControl111();var d=!1;if(h.$SphericalViewportControl42&&h.$SphericalViewportControl54&&h.$SphericalViewportControl47&&!h.$SphericalViewportControl19&&!h.$SphericalViewportControl20){var e=h.$SphericalViewportControl130()*c;a.x+=e;var f=h.$SphericalViewportControl131()*c;a.y+=f;(e||f)&&(d=!0)}a.x+=h.$SphericalViewportControl8.getVelocityX()*c;a.y+=h.$SphericalViewportControl8.getVelocityY()*c;a.x+=h.$SphericalViewportControl9.getVelocityX()*c;a.y+=h.$SphericalViewportControl9.getVelocityY()*c;a.x*=h.$SphericalViewportControl64.x;a.y*=h.$SphericalViewportControl64.y;h.$SphericalViewportControl132(a.x,a.y);e=h.$SphericalViewportControl8.getSpeed()>0||h.$SphericalViewportControl9.getSpeed()>0;if(h.$SphericalViewportControl19||h.$SphericalViewportControl18||h.$SphericalViewportControl20||h.$SphericalViewportControl57||h.$SphericalViewportControl45||e||d)h.$SphericalViewportControl66=b("requestAnimationFrame")(h.$SphericalViewportControl128);else{h.$SphericalViewportControl15=!1;h.$SphericalViewportControl66=null;f={yaw:h.$SphericalViewportControl26.x,pitch:h.$SphericalViewportControl26.y};c=h.getCurrentViewport();h.$SphericalViewportControl4.pitch+=f.pitch-c.pitch;h.$SphericalViewportControl4.yaw-=f.yaw-c.yaw;h.emit("updateViewportEnd",h.$SphericalViewportControl26.x,h.$SphericalViewportControl26.y)}};h.$SphericalViewportControl124=b("throttle")(function(a){h.emit("wheelScroll",a);if(!h.$SphericalViewportControl46)return;a=(a.deltaX||0)+(a.deltaY||0)+(a.deltaZ||0);a=a/120*45/10;h.$SphericalViewportControl99(a)},30);h.$SphericalViewportControl70=e.listenOnlyOneElement==null?!0:e.listenOnlyOneElement;h.$SphericalViewportControl4={pitch:0,yaw:0};h.$SphericalViewportControl5=d.dragVelocityFactor||m;h.$SphericalViewportControl3=!1;h.$SphericalViewportControl8=new(b("VelocityTracker"))(300);h.$SphericalViewportControl9=new(b("VelocityTracker"))(300);h.$SphericalViewportControl13=new(b("SubscriptionsHandler"))();h.$SphericalViewportControl32=c;h.$SphericalViewportControl10=g;h.$SphericalViewportControl51=o;h.$SphericalViewportControl52=p;h.$SphericalViewportControl53=q;h.$SphericalViewportControl63=f;h.$SphericalViewportControl71(d);h.$SphericalViewportControl21={x:0,y:0};h.$SphericalViewportControl59=0;h.$SphericalViewportControl17={left:0,right:0,up:0,down:0};h.$SphericalViewportControl23={x:0,y:0};h.$SphericalViewportControl24={x:0,y:0};h.$SphericalViewportControl25=new(b("VelocityTracker"))();h.$SphericalViewportControl30=new Map();h.$SphericalViewportControl38=!1;h.$SphericalViewportControl22=!1;h.$SphericalViewportControl27=!1;h.$SphericalViewportControl72(e);h.$SphericalViewportControl57=!1;h.$SphericalViewportControl58=0;h.$SphericalViewportControl56=b("debounce")(function(){return h.emit("zoomStart")},s);h.$SphericalViewportControl37=h.$SphericalViewportControl73();h.$SphericalViewportControl61=[];h.$SphericalViewportControl31=h.addNewLayer(h.$SphericalViewportControl32);l&&b("Bootloader").loadModules(["FullTilt"],function(a){a.getDeviceOrientation({type:"game"}).then(function(a){return h.$SphericalViewportControl74(a,d)})["catch"](function(a){return h.$SphericalViewportControl75(a)})},"SphericalViewportControl");return h}var d=c.prototype;d.$SphericalViewportControl74=function(a,c){var d=this;if(c.partialLimits){var e=c.partialLimits,f=this.getVerticalFieldOfView(),g=this.getHorizontalFieldOfView();this.$SphericalViewportControl6={top:(e.partialTopDegrees||Infinity)-f/2,bottom:-(e.partialBottomDegrees||Infinity)+f/2,left:-(e.partialLeftDegrees||Infinity)+g/2,right:(e.partialRightDegrees||Infinity)-g/2}}b("Bootloader").loadModules(["MSphericalViewportControlEuler"],function(b){d.$SphericalViewportControl2=new b(a,c,d.$SphericalViewportControl6),d.$SphericalViewportControl2.setActive(!0),d.$SphericalViewportControl1=a,d.$SphericalViewportControl1.start(function(){return d.$SphericalViewportControl76()}),d.$SphericalViewportControl3=!0},"SphericalViewportControl")};d.$SphericalViewportControl76=function(){var a={yaw:b("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:b("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};this.$SphericalViewportControl2.onSensorUpdate();this.$SphericalViewportControl2.getRotationMatrix(a);a=this.getCurrentViewport();this.$SphericalViewportControl15||this.emit("viewportChange",a.yaw,a.pitch,this.$SphericalViewportControl11)};d.getCurrentViewport=function(){var a={yaw:b("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:b("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};return!this.$SphericalViewportControl3?{pitch:b("radToDeg")(a.pitch),yaw:b("radToDeg")(a.yaw)}:this.$SphericalViewportControl2.getCurrentViewport(a)||{pitch:b("radToDeg")(a.pitch),yaw:b("radToDeg")(a.yaw)}};d.$SphericalViewportControl75=function(a){this.emit("sensorSetupError",{error:"SPHERICAL_GYROSCOPE_SETUP_FAILED",message:a})};d.isListening=function(a){return!this.$SphericalViewportControl70||Boolean(this.getSubscriptionKeyFromElement(a))};d.getSubscriptionKeyFromElement=function(a){__p&&__p();for(var b=this.$SphericalViewportControl30,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(e.element===a)return f}return null};d.addNewLayer=function(a){var c=this.getSubscriptionKeyFromElement(a);if(!c){c=b("uniqueID")();var d=new(b("SubscriptionsHandler"))();this.$SphericalViewportControl77(d,a);this.$SphericalViewportControl30.set(c,{handler:d,element:a})}return c};d.removeLayer=function(a){var b=this.$SphericalViewportControl30.get(a);b&&(b.handler.release(),this.$SphericalViewportControl30["delete"](a))};d.destroy=function(){this.removeAllListeners(),this.getSubscriptions().remove()};d.$SphericalViewportControl77=function(a,c){__p&&__p();var d=this;a.addSubscriptions((a=b("Event")).listen(c,"mousedown",function(a){return d.$SphericalViewportControl78(a)}),a.listen(c,"mouseenter",function(a){return d.$SphericalViewportControl79(a,c)}),a.listen(c,"mouseleave",function(a){return d.$SphericalViewportControl80(a,c)}),a.listen(c,"mousemove",function(a){return d.$SphericalViewportControl81(a)}),a.listen(c,"mouseup",function(a){return d.$SphericalViewportControl82(a)}),a.listen(c,"click",function(a){return d.$SphericalViewportControl83(a)}),a.listen(c,"keydown",function(a){return d.$SphericalViewportControl84(a)}),a.listen(c,"keyup",function(a){return d.$SphericalViewportControl85(a)}),a.listen(c,"blur",function(a){return d.$SphericalViewportControl86(a)}),a.listen(c,"touchstart",function(a){return d.$SphericalViewportControl87(a)}),a.listen(c,"touchmove",function(a){return d.$SphericalViewportControl88(a)}),a.listen(c,"touchend",function(a){return d.$SphericalViewportControl89(a)}),a.listen(c,"touchcancel",function(a){return d.$SphericalViewportControl89(a)}),{remove:function(){b("DOMEventListener").remove(c,"wheel",function(a){return d.$SphericalViewportControl90(a)},{passive:!1})}})};d.$SphericalViewportControl71=function(a){__p&&__p();this.$SphericalViewportControl91();this.$SphericalViewportControl7=this.$SphericalViewportControl34/this.$SphericalViewportControl35;var b=a.fieldOfView;this.$SphericalViewportControl46=Boolean(a.enableZoom);this.$SphericalViewportControl29=(a.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl16=(a.keyboardVelocityFactor||0)*1e3||80;a.partialLimits?(this.$SphericalViewportControl39=a.partialLimits,this.$SphericalViewportControl42=!0):(this.$SphericalViewportControl42=!1,this.$SphericalViewportControl39={partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null});this.$SphericalViewportControl40=this.$SphericalViewportControl39;this.$SphericalViewportControl41=1;this.$SphericalViewportControl63&&(this.$SphericalViewportControl42=!0);this.$SphericalViewportControl28={x:a.initialHeading,y:a.initialPitch};a=this.$SphericalViewportControl39;var c=a.partialTopDegrees;a=a.partialBottomDegrees;if(!this.$SphericalViewportControl63&&(c||c===0)&&(a||a===0)){c=c;a=a;var d=c+a;b>d&&(b=d,this.$SphericalViewportControl28.y=(c-a)/2)}this.$SphericalViewportControl11=this.$SphericalViewportControl92(b);this.$SphericalViewportControl12=this.$SphericalViewportControl11;this.$SphericalViewportControl93();this.$SphericalViewportControl26={x:this.$SphericalViewportControl28.x,y:this.$SphericalViewportControl28.y}};d.$SphericalViewportControl72=function(a){a===void 0&&(a={}),this.$SphericalViewportControl43=a.enableGyro||!1,this.$SphericalViewportControl44=a.slipFactor||0,this.$SphericalViewportControl47=a.springFactor||0,this.$SphericalViewportControl48=a.maxSpringDegrees||15,this.$SphericalViewportControl49=a.maxStretchXDegrees||20,this.$SphericalViewportControl50=a.maxStretchYDegrees||20,this.$SphericalViewportControl55=a.rubberBandConstant||0,this.$SphericalViewportControl54=a.enableRubberBanding||!1,this.$SphericalViewportControl67=a.enableZoomWithShiftKey||!1,this.$SphericalViewportControl68=a.enablePanningWithRightMouse||!1,this.$SphericalViewportControl60=a.disableAutoClientSizeUpdate||!1};d.reconfigure=function(a){this.$SphericalViewportControl71(a)};d.reconfigureControlConfig=function(a){a===void 0&&(a={}),this.$SphericalViewportControl72(a)};d.setEnableGyro=function(a){this.$SphericalViewportControl43=a};d.$SphericalViewportControl78=function(a){this.$SphericalViewportControl65&&this.$SphericalViewportControl94(),this.isListening(a.target)&&(this.$SphericalViewportControl19=!0,this.$SphericalViewportControl95(a))};d.$SphericalViewportControl87=function(a){this.$SphericalViewportControl62=!1,this.$SphericalViewportControl65&&this.$SphericalViewportControl94(),this.$SphericalViewportControl20?(this.$SphericalViewportControl96(a),this.$SphericalViewportControl20=!1):this.$SphericalViewportControl20=!0,this.$SphericalViewportControl95(a)};d.$SphericalViewportControl96=function(a){a.touches.length===2&&this.$SphericalViewportControl46&&(this.$SphericalViewportControl57=!0,this.$SphericalViewportControl58=this.$SphericalViewportControl97(a))};d.$SphericalViewportControl88=function(a){this.$SphericalViewportControl62=!0,this.$SphericalViewportControl57&&(this.$SphericalViewportControl98(a),this.$SphericalViewportControl46&&b("Event").kill(a))};d.$SphericalViewportControl98=function(a){a=this.$SphericalViewportControl97(a);var b=this.$SphericalViewportControl11*(this.$SphericalViewportControl58/a);b=b-this.$SphericalViewportControl11;this.$SphericalViewportControl99(b);this.$SphericalViewportControl58=a};d.$SphericalViewportControl97=function(a){var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;return Math.sqrt(Math.pow(b,2)+Math.pow(a,2))};d.$SphericalViewportControl89=function(a){this.$SphericalViewportControl62||(a.target.focus(a),this.$SphericalViewportControl83(a)),this.$SphericalViewportControl57?this.$SphericalViewportControl57=!1:this.$SphericalViewportControl20&&this.$SphericalViewportControl100(a)};d.$SphericalViewportControl95=function(a){this.emit("onMovementStart"),this.$SphericalViewportControl101(),this.$SphericalViewportControl102(a),this.$SphericalViewportControl103(a),this.$SphericalViewportControl68&&(a.which===3||a.button===2)&&(this.$SphericalViewportControl69=!0,this.$SphericalViewportControl15=!1),this.$SphericalViewportControl104(),a.preventDefault()};d.$SphericalViewportControl100=function(a){this.$SphericalViewportControl45&&!this.$SphericalViewportControl19&&(this.$SphericalViewportControl105(),this.$SphericalViewportControl45=!1)};d.$SphericalViewportControl106=function(a){this.$SphericalViewportControl65&&this.$SphericalViewportControl94()};d.$SphericalViewportControl107=function(a){this.$SphericalViewportControl103(a),this.$SphericalViewportControl14=!0,this.emit("updateViewportMove")};d.$SphericalViewportControl108=function(a){this.$SphericalViewportControl45&&(this.$SphericalViewportControl109(a),this.emit("updateViewportMove"))};d.$SphericalViewportControl101=function(){this.$SphericalViewportControl15=!1,this.$SphericalViewportControl45=!1,this.$SphericalViewportControl43=!1};d.$SphericalViewportControl110=function(a){this.$SphericalViewportControl103(a),this.$SphericalViewportControl111(),this.$SphericalViewportControl94(),this.$SphericalViewportControl105(),a.preventDefault()};d.$SphericalViewportControl94=function(a){var c=this;this.$SphericalViewportControl65=!1;b("queryThenMutateDOM")(function(){},function(){return c.$SphericalViewportControl32.style.cursor=""});this.$SphericalViewportControl20=!1;this.$SphericalViewportControl19=!1;this.$SphericalViewportControl69=!1;this.$SphericalViewportControl13.release();this.$SphericalViewportControl36&&(b("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36),this.$SphericalViewportControl36="")};d.$SphericalViewportControl112=function(a){if(this.$SphericalViewportControl20&&a.changedTouches)return a.changedTouches[0];else if(this.$SphericalViewportControl19)return a;else if(this.$SphericalViewportControl45)return a;return null};d.setMovementPosition=function(a){this.$SphericalViewportControl23=this.$SphericalViewportControl113(a)};d.$SphericalViewportControl113=function(a){a=this.$SphericalViewportControl112(a);return!a?this.$SphericalViewportControl23:{x:a.screenX,y:a.screenY}};d.$SphericalViewportControl114=function(a){a=this.$SphericalViewportControl112(a);return!a?this.$SphericalViewportControl24:{x:a.clientX,y:a.clientY}};d.$SphericalViewportControl102=function(a){__p&&__p();var c=this;this.$SphericalViewportControl65=!0;this.$SphericalViewportControl23=this.$SphericalViewportControl113(a);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl25=new(b("VelocityTracker"))();this.$SphericalViewportControl9=new(b("VelocityTracker"))(300);b("queryThenMutateDOM")(function(){},function(){return c.$SphericalViewportControl32.style.cursor=c.$SphericalViewportControl37});this.$SphericalViewportControl13.engage();a=this.$SphericalViewportControl10;this.$SphericalViewportControl20?this.$SphericalViewportControl13.addSubscriptions(b("Event").listen(a,"touchmove",function(a){return c.$SphericalViewportControl107(a)}),b("Event").listen(a,"touchend",function(a){return c.$SphericalViewportControl110(a)}),b("Event").listen(a,"touchcancel",function(a){return c.$SphericalViewportControl106(a)})):this.$SphericalViewportControl13.addSubscriptions(b("Event").listen(a,"mousemove",function(a){return c.$SphericalViewportControl107(a)}),b("Event").listen(a,"mouseup",function(a){return c.$SphericalViewportControl110(a)}),b("Event").listen(a,"mouseleave",function(a){return c.$SphericalViewportControl106(a)}))};d.$SphericalViewportControl109=function(a){this.$SphericalViewportControl115(a,this.$SphericalViewportControl44)};d.$SphericalViewportControl103=function(a){this.$SphericalViewportControl115(a,1)};d.reEnableGyro=function(){this.$SphericalViewportControl21={x:0,y:0},this.$SphericalViewportControl43=!0,this.$SphericalViewportControl45=!0,this.$SphericalViewportControl94()};d.$SphericalViewportControl115=function(a,b){var c=this.$SphericalViewportControl113(a),d=c.x-this.$SphericalViewportControl23.x,e=c.y-this.$SphericalViewportControl23.y,f=this.$SphericalViewportControl22?{x:0,y:0}:this.$SphericalViewportControl21;this.$SphericalViewportControl21={x:b*(c.x-this.$SphericalViewportControl23.x)+f.x,y:b*(c.y-this.$SphericalViewportControl23.y)+f.y};this.$SphericalViewportControl4.yaw+=d*this.$SphericalViewportControl5;this.$SphericalViewportControl4.pitch+=e*this.$SphericalViewportControl5;this.$SphericalViewportControl22=!1;this.$SphericalViewportControl23=c;this.$SphericalViewportControl25.update(c.x,c.y);this.$SphericalViewportControl24=this.$SphericalViewportControl114(a)};d.$SphericalViewportControl116=function(){var a=this.$SphericalViewportControl117(),b=-this.$SphericalViewportControl25.getVelocityX()*a;a=this.$SphericalViewportControl25.getVelocityY()*a;var c=this.$SphericalViewportControl45?this.$SphericalViewportControl44:1;this.$SphericalViewportControl118()&&(b=-b);return{x:b*c,y:a*c}};d.$SphericalViewportControl119=function(a,c){return b("radToDeg")(Math.atan(a/c))};d.$SphericalViewportControl120=function(a,b,c){return{x:this.$SphericalViewportControl119(a.x-this.$SphericalViewportControl34/2,c),y:-this.$SphericalViewportControl119(a.y-this.$SphericalViewportControl35/2,b)}};d.$SphericalViewportControl121=function(a,c){__p&&__p();var d={x:a.x-c.x,y:a.y-c.y},e=this.$SphericalViewportControl35/(2*Math.tan(b("degToRad")(this.getVerticalFieldOfView()/2))),f=e*Math.cos(b("degToRad")(this.$SphericalViewportControl26.y));f=f-(this.$SphericalViewportControl35/2-a.y)*Math.sin(b("degToRad")(this.$SphericalViewportControl26.y));if(this.$SphericalViewportControl26.y==-90&&c.y<0||this.$SphericalViewportControl26.y==90&&c.y>0){c=this.$SphericalViewportControl119(d.y-this.$SphericalViewportControl35/2,d.x-this.$SphericalViewportControl34/2);var g=this.$SphericalViewportControl119(a.y-this.$SphericalViewportControl35/2,a.x-this.$SphericalViewportControl34/2);g=g-c;g>90?g=180-g:g<-90&&(g=180+g);return{x:g*Math.sign(this.$SphericalViewportControl26.y),y:0}}else{c=this.$SphericalViewportControl120(d,e,f);g=this.$SphericalViewportControl120(a,e,f);return{x:c.x-g.x,y:c.y-g.y}}};d.$SphericalViewportControl118=function(){var a=this.$SphericalViewportControl33?this.$SphericalViewportControl33.top:b("getElementRect")(this.$SphericalViewportControl32).top;a=this.$SphericalViewportControl24.y-a;var c=this.$SphericalViewportControl35/(2*Math.tan(b("degToRad")(this.getVerticalFieldOfView()/2)));c=-c/Math.tan(b("degToRad")(this.$SphericalViewportControl26.y))+this.$SphericalViewportControl35/2;a=a>c&&this.$SphericalViewportControl26.y<0||a<c&&this.$SphericalViewportControl26.y>0;return a};d.$SphericalViewportControl111=function(){__p&&__p();if(this.$SphericalViewportControl69){var a={x:0,y:0};this.$SphericalViewportControl22||(this.$SphericalViewportControl22=!0,a.x=this.$SphericalViewportControl21.x/this.$SphericalViewportControl34,a.y=this.$SphericalViewportControl21.y/this.$SphericalViewportControl35);return a}a={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=!0;var b=this.$SphericalViewportControl33,c=this.$SphericalViewportControl24.x<b.left,d=this.$SphericalViewportControl24.x>b.right,e=this.$SphericalViewportControl24.y<b.top,f=this.$SphericalViewportControl24.y>b.bottom;this.$SphericalViewportControl122(c,d,e,f);b={x:this.$SphericalViewportControl24.x-b.left,y:this.$SphericalViewportControl24.y-b.top};!c&&!d?a.x=this.$SphericalViewportControl121(b,this.$SphericalViewportControl21).x:a.x=-this.$SphericalViewportControl21.x*this.$SphericalViewportControl117()*t;!e&&!f?a.y=this.$SphericalViewportControl121(b,this.$SphericalViewportControl21).y:a.y=this.$SphericalViewportControl21.y*this.$SphericalViewportControl117()*t}this.$SphericalViewportControl9.updateVelocity(0,0);return this.$SphericalViewportControl123(a)};d.$SphericalViewportControl123=function(a){__p&&__p();if(!this.$SphericalViewportControl54||!this.$SphericalViewportControl42)return a;var b=this.$SphericalViewportControl26,c=b.x;b=b.y;var d=this.$SphericalViewportControl40,e=d.partialLeftDegrees,f=d.partialRightDegrees,g=d.partialTopDegrees;d=d.partialBottomDegrees;var h=a.x;a=a.y;var i=c+h;b=b+a;var j=!0,k=!0;if(this.$SphericalViewportControl63){var l=this.$SphericalViewportControl39.partialLeftDegrees,m=this.$SphericalViewportControl39.partialRightDegrees,n=this.$SphericalViewportControl41===0;(i<180&&h<0||i>180&&h>0)&&(i=c-h);(l!=null||!n)&&e!=null&&(j=e<0?(i<180?i+360:i)>360-e:i>360-e);(m!=null||!n)&&f!=null&&(k=f<0?(i<180?i+360:i)<360+f:(i>180?360-i:i)<f);c=g!=null?b<g:!0;l=d!=null?b>-d:!0}else{m=this.getVerticalFieldOfView();n=this.getHorizontalFieldOfView();var o=i<180?i+360:i;i=i>180?i-360:i;j=e!=null?o>360-e+n/2:!0;k=f!=null?i<f-n/2:!0;c=g!=null?b<g-m/2:!0;l=d!=null?b>-d+m/2:!0}!j&&!k&&(h*=this.$SphericalViewportControl55);(!c||!l)&&(a*=this.$SphericalViewportControl55);return{x:h,y:a}};d.$SphericalViewportControl79=function(a,c){b("DOMEventListener").add(c,"wheel",this.$SphericalViewportControl90,{passive:!1}),this.emit("mouseEnter"),this.$SphericalViewportControl19?this.$SphericalViewportControl9=new(b("VelocityTracker"))(300):this.$SphericalViewportControl43&&this.$SphericalViewportControl44&&(this.$SphericalViewportControl9=new(b("VelocityTracker"))(300),this.$SphericalViewportControl45=!0,this.$SphericalViewportControl23=this.$SphericalViewportControl113(a),this.$SphericalViewportControl21={x:0,y:0},this.$SphericalViewportControl104())};d.$SphericalViewportControl80=function(a,c){b("DOMEventListener").remove(c,"wheel",this.$SphericalViewportControl90,{passive:!1}),this.emit("mouseLeave",a),this.$SphericalViewportControl100(a)};d.$SphericalViewportControl81=function(a){this.emit("mouseMove",a),this.$SphericalViewportControl43&&this.$SphericalViewportControl108(a)};d.$SphericalViewportControl82=function(a){this.emit("mouseUp",a)};d.$SphericalViewportControl83=function(a){__p&&__p();if(this.isListening(a.target)){a.target.focus();var c=b("Parent").bySelector(a.target,"._24cp");if(!this.$SphericalViewportControl14){this.emit("DOM/click",a);if(c)return!0}this.$SphericalViewportControl14=!1}return!1};d.$SphericalViewportControl99=function(a){a=this.setFieldOfView(this.$SphericalViewportControl11+a);a&&this.$SphericalViewportControl56()};d.disableKeyboard=function(){this.$SphericalViewportControl27=!0};d.enableKeyboard=function(){this.$SphericalViewportControl27=!1};d.$SphericalViewportControl84=function(a){a=this.$SphericalViewportControl125(a);if(a&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[a]=1;this.$SphericalViewportControl18||(this.$SphericalViewportControl18=!0,this.$SphericalViewportControl101(),this.$SphericalViewportControl104(),this.emit("updateViewportMove"));return!1}return!0};d.$SphericalViewportControl85=function(a){__p&&__p();a=this.$SphericalViewportControl125(a);if(a&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[a]=0;a=!1;for(var b in this.$SphericalViewportControl17)if(Object.prototype.hasOwnProperty.call(this.$SphericalViewportControl17,b)&&this.$SphericalViewportControl17[b]>0){a=!0;break}this.$SphericalViewportControl18=a;return!1}return!0};d.$SphericalViewportControl105=function(){var a=this.$SphericalViewportControl116();this.$SphericalViewportControl9=new(b("VelocityTracker"))(300,a)};d.$SphericalViewportControl104=function(){__p&&__p();var a=this;if(!this.$SphericalViewportControl15){this.$SphericalViewportControl60&&this.$SphericalViewportControl126();this.$SphericalViewportControl15=!0;this.$SphericalViewportControl8.updateVelocity(0,0);this.emit("updateViewportBegin",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y);var c=this.once("updateViewportMove",function(){return a.emit("updateViewportMoveStart",a.$SphericalViewportControl45)});this.once("updateViewportEnd",function(){return c.remove()});this.$SphericalViewportControl59=(j||(j=b("performanceNow")))();if(this.$SphericalViewportControl69){this.$SphericalViewportControl66&&cancelAnimationFrame(this.$SphericalViewportControl66);this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl127);return}this.$SphericalViewportControl66||(this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl128))}};d.$SphericalViewportControl126=function(){this.$SphericalViewportControl33=b("getElementRect")(this.$SphericalViewportControl32)};d.updateViewportClientSize=function(a){this.$SphericalViewportControl34=a.width,this.$SphericalViewportControl35=a.height};d.updateMinVFOV=function(a){this.$SphericalViewportControl51=Math.max(n,Math.min(o,a))};d.updateMaxVFOV=function(a){this.$SphericalViewportControl52=a};d.updateMaxHFOV=function(a){this.$SphericalViewportControl53=a};d.$SphericalViewportControl91=function(){this.$SphericalViewportControl33=b("getElementRect")(this.$SphericalViewportControl32),this.$SphericalViewportControl34=this.$SphericalViewportControl32.clientWidth||1,this.$SphericalViewportControl35=this.$SphericalViewportControl32.clientHeight||1};d.setAngularVelocityScaleFactor=function(a){this.$SphericalViewportControl64=a};d.$SphericalViewportControl130=function(){__p&&__p();var a=180,b=0,c=this.$SphericalViewportControl40,d=c.partialLeftDegrees;c=c.partialRightDegrees;d!=null&&c!=null&&(a=(c-d)/2+180);if(this.$SphericalViewportControl63){var e=this.$SphericalViewportControl39.partialLeftDegrees,f=this.$SphericalViewportControl39.partialRightDegrees,g=this.$SphericalViewportControl41===0;if((e!=null||!g)&&d!=null){e=d<0&&this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;if(e>a){e=360-d-e;e>0&&(b=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}if((f!=null||!g)&&c!=null){e=c<0&&this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(e<a){f=c-e;f<0&&(b=Math.max(f,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}}else{g=this.getHorizontalFieldOfView();e=this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;f=this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(d!=null&&c!=null&&d+c<g){var h=(c-d)/2-f;h>0?b=Math.min(h,this.$SphericalViewportControl48)*this.$SphericalViewportControl47:h<0&&(b=Math.max(h,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47);return Math.abs(b)<r?0:b}if(d!=null&&e>=a){h=360-d+g/2-e;h>0&&(b=Math.min(h,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null&&f<=a){d=c-g/2-f;d<0&&(b=Math.max(d,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}return Math.abs(b)<r?0:b};d.$SphericalViewportControl131=function(){__p&&__p();var a=0,b=0,c=this.$SphericalViewportControl40,d=c.partialTopDegrees;c=c.partialBottomDegrees;if(this.$SphericalViewportControl63){if(c!=null&&d!=null){if(c<0&&d<-c||d<0&&-d>c)return 0;b=(d-c)/2}if(d!=null&&this.$SphericalViewportControl26.y>b){var e=d-this.$SphericalViewportControl26.y;e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null&&this.$SphericalViewportControl26.y<b){e=-c-this.$SphericalViewportControl26.y;e>0&&(a=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}else{b=this.getVerticalFieldOfView();if(c!=null&&d!=null&&c+d<b){e=(d-c)/2-this.$SphericalViewportControl26.y;e>0?a=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47:e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47);return Math.abs(a)<r?0:a}if(d!=null){e=d-b/2-this.$SphericalViewportControl26.y;e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null){d=-c+b/2-this.$SphericalViewportControl26.y;d>0&&(a=Math.min(d,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}return Math.abs(a)<r?0:a};d.$SphericalViewportControl122=function(a,c,d,e){var f="";if(a||c||d||e){a=a?"Left":c?"Right":"";c=d?"Up":e?"Down":"";f=v[c+a]}this.$SphericalViewportControl36!=f&&(this.$SphericalViewportControl36&&(b("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36),this.$SphericalViewportControl36=""),f&&(this.$SphericalViewportControl36=f,b("CSS").addClass(this.$SphericalViewportControl10,f)))};d.getSubscriptions=function(){var a=this;return{remove:function(){a.$SphericalViewportControl30.forEach(function(a){a=a.handler;return a.release()}),a.$SphericalViewportControl30.clear(),a.$SphericalViewportControl13.release()}}};d.$SphericalViewportControl86=function(a){for(var b in this.$SphericalViewportControl17)this.$SphericalViewportControl17[b]=0;this.$SphericalViewportControl18=!1};d.getOrientation=function(){return this.$SphericalViewportControl26};d.$SphericalViewportControl93=function(a){if(this.$SphericalViewportControl63){a=a!=null?a:this.getVerticalFieldOfView();var c=this.getAspectRatio();this.$SphericalViewportControl40=b("SphericalPhotoProjectionUtils").getPartialLimits(a,c,this.$SphericalViewportControl39);this.$SphericalViewportControl41=b("SphericalPhotoProjectionUtils").getZoomProgress(a,this.$SphericalViewportControl39,c)}};d.$SphericalViewportControl133=function(a,b){__p&&__p();a=(a+360)%360;b=Math.max(-90,Math.min(90,b));if(!this.$SphericalViewportControl42)return{x:a,y:b};var c=this.$SphericalViewportControl39.partialLeftDegrees,d=this.$SphericalViewportControl39.partialRightDegrees,e=this.$SphericalViewportControl41===0,f=this.$SphericalViewportControl40.partialLeftDegrees,g=this.$SphericalViewportControl40.partialRightDegrees,h=this.$SphericalViewportControl40.partialTopDegrees,i=this.$SphericalViewportControl40.partialBottomDegrees,j=this.getVerticalFieldOfView(),k=this.getHorizontalFieldOfView(),l=0,m=0;if(this.$SphericalViewportControl63)this.$SphericalViewportControl54&&(f!=null&&g!=null&&(l=Math.min(Math.abs((f+g)/2),this.$SphericalViewportControl49)),h!=null&&i!=null&&h>=-i&&(m=Math.min(Math.abs((h+i)/2),this.$SphericalViewportControl50))),(c!=null||!e)&&f!=null&&(f<0?a=Math.max(a>180?a:a+360,360-f-l)%360:a>180&&(a=Math.max(a,360-f-l))),(d!=null||!e)&&g!=null&&(g<0?a=Math.min(a<180?a+360:a,360+g+l)%360:a<180&&(a=Math.min(a,g+l))),h!=null&&(i!=null&&h<0&&-h>i?b=Math.min(b,-i):b=Math.min(b,h+m)),i!=null&&(h!=null&&i<0&&h<-i?b=Math.max(b,h):b=Math.max(b,-i-m));else{this.$SphericalViewportControl54&&(l=this.$SphericalViewportControl49,m=this.$SphericalViewportControl50);if(f!=null&&g!=null&&f+g<k){c=(g-f)/2;d=a>180?a-360:a;d<c?a=Math.max(d,c-l):a=Math.min(d,c+l)}else f!=null&&(a=a<=180?a:Math.max(a,360-f+k/2-l)),g!=null&&(a=a>=180?a:Math.min(a,g-k/2+l));if(h!=null&&i!=null&&h+i<j){e=(h-i)/2;b<e?b=Math.max(b,e-m):b=Math.min(b,e+m)}else h!=null&&(b=Math.min(b,h-j/2+m)),i!=null&&(b=Math.max(b,-i+j/2-m))}return{x:a,y:b}};d.setInitialOrientation=function(){var a=this.$SphericalViewportControl133(0,0),b=a.x;a=a.y;var c=!Number.isNaN(b+a)&&(b!==this.$SphericalViewportControl26.x||a!==this.$SphericalViewportControl26.y);c&&(this.$SphericalViewportControl26={x:b,y:a},this.emit("initialViewportChange",b,a),this.emit("viewportChange",b,a,this.$SphericalViewportControl11))};d.setSphericalOrientation=function(a,b){a===null&&(a=this.$SphericalViewportControl26.x);b===null&&(b=this.$SphericalViewportControl26.y);typeof a==="number"&&typeof b==="number"||i(0,4346);a=this.$SphericalViewportControl133(a,b);b=a.x;a=a.y;var c=!Number.isNaN(b+a)&&(b!==this.$SphericalViewportControl26.x||a!==this.$SphericalViewportControl26.y);c&&(this.$SphericalViewportControl26={x:b,y:a},this.emit("viewportChange",b,a,this.$SphericalViewportControl11))};d.setRelativeSphericalOrientation=function(a,b){this.setSphericalOrientation(a+this.$SphericalViewportControl28.x,b+this.$SphericalViewportControl28.y)};d.$SphericalViewportControl132=function(a,b){this.setSphericalOrientation(this.$SphericalViewportControl26.x+a,this.$SphericalViewportControl26.y+b)};d.$SphericalViewportControl92=function(a){__p&&__p();if(this.$SphericalViewportControl63){var c=b("SphericalPhotoProjectionUtils").getMaxVfov(this.$SphericalViewportControl39,this.getAspectRatio());return Math.min(c,Math.max(this.$SphericalViewportControl51,a))}else{c=Math.min(b("calculateVFOVFromHFOV")(this.$SphericalViewportControl53,this.getAspectRatio()),this.$SphericalViewportControl52);if(this.$SphericalViewportControl42&&this.$SphericalViewportControl39){var d=this.$SphericalViewportControl39.partialTopDegrees||this.$SphericalViewportControl39.partialTopDegrees===0,e=this.$SphericalViewportControl39.partialBottomDegrees||this.$SphericalViewportControl39.partialBottomDegrees===0;if(d&&e){d=this.$SphericalViewportControl39.partialTopDegrees||0;e=this.$SphericalViewportControl39.partialBottomDegrees||0;c=Math.min(c,d+e)}}return Math.min(c,Math.max(this.$SphericalViewportControl51,a))}};d.setFieldOfView=function(a){__p&&__p();var c=this.$SphericalViewportControl11;a=this.$SphericalViewportControl92(a);this.$SphericalViewportControl93(a);var d=this.$SphericalViewportControl40,e=d.partialTopDegrees,f=d.partialBottomDegrees,g=d.partialLeftDegrees;d=d.partialRightDegrees;var h=e||e===0,i=f||f===0,j=g||g===0,k=d||d===0,l=g||d;e=e||0;f=f||0;g=g||0;d=d||0;var m=!1,n=this.$SphericalViewportControl26.x,o=this.$SphericalViewportControl26.y;if(this.$SphericalViewportControl63){e=h?e:90;f=i?f:90;g=j?g:180;d=k?d:180;-o>f&&(f<0&&e<-f?o=e:o=-f,m=!0);o>e&&(e<0&&e<-f?o=-f:o=e,m=!0);j=((d-g)/2+180)%360;n>j&&360-n>g&&(n=360-g,m=!0);n<j&&n>d&&(n=d,m=!0)}else{k=b("calculateHFOVFromVFOV")(a,this.getAspectRatio());i&&a/2-o>f&&(o=a/2-f,m=!0);h&&o+a/2>e&&(o=e-a/2,m=!0);h&&i&&e+f<a&&(o=(e-f)/2,m=!0);if(l){j=((d-g)/2+180)%360;n>j&&k/2+360-n>g&&(n=360+k/2-g,m=!0);n<j&&n+k/2>d&&(n=d-k/2,m=!0);g+d<k&&(n=(d-g)/2%360,m=!0)}}!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20&&m&&!Number.isNaN(n+o)&&(this.$SphericalViewportControl54?this.$SphericalViewportControl66||(this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl128)):this.$SphericalViewportControl26={x:n,y:o});if(!Number.isNaN(a)&&c!==a||m){this.$SphericalViewportControl11=a;this.emit("viewportChange",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y,a);return!0}return!1};d.getVerticalFieldOfView=function(){return this.$SphericalViewportControl11};d.getAspectRatio=function(){return this.$SphericalViewportControl32&&this.$SphericalViewportControl34&&this.$SphericalViewportControl35?this.$SphericalViewportControl34/this.$SphericalViewportControl35:this.$SphericalViewportControl7};d.getHorizontalFieldOfView=function(){return b("calculateHFOVFromVFOV")(this.$SphericalViewportControl11,this.getAspectRatio())};d.setPreventScrollDefaultAction=function(a){this.$SphericalViewportControl38=a};d.setEnableZoom=function(a){this.$SphericalViewportControl46=a,a||this.setFieldOfView(this.$SphericalViewportControl12)};d.updateViewport=function(a,b,c){this.$SphericalViewportControl26={x:a,y:b},this.$SphericalViewportControl11=this.$SphericalViewportControl92(c),this.$SphericalViewportControl93()};d.isUpdating=function(){return this.$SphericalViewportControl15};d.$SphericalViewportControl129=function(){var a=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.right-this.$SphericalViewportControl17.left),b=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.up-this.$SphericalViewportControl17.down);this.$SphericalViewportControl8.updateVelocity(a,b)};d.$SphericalViewportControl125=function(a){__p&&__p();a=b("Event").getKeyCode(a);var c=null;switch(a){case b("Keys").LEFT:case u.A:c="left";break;case b("Keys").UP:case u.W:c="up";break;case b("Keys").RIGHT:case u.D:c="right";break;case b("Keys").DOWN:case u.S:c="down";break}return c};d.$SphericalViewportControl117=function(){return this.$SphericalViewportControl11/this.$SphericalViewportControl35};d.$SphericalViewportControl73=function(){var a="grabbing";b("UserAgent").isEngine("WebKit")?a="-webkit-"+a:b("UserAgent").isEngine("Gecko")&&(a="-moz-"+a);return a};return c}(b("EventEmitter"));e.exports=a}),null);
__d("EllipsisText.react",["cx","DOMContainer.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children instanceof Node?b("React").jsx(b("DOMContainer.react"),{children:a.children}):a.children;return b("React").jsx("span",{id:a.id,className:b("joinClasses")(a.className,"_6i6a"),children:c})}e.exports=a}),null);
__d("SphericalMediaCanvasPool",["DOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h="default",i=function(a,b){return a+b};a=function(){__p&&__p();function a(){this.$2=new Map(),this.$3=new Map(),this.$1=null}var c=a.prototype;c.setLimit=function(a,b){b===void 0&&(b=h);var c=this.$3.get(b)||{queue:[],limit:1};c.limit=a;this.$3.set(b,c)};c.release=function(a,b){__p&&__p();b===void 0&&(b=h);a=i(a,b);var c=this.$2.get(a);if(!c)return!1;b=this.$3.get(b);if(!b||b.queue.length===0)return!1;b.queue.splice(b.queue.indexOf(a),1);c.canvas.parentNode&&c.canvas.parentNode.removeChild(c.canvas);return this.$2["delete"](a)};c.get=function(a,c,d){__p&&__p();d===void 0&&(d=h);var e=babelHelpers["extends"]({},c.canvasAttrs);if(!a||!c.beforeCanvasLost)throw new Error("Missing required arguments.");var f=i(a,d);e["data-id"]=e["data-id"]||a;a=this.$2.get(f);if(a)return a.canvas;a=this.$3.get(d)||{queue:[],limit:g};var j;if(a.queue.length<a.limit)j=b("DOM").create("canvas",e);else{var k=a.queue.shift(),l=this.$2.get(k);if(!l)throw new Error("Canvas pool could not find the item",k);j=l.canvas;l.beforeCanvasLost();this.$2["delete"](k);j.className=e.className;j.height=e.height;j.width=e.width;j.tabIndex=e.tabIndex;j.setAttribute("data-id",e["data-id"])}if(!j)throw new Error("Failed to get a canvas.");a.queue.push(f);this.$3.set(d,a);this.$2.set(f,{canvas:j,beforeCanvasLost:c.beforeCanvasLost});return j};return a}();e.exports=new a()}),null);