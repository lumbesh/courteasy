if (self.CavalryLogger) { CavalryLogger.start_js(["mcDZv"]); }

__d("AdsCarteAccordionDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedIndex:null}};e.exports=a}),null);
__d("AdsCarteAccordionDataProvider",["Laminar","AdsCarteAccordionDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCarteAccordionDataProviderPlugin"),"AdsCarteAccordionDataProviderPlugin")}),null);
__d("AdsExistingPostCTAProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("immutable").Map()};c={initialState:a()};e.exports=c}),null);
__d("AdsExistingPostCTAProvider",["Laminar","AdsExistingPostCTAProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExistingPostCTAProviderPlugin"),"AdsExistingPostCTAProviderPlugin")}),null);
__d("XMessengerAdsExistingPostCTASelectorEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/using_existing_post_cta_eligibility/",{post_id:{type:"FBID"}})}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataManager",["Promise","AsyncRequest","XMessengerAdsExistingPostCTASelectorEligibilityController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getEligibility=function(a){var c=b("XMessengerAdsExistingPostCTASelectorEligibilityController").getURIBuilder().setFBID("post_id",a).getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b=b.payload;b.error?d(new Error(b.error)):a(b)}).setErrorHandler(function(a){d(a)}).send()})};return a}();e.exports=new a()}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin",["AdsMessengerExistingPostCTASelectorEligibilityDataManager","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){var d=new Map();c.forEach(function(a){return d.set(a,b("AdsMessengerExistingPostCTASelectorEligibilityDataManager").getEligibility(a))});b("promiseDone")(b("promiseLoadObjects")(d),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataProvider",["Laminar","AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin"),"AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin")}),null);
__d("AdsPageRestrictedDataBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.RESTRICTED_DATA.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsPageRestrictedDataBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.RESTRICTED_DATA.BATCH_LOAD_ERROR"}}),null);
__d("AdsPageRestrictedDataBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.RESTRICTED_DATA.BATCH_LOADED");e.exports=a}),null);
__d("AdsPageRestrictedDataBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.RESTRICTED_DATA.BATCH_LOADED"}}),null);
__d("CarteSelectedDimensionsDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedDimensions:b("immutable").Set()}};e.exports=a}),null);
__d("CarteSelectedDimensionsDataProvider",["Laminar","CarteSelectedDimensionsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CarteSelectedDimensionsDataProviderPlugin"),"CarteSelectedDimensionsDataProviderPlugin")}),null);
__d("AdsPageRestrictedDataManager",["Promise","AdsBaseDataManager","AdsGraphAPI","AdsPagePostUtils","AdsPageRestrictedDataBatchLoadedDataAction","AdsPageRestrictedDataBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["tabs"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPagePromise=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).batched().get({access_token:c,fields:g})};d.loadAll=function(a){var c=this;b("promiseDone")(b("AdsPagePostUtils").fetchAccessTokensForPageIDs(a).then(function(a){return b("Promise").all(Array.from(a).map(function(a){return c.getPagePromise(a[0],a[1])}))}),function(a){return a.forEach(function(a){c.__handleSuccess(["load"],a.id,null,a)})},function(b){return a.forEach(function(a){c.__handleError(["load"],a,null,b)})})};d.__onBatchLoaded=function(a){b("AdsPageRestrictedDataBatchLoadedDataAction").dispatch({pages:a},{line:"59",module:"AdsPageRestrictedDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsPageRestrictedDataBatchLoadErrorDataAction").dispatch({errors:a},{line:"65",module:"AdsPageRestrictedDataManager.js"})};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsCarouselPlacementAssetSelectorSelectors",["AdsAPIAdAssetFeedCarouselFields","AdsAssetFeedUtils","AdsEditorMPAConstants","AdsImageIDUtils","AdsImageInfoStore","AdsLoadObjectUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsVideoStore","LoadObject","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","immutable","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;function h(a,c,d,e,f,g){__p&&__p();var h=c.get("video_id"),i=c.get("image_hash");c=c.get("image_url");if(h!=null&&h!=b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID){d=d(h);return b("LoadObject").withValue({captionIDs:[],format:"video",thumbnailUrl:null,video:d})}else{h=b("AdsImageIDUtils").getImageID({accountID:a.account_id,hash:i,url:c});if(h!=null)return b("AdsLoadObjectUtils").all([e(h),f(h),g(h).mapValue(function(a){a=a.url;return a})]).mapValue(function(a){var b=a[0],c=a[1];a=a[2];return{format:"image",hash:i,height:b.getTyped().height,name:c,thumbnailURL:a,url:b.getTyped().url,width:b.getTyped().width}})}}a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("AdsVideoStore").getSelector,b("AdsImageInfoStore").getFullSizeSelector,b("AdsImageInfoStore").getNameSelector,b("AdsImageInfoStore").getThumbnailURLSelector],function(a,c,d,e,f,i){__p&&__p();var j;c=c[0];if(c==null)return null;var k=g(c);j=(j=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(c.adgroup,k))!=null?j:b("immutable").List();j=j.map(function(b){var c;return{description:(c=b.get("description"))!=null?c:"",headline:(c=b.get("name"))!=null?c:"",link:(c=b.get("link"))!=null?c:"",media:h(a,b,d,e,f,i)}});return{cards:j.toArray(),format:"carousel",multiShareEndCard:!!b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(c.adgroup,k),multiShareOptimized:!!b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(c.adgroup,k)}},{name:e.id+".adsUEditorAdgroupCarouselPACNonAssetFeedSelector"});c=b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(function(a,c){if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)){var d;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:(d=d.carousels)==null?void 0:d.first();if(d!=null)return!!d.get(b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_OPTIMIZED);else b("recoverableViolation")("carousels should contain more than one element","csol_pac");return!1}return!!b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(a,c)});e.exports={adsUEditorAdgroupCarouselPACNonAssetFeedSelector:a,multiShareOptimizedSelector:c}}),null);
__d("adsCreateMapSelector",["AdsSelectorUtils","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("immutable").Map();return b("adsCreateStoreSelector")(function(d){return b("AdsSelectorUtils").getStores([a,c],d)},function(b){__p&&__p();var d=new Set(a(b));e=e.withMutations(function(a){__p&&__p();for(var b=a.keySeq(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;d.has(g)||a["delete"](g)}for(var g=d,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;b=g[e++]}else{e=g.next();if(e.done)break;b=e.value}b=b;var h=c(b);a.set(b,h)}});return e},{name:d})}e.exports=a}),null);
__d("AdsImageAssetSelectors",["invariant","AdsAssetSelectorsUtils","AdsImageDimensionProvider","AdsImageIDClasses","AdsImageInfoStore","AdsShutterstockImageByIDStore","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","LoadObject","ShutterstockImageUtils","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsImageDimensionProvider").toFluxStore(),j=b("AdsImageIDClasses").AdsAccountImageID,k=b("AdsImageIDClasses").AdsBusinessImageID,l=b("AdsImageIDClasses").AdsExternalImageID;function m(a,b,c){if(!b.hasValue())return null;b=b.getValueEnforcing();var d=b.width;b=b.height;c=c!=null?{stockImageID:c,thumbHeight:b,thumbWidth:d,previewUrl:a,previewHeight:b,previewWidth:d}:null;return babelHelpers["extends"]({},c,{format:"image",hash:null,name:null,url:a,width:d,height:b})}function n(a,b,c,d){return!b.hasValue()?null:{format:"image",hash:a,name:c.hasValue()?c.getValueEnforcing():null,url:b.getValueEnforcing().get("url"),width:b.getValueEnforcing().get("width"),height:b.getValueEnforcing().get("height"),stockImageID:null,isSphericalPhoto:b.getValueEnforcing().get("isSphericalPhoto"),thumbnailURL:d.hasValue()?d.getValueEnforcing():null}}c=(a=b("adsCreateStoreSelector"))([],function(a){return a.assetImageIDs},{name:e.id+".imageAssetIDsSelector"});d=b("adsCreateSelector")([c],function(a){return a?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});f=a([b("AdsShutterstockImageByIDStore")],function(a){if(a instanceof l){a=a.getUrl();if(b("ShutterstockImageUtils").isStockImageURL(a)){a=b("ShutterstockImageUtils").urlToID(a);return b("AdsShutterstockImageByIDStore").get(a)}}return null},{name:e.id+".shutterstockImageSelector"});var o=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSize(a)},{name:e.id+".fullSizeImageSelector"}),p=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getName(a)},{name:e.id+".imageNameSelector"}),q=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getThumbnailURL(a)},{name:e.id+".thumbnailURLSelector"}),r=a([i],function(a){if(a instanceof l){a=a.getUrl();if(!b("ShutterstockImageUtils").isStockImageURL(a))return i.getState().get(a)}return null},{name:e.id+".imageDimensionsSelector"}),s=(h=b("adsCreateMapSelector"))(d,f,e.id+".shutterstockImageMapSelector");f=h(d,o,e.id+".fullSizeImageMapSelector");var t=h(d,q,e.id+".thumbnailURLMapSelector"),u=h(d,p,e.id+".imageNameMapSelector");h=h(d,r,e.id+".imageDimensionsMapSelector");function v(a){return!!a&&(a.isLoading()||a.isEmpty())}d=a([].concat(s.getStores(),[i]),function(a){__p&&__p();var c=s(a);if(c.some(v))return b("LoadObject").loading();var d=b("immutable").Map().asMutable();if(a.assetImageIDs)for(var a=a.assetImageIDs.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=c.get(g);!h?d.set(g,null):d.set(g,i.getState().get(h.getValueEnforcing().preview_url))}return b("LoadObject").withValue(d.asImmutable())},{name:e.id+".shutterstockImageDimensionsMapSelector"});a=b("adsCreateSelector")([c,f,u,h,s,d,t],function(a,c,d,e,f,h,i){__p&&__p();if(a==null||a.isEmpty())return b("LoadObject").withValue(null);if(h.isLoading())return b("LoadObject").loading();var o=h.getValueEnforcing();if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||i.some(function(a){return a.isLoading()})||e.some(v)||f.some(v)||o.some(v))return b("LoadObject").loading();h=a.map(function(a){__p&&__p();if(a instanceof j||a instanceof k){var h=i.get(a).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a}),p=a.getHash(),q=c.get(a),r=d.get(a);return n(p,q,r,h)}else if(a instanceof l){p=a.getUrl();q=e.get(a);r=null;if(b("ShutterstockImageUtils").isStockImageURL(p)){h=f.get(a);h||g(0,3113);h=h.getValueEnforcing();p=h.preview_url;q=o.get(a);r=h.id}q!=null||g(0,3114);return m(p,q,r)}else return null});return b("LoadObject").withValue(b("AdsAssetSelectorsUtils").compactMap(h))},{name:e.id+".imageAssetsSelector"});f=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash);e.exports={assetFeedBulkImageHashSelector:f,fullSizeImageSelector:o,getAssetForAccountImage:n,getAssetForExternalImage:m,imageAssetsSelector:a,imageAssetIDsSelector:c,imageDimensionsSelector:r,imageNameSelector:p,thumbnailURLSelector:q}}),null);
__d("adsUEditorDevicePlatformsSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return a.campaign.targeting.device_platforms});return a.length!==1||a[0]==null?null:a[0].toArray()},{name:e.id+".adsUEditorDevicePlatformsSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationDefaultCoverageSelector",["AdsAPIAdgroupPaths","AdsBulkValueUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var g=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList,h=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements;c=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);d=b("adsCreateSelector")([c,a],function(a,c){__p&&__p();if(a==null||a instanceof b("AdsMixedValue")||c==null)return null;a=b("AdsBulkValueUtils").getUniformValue(a,b("immutable").List());if(a==null)return null;var d=h(a);if(d==null)return null;d=g(d);if(!d.isEmpty())return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d).toArray();var e=a.map(function(a){return g(a)}).filter(Boolean).flatten();d=c.placementsByAssetGroup.valueSeq().toList().flatten().filter(function(a){return e.find(function(b){var c=b.platform;b=b.position;return a.platform===c&&a.position===b})==null});return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d).toArray()},{name:e.id+".adsUEditorPlacementCustomizationDefaultCoverageSelector"});e.exports=d}),null);
__d("AdsImagePlacementAssetCustomizationSelectors",["AdsAccountStore","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsBulkValueUtils","AdsDCODegreesOfFreedomUtils","AdsImageAssetSelectors","AdsImageLegacy","AdsMixedValue","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupCreativeFormat","AdsUEditorCampaignSelectors","AdsUnifiedCreativeAPIFields","AdsUniformValue","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsAccountGK","adsContainsAssetCustomizationPlacement","adsCreateSelector","adsCreateStoreSelector","adsGetUniformValueSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorDevicePlatformsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","first","immutable","isFalsey","nullthrows","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k=b("AdsAssetFeedConstant").ADLABELS;a=b("AdsImageAssetSelectors").assetFeedBulkImageHashSelector;var l=b("AdsImageAssetSelectors").imageAssetsSelector;d=(c=b("AdsPlacementAssetCustomizationSelectors")).adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;f=c.adsUEditorPACBodyAssetInfoByMediaAssetLabel;var m=c.adsUEditorPACCustomizedImageAssetLabelSelector,n=c.adsUEditorPACHeadlineAssetInfoByMediaAssetLabel,o=c.adsUEditorPACUrlAssetInfoByMediaAssetLabel,p=c.candidateAssetGroupSelector;c=c.pacConfigSelector;var q=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,r=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,s=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements,t=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable,u=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,v=b("immutable").Map(),w=b("immutable").List();function x(a){__p&&__p();var c=a.crops,d=a.hash;a=a.url;if(c instanceof b("AdsMixedValue")||d instanceof b("AdsMixedValue")||a instanceof b("AdsMixedValue"))return null;var e;d&&(e=b("AdsBulkValueUtils").getUniformValueOrDefault(d),e instanceof b("immutable").List&&(e=e.first().get("hash")));var f;a&&(f=b("AdsBulkValueUtils").getUniformValueOrDefault(a),f instanceof b("immutable").List&&(f=f.first().get("url")));var g;c&&(g=b("AdsBulkValueUtils").getUniformValueOrDefault(c),g instanceof b("immutable").List&&(g=g.first().get("image_crops")),g instanceof b("immutable").Map&&(g=g.toJS()));return{crops:c?g:null,hash:d?e:null,url:a?f:null}}var y=(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageCrops),z=g.selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash),A=g.selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageURL),B=g.selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.path),C=(i=b("adsCreateSelector"))([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.path)],function(a){return!b("AdsBulkValueUtils").isNullValue(a)},{name:e.id+".someSelectedAdgroupsUseAssetFeedSelector"}),D=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE);y=i([c,(j=b("AdsAccountStore")).getSelectedAccount,p,d,y,z,A,B,C,D,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g,h,i,j,k,l){__p&&__p();k=b("AdsBulkValueUtils").getUniformValueOrDefault(k);if(j&&!b("AdsDCODegreesOfFreedomUtils").isDoFOptimizationType(k))return b("LoadObject").empty();j=x({crops:f,hash:g,url:h});k=i instanceof b("AdsUniformValue")?i.getValue():null;f=k==null?void 0:k.image_crops;g={crops:f instanceof b("immutable").Map?f.toJS():f,hash:k==null?void 0:k.image_hash,url:k==null?void 0:k.image_url};if(j==null)return b("LoadObject").empty();if(j.hash==null&&j.url==null)return b("LoadObject").empty();h=c.getValue();if(b("isFalsey")(h))return b("LoadObject").loading();i={};f={};c=null;var m=[],n=b("immutable").Map(),o=null;i[a.basePlacementGroup]=b("AdsAssetSelectorsUtils").getImageID(h.account_id,j.hash,j.url);f[a.basePlacementGroup]=j.crops;if(k!=null)i[q.INSTAGRAM]=b("AdsAssetSelectorsUtils").getImageID(h.account_id,g.hash,g.url),f[q.INSTAGRAM]=g.crops;else if(e!=u&&d){m=d.assetGroups;m=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(m,l);n=d.placementsByAssetGroup.filter(Boolean);o=b("immutable").List.of(a.basePlacementGroup);j=b("immutable").List(m.map(function(a){return n.get(a)})).flatten();c=b("immutable").Map((k={},k[a.basePlacementGroup]=j,k))}return b("LoadObject").withValue({assetGroups:m,assetImageIDs:b("AdsAssetSelectorsUtils").compactMap(b("immutable").Map(i)),assetsPlacements:c,backgroundColorsByAsset:b("immutable").Map(),cropsByAsset:b("immutable").Map(f),labels:o,placementsByAssetGroup:n,interactivePollByAsset:b("immutable").Map(),interactivePositionByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector"});z=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);A=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.AD_FORMATS);B=i([j.getSelectedAccount,D,a,z,p,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),A],function(a,c,d,e,f,g,h){__p&&__p();c=b("AdsBulkValueUtils").getUniformValueOrDefault(c);var i=c===b("ApiDynamicCreativeOptimizationTypes").LANGUAGE||c===b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS,j=a.getValue();if(c!==b("ApiDynamicCreativeOptimizationTypes").PLACEMENT&&!i||d instanceof b("AdsMixedValue")||e instanceof b("AdsMixedValue")||!f||b("isFalsey")(j))return b("LoadObject").empty();a=f.assetGroups;var l=f.placementsByAssetGroup;c=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(e,null),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);i=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);f=b("AdsBulkValueUtils").getUniformValue(d,null);if(f==null)return b("LoadObject").empty();if(typeof f==="string"||f==null)throw b("unrecoverableViolation")("This is a PAC ad so images must be in an asset list","csol_pac");e=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);d=b("AdsBulkValueUtils").getUniformValue(h,[]);(d==null?void 0:d.includes(b("AdsUEditorAdgroupCreativeFormat").CAROUSEL))&&(e=f.map(function(a){return a.get(k)}).filter(Boolean).flatten(1).map(function(a){return a.get("name")}),i=e.reduce(function(a,b){return a.set(b,w)},v));c=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(f,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);h=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetSelectorsUtils").getImageID(j.account_id,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedImagesFields").URL))}));d=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetBackgroundColor(a)}));f=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(a)}));var m=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(a)}));c=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){a=b("AdsAssetFeedFieldUtils").getImageAssetCrops(a);return a?a.toJS():null}));a=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,g);var n=b("immutable").List(a.map(function(a){return l.get(a)})).flatten();i=i.map(function(a){return a.filter(function(a){return b("adsContainsAssetCustomizationPlacement")(n,a)})});return b("LoadObject").withValue({assetGroups:a,assetImageIDs:h,assetsPlacements:i,backgroundColorsByAsset:d,cropsByAsset:c,labels:e,placementsByAssetGroup:l,interactivePollByAsset:f,interactivePositionByAsset:m})},{name:e.id+".adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector"});var E=i([B,y],function(a,b){a=a;a.hasValue()||(a=b);return a.hasValue()?a.getValueEnforcing():null},{name:e.id+".adsPlacementAssetAdgroupDataSelector"});C=i([E],function(a){return a==null?void 0:a.assetGroups},{name:e.id+".assetGroupsSelector"});g=i([E],function(a){return a==null?void 0:a.assetsPlacements},{name:e.id+".assetsPlacementsSelector"});h=i([E],function(a){return(a==null?void 0:a.backgroundColorsByAsset)||b("immutable").Map()},{name:e.id+".backgroundColorsByAssetSelector"});D=i([E],function(a){return(a==null?void 0:a.interactivePollByAsset)||b("immutable").Map()},{name:e.id+".InteractivePollByAssetSelector"});a=i([E],function(a){return(a==null?void 0:a.interactivePositionByAsset)||b("immutable").Map()},{name:e.id+".InteractivePositionByAssetSelector"});p=i([E],function(a){return a==null?void 0:a.cropsByAsset},{name:e.id+".rawCropsByAssetSelector"});A=i([p],function(a){return a?a.map(function(a){return a instanceof b("immutable").Map?a.toJS():a}):null},{name:e.id+".cropsByAssetSelector"});p=i([E],function(a){return a==null?void 0:a.labels},{name:e.id+".labelsSelector"});var F=i([E],function(a){return a==null?void 0:a.placementsByAssetGroup},{name:e.id+".placementsByAssetGroupSelector"}),G=b("adsCreateStoreSelector")(function(a){return[].concat(E.getStores(a),l.getStores(a))},function(a){a=E(a);return a?l(babelHelpers["extends"]({},a)):b("LoadObject").withValue(null)},{name:e.id+".placementAssetSelectorImageAssetsSelector"}),H=i([G,g,C],function(a,c,d){__p&&__p();if(!c||a.isLoading()||d==null)return null;a=a.getValueEnforcing();if(!a)return null;a=a.map(function(a,d){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c.get(d))});var e=a.filter(function(a){return a.isEmpty()});if(!e.isEmpty()){e=b("first")(e.keys());if(e==null)return null;var f=b("immutable").Set(a.values()).flatten();d=b("immutable").Set(d).subtract(f);a=a.set(e,b("immutable").List(d))}return a.size!==0?a:null},{name:e.id+".assetGroupsByAsset"});z=i([G,g,b("adsUEditorDevicePlatformsSelector"),A,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),j.getSelectedAccount,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),b("adsGetUniformValueSelector")(z,b("immutable").List())],function(a,c,d,e,f,g,h,i){__p&&__p();g=g.getValue();if(!c||!d||a.isLoading()||e==null||b("isFalsey")(g))return null;g=a.getValueEnforcing();if(!g)return null;a=g.map(function(a,f){var g=e.get(f);if(a.format!=="image")throw b("unrecoverableViolation")("This selector handles only image assets.","csol_pac");a=new(b("AdsImageLegacy"))({height:a.height,url:a.url,width:a.width});a={image:a,imageCrops:g?g:void 0};g=b("immutable").List();c&&c.get(f)&&b("AdsPlacementAssetUtils").isInstagramStoryPlacementOnly(c.get(f))?g=c.get(f):f!=b("AdsPlacementCustomizationConstants").NO_ADLABEL&&(g=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithImage(a,b("nullthrows")(c).get(f),b("nullthrows")(d)));return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(g)});if(i.isEmpty()||f==null)return a.size!==0?a:null;g=s(i);if(g==null){b("recoverableViolation")("default rule not found","csol_pac");return a.size!==0?a:null}i=t(g,"image_label");if(i==null)return a.size!==0?a:null;a=a.set(i,b("immutable").List(b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(f,h)));return a.size!==0?a:null},{name:e.id+".validAssetGroupsByAssetSelector"});C=i([C,G,g,p,d,c,F,z,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),j.getSelectedAccount,b("adsUEditorDevicePlatformsSelector"),h,A,f,m,n,o,D,a],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,v){__p&&__p();k=k.getValue();if(c.isLoading()||b("isFalsey")(k))return b("LoadObject").loading();c=c.getValueEnforcing();var w=f===u;if(c==null||!w&&!i||a==null||h==null||n==null)return b("LoadObject").withValue(null);w=j.map(function(a){return a.adgroup.id});j=j.map(function(a){return a.campaign.id});return b("LoadObject").withValue(babelHelpers["extends"]({accountID:k.account_id,adgroupIDs:w,assetGroups:r(a)},g,{assets:c,assetsPlacements:d,bodyInfoByAssetLabel:o,campaignIDs:j,customizedAssetLabels:p,backgroundColorsByAsset:m,cropsByAsset:n,devicePlatforms:l,headlineInfoByAssetLabel:q,urlInfoByAssetLabel:s,labels:e,placementAssetCustomizationType:f,placementsByAssetGroup:h,validAssetGroupsByAsset:i?i:void 0,interactivePollByAsset:t,interactivePositionByAsset:v}))},{name:e.id+".adsUEditorPlacementAssetSelectorPropsSelector"});g=i([b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a){var c=b("AdsPlacementAPISpecDefaultsUtils").getAllEligibleGroupsKeySet(a),d=b("AdsPlacementAssetEligibilityUtils").getAssetCustomizationPlacementGroupsToAdd(a);return c.length>d.length?!1:c.every(function(a){return d.includes(a)})},{name:e.id+".adsPACPhase2SupportsAllPlacementsSelector"});e.exports={adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector:y,adsUEditorPlacementAssetSelectorPropsSelector:C,adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector:B,adsPlacementAssetAdgroupDataSelector:E,adsPACPhase2SupportsAllPlacementsSelector:g,backgroundColorsByAssetSelector:h,cropsByAssetSelector:A,placementAssetSelectorImageAssetsSelector:G,validAssetGroupsByAssetSelector:z,assetGroupsByAsset:H}}),null);
__d("AdsAssetFeedVideoAssetsUtils",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h={getVideoAssetIDs:function(a){return!a?[]:a.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID)}).toArray().filter(Boolean)},getVideoThumbnailUrlMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);d!=null&&c.set(d,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL))});return c},getVideoThumbnailSource:function(a){a=a.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE);if(a==null)return null;switch(a){case"custom":case"generated_default":case"generated_selected":case"scrubber_selected":case"smart_selected":case"unknown":return a}b("recoverableViolation")("Unexpected video thumbnail source "+String(a),"csol_pac");return null},getVideoThumbnailSourceMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=h.getVideoThumbnailSource(a);c.set(d,a)}});return c},getVideoCaptionIDsMap:function(a){__p&&__p();var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=a.get(b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);a instanceof b("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=g);c.set(d,a)}});return c},getVideoAssetsSelect:function(a,c,d,e,f){__p&&__p();if(!(a instanceof Array))throw b("unrecoverableViolation")("video ids should be an array","csol_pac");if(a.length===0)return b("LoadObject").empty();if(c.some(function(a){return a&&a.loadState!==b("AdsLoadState_LEGACY").LOADED}))return b("LoadObject").loading();a=a.reduce(function(a,b){var g=c.get(b);g&&(a[b]={captionIDs:f.get(b)||[],format:"video",thumbnailUrl:d.get(b),thumbnailSource:e.get(b),video:g});return a},{});return b("LoadObject").withValue(b("immutable").Map(a))}};e.exports=h}),null);
__d("AdsVideoAssetSelectors",["invariant","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsUEditorAdgroupBulkSelectors","AdsVideoStore","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);d=(c=b("adsCreateSelector"))([a],function(a){if(!a||a instanceof b("AdsMixedValue"))return null;a=b("AdsBulkValueUtils").getUniformValue(a,null);typeof a!=="string"||g(0,6123);return a},{name:e.id+".assetFeedVideoListSelector"});var h=c([d],(f=b("AdsAssetFeedVideoAssetsUtils")).getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"}),i=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});i=b("adsCreateMapSelector")(h,i,e.id+".videoInfoMapSelector");var j=c([d],f.getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),k=c([d],f.getVideoThumbnailSourceMap,{name:e.id+".videoThumbnailSourceMapSelector"}),l=c([d],f.getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});c=c([h,i,j,k,l],f.getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});e.exports={assetFeedBulkVideoAssetListSelector:a,assetFeedVideoListSelector:d,videoAssetsSelector:c,videoAssetIDsSelector:h,videoInfoMapSelector:i}}),null);
__d("AdsVideoPlacementAssetCustomizationSelectors",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorSelectors","AdsVideoAssetSelectors","LoadObject","PlacementAssetCustomizationTypes","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","firstx","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=(a=b("AdsPlacementAssetCustomizationSelectors")).adsUEditorPACBodyAssetInfoByMediaAssetLabel;d=a.adsUEditorPACCustomizedVideoAssetLabelSelector;f=a.adsUEditorPACHeadlineAssetInfoByMediaAssetLabel;var i=a.adsUEditorPACInteractivePollVideoAssetLabelSelector,j=a.adsUEditorPACUrlAssetInfoByMediaAssetLabel,k=a.candidateAssetGroupSelector;a=a.pacConfigSelector;var l=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,m=b("AdsVideoAssetSelectors").assetFeedVideoListSelector,n=b("AdsVideoAssetSelectors").videoAssetsSelector,o=b("AdsVideoAssetSelectors").videoInfoMapSelector,p=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,q=b("PlacementAssetCustomizationTypes").PAC_PHASE_2,r=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);r=(g=b("adsCreateSelector"))([r,m],function(a,c){if(a instanceof b("AdsMixedValue")||!c)return null;a=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(a,null),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);var d=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);a=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(c,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d);var e=c.map(function(a){return b("nullthrows")(b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID))});return{labels:d,placementsByLabel:a,videoIDsByLabel:e,videoAssetsByLabel:c}},{name:e.id+".assetFeedAdgroupInfoSelector"});var s=g([k,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c){if(a==null)return null;a=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a.assetGroups,c);return l(a)},{name:e.id+".assetGroupsSelector"});function t(a,c,d,e,f,g,h){__p&&__p();if(!c)return null;var i=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE),j=b("nullthrows")(c).placementsByLabel;a=j.filter(function(a){return a.isEmpty()});if(!a.isEmpty()&&f!=null){a=b("firstx")(a.keys());f=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(f,h);j=j.set(a,b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(f))}return c.videoIDsByLabel.map(function(a,c){a=d.get(a);if(!a||j.isEmpty())return b("immutable").List();a=e(a,j.get(c),i,g.capabilities);return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(function(a){return a.size!==0})}var u=g([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),r,o,k,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),h=b("adsUEditorAccountSelector"),b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c,d,e,f,g){return t(a,b,c,function(a,b,c,d){return b},e,f,g)},{name:e.id+".assetGroupsByAssetSelector"});o=g([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),r,o,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),h,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g){return t(a,c,d,b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo,e,f,g)},{name:e.id+".validAssetGroupsByAssetSelector"});var v=g([r,k,n,o],function(a,c,d,e){if(d.isLoading())return b("LoadObject").loading();return d.isEmpty()||!a||a.labels.size===0||!c||!e?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector"}),w=g([n],function(a){if(a.isLoading())return b("LoadObject").loading();return a.isEmpty()?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector"});c=g([h,v,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),r,k,n,o,u,c,d,s,f,j,i],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();if(g.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||g.isEmpty()||!e||e.labels.size===0||!f||!h||!i||!l)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));var p=g.getValueEnforcing();c=e.videoAssetsByLabel.map(function(a){__p&&__p();var c=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(c!=null){c=p.get(c);if(c.format!=="video")throw b("unrecoverableViolation")("[PAC] Asset must be video","csol_pac");c=babelHelpers["extends"]({},c);var d=a.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL);typeof d==="string"&&(c.thumbnailUrl=d,c.thumbnailSource=b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(a));return c}}).filter(Boolean);g=b("firstx")(d).adgroup;var r=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(g);g=(g=g.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.videos;r=r&&g!=null&&g.size>1;return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:l,basePlacementGroup:null,bodyInfoByAssetLabel:j,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],customizedAssetLabels:k,assetsPlacements:e.placementsByLabel,placementsByAssetGroup:f.placementsByAssetGroup,placementAssetCustomizationType:q,labels:e.labels,validAssetGroupsByAsset:h,assetGroupsByAsset:i,hasLanguageSpecificMedia:r,headlineInfoByAssetLabel:m,urlInfoByAssetLabel:n,interactivePollAssetLabels:o})},{name:e.id+".adsUEditorAdgroupVideoPACAssetFeedSelector"});d=g([h,w,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),k,n,a,m],function(a,c,d,e,f,g,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=h?h.map(function(a){return a.get("video_id").toString()}):b("immutable").List();return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:g.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasDCO:!0,placementsByAssetGroup:b("immutable").Map(),placementAssetCustomizationType:p,labels:f,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDCOAssetFeedSelector"});e.exports={assetGroupsSelector:s,validAssetGroupsByAssetSelector:o,assetGroupsByAssetSelector:u,assetFeedAdgroupInfoSelector:r,adsUEditorAdgroupVideoPACAssetFeedSelector:c,adsUEditorAdgroupVideoDCOAssetFeedSelector:d,adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector:v,adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector:w}}),null);
__d("AdsCarteFlexibleTargetingSpecTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List(["interests","education_schools","education_majors","education_statuses","college_years","work_positions","work_employers","relationship_statuses","interested_in","user_adclusters","excluded_user_adclusters","conjunctive_user_adclusters","family_statuses","industries","life_events","political_views","politics","behaviors","income","net_worth","home_type","home_ownership","home_value","ethnic_affinity","generation","household_composition","moms","office_type"]);e.exports=a}),null);
__d("CarteDimensionTypes",["AdsCarteFlexibleTargetingSpecTypes","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({AGE:null,GENDER:null,LOCATION:null,FLEXIBLE:null});a=b("immutable").Map({AGE:["age_max","age_min"],GENDER:["genders"],LOCATION:["geo_locations"],FLEXIBLE:b("AdsCarteFlexibleTargetingSpecTypes").toArray()});c=b("immutable").Map([["age_max",g.AGE],["age_min",g.AGE],["genders",g.GENDER],["geo_locations",g.LOCATION]].concat(b("AdsCarteFlexibleTargetingSpecTypes").map(function(a){return[a,g.FLEXIBLE]}).toArray()));d=b("immutable").List(["age_min","age_max","genders","geo_locations","flexible_spec"]);e.exports={CarteDimensions:g,CarteDimensionSpecFields:d,DimensionToSpecFieldMap:a,SpecFieldToDimensionMap:c}}),null);
__d("AdsCarteAssetCustomizationRuleUtils",["fbt","invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPITargetFields","AdsTargetingConstants","CarteDimensionTypes","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsTargetingConstants").GENDERS,j=b("CarteDimensionTypes").CarteDimensions;function a(a,b){return!!a&&a.has(b)}function c(a,b){a=a.getIn([b,"name"]);typeof a==="string"||h(0,1837);return a}function d(a,c){__p&&__p();a=a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]);var d=[];a.has(b("AdsAPITargetFields").AGE_MIN)&&a.has(b("AdsAPITargetFields").AGE_MAX)&&c.contains(j.AGE)&&d.push(g._("{ageMin}-{ageMax}",[g._param("ageMin",a.get(b("AdsAPITargetFields").AGE_MIN)),g._param("ageMax",a.get(b("AdsAPITargetFields").AGE_MAX))]));if(a.has(b("AdsAPITargetFields").GENDERS)&&a.get(b("AdsAPITargetFields").GENDERS)instanceof b("immutable").List&&a.get(b("AdsAPITargetFields").GENDERS).size>0){c=a.get(b("AdsAPITargetFields").GENDERS).first();c===i.Men?d.push(g._("Men")):c===i.Women&&d.push(g._("Women"))}a.has(b("AdsAPITargetFields").GEO_LOCATIONS)&&a.get(b("AdsAPITargetFields").GEO_LOCATIONS).map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});a.map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});return d.join(" ")}e.exports={hasLabelFieldInRule:a,getLabelNameFromTargetingRule:c,generateSegmentName:d}}),null);
__d("AdsUEditorCampaignCarteSectionStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getCarteSectionTitle:function(){return g._("Segment Asset Customization")},getCarteSectionSubtitle:function(){return g._("Create ads for specific segments of your audience.")},getCarteL1SectionSubtitle:function(){return g._("Select a category before adding your audience segments")},getSegmentTitle:function(a){return g._("Segment {segment number}",[g._param("segment number",a)])}};e.exports=a}),null);
__d("AdsCarteAssetCustomizationSpecSelectors",["AdsAccountUtils","AdsAPIAdAssetCallToActionFields","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBulkValueUtils","AdsCarteAccordionDataProvider","AdsCarteAssetCustomizationRuleUtils","AdsEmptyValue","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignCarteSectionStrings","AdsUniformValue","CarteSelectedDimensionsDataProvider","adsCreateSelector","adsUEditorAccountSelector","adsUEditorSelectedAdgroupsSelector","firstx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("AdsCarteAssetCustomizationRuleUtils").generateSegmentName;f=(c=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector"),d=b("adsUEditorAccountSelector")],function(a,c){if(b("AdsAccountUtils").hasCapability(c,"CAN_USE_CARTE")&&a.length>0){c=b("firstx")(a);return b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(c)}return!1},{name:e.id+".adsCarteHasDCAssetCustomizationAssetFeedSelector"});var j=c([b("AdsCarteAccordionDataProvider").toFluxSelector()],function(a){return a.selectedIndex},{name:e.id+".adsCarteSelectedSegmentIndexSelector"}),k=c([(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.VIDEOS),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){__p&&__p();if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);var c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).fieldValue;c=c?new(b("AdsUniformValue"))(c):b("AdsEmptyValue").instance();var d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL).fieldValue;d=d?new(b("AdsUniformValue"))(d):b("AdsEmptyValue").instance();a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH).fieldValue;a=a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance();return{videoID:c,imageURL:d,imageHash:a}}else return{videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()}}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentVideoDataSelector"}),l=c([j,k],function(a,c){var d={videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()};return a!=null?c.get(a,d):d},{name:e.id+".adsCarteSelectedSegmentVideoDataSelector"}),m=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.BODIES),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,a,b("AdsAPIAdAssetFeedBodiesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentBodyTextSelector"});function a(a){__p&&__p();return b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),b("adsUEditorAccountSelector")],function(c,d,e){__p&&__p();if(b("AdsAccountUtils").hasCapability(e,"CAN_USE_CARTE")){e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);var f=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(d);return e&&e!==b("AdsBulkValueUtils").MIXED_VALUE?e.map(function(c){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)){c=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(f,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,c,a).fieldValue;return c?new(b("AdsUniformValue"))(c):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id})}var n=a(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);a=a(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL);var o=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.TITLES),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentHeadlineSelector"}),p=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentDescriptionSelector"});d=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS),d],function(a,c,d){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsCarteAssetCustomizationRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL)){a=b("AdsCarteAssetCustomizationRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetCallToActionFields").ADLABELS,a,b("AdsAPIAdAssetCallToActionFields").TYPE).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()},{name:e.id+".adsCarteSegmentCallToActionTypeSelector"});var q=c([d],function(a){return a.map(function(a){return new(b("AdsUniformValue"))(!!b("AdsBulkValueUtils").getUniformValueOrDefault(a))})},{name:e.id+".adsCarteSegmentCallToActionEnabledSelector"});g=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES)],function(a){a=b("AdsBulkValueUtils").getUniformValueOrDefault(a,b("immutable").List());return a},{name:e.id+".adsCarteAssetCustomizationRulesSelector"});h=c([g,b("CarteSelectedDimensionsDataProvider").toFluxSelector()],function(a,c){var d=c.selectedDimensions;return a.map(function(a,c){a=i(a,d);return a||b("AdsUEditorCampaignCarteSectionStrings").getSegmentTitle(c+1)})},{name:e.id+".adsCarteSegmentsNameSelector"});c=c([g,h,k,m],function(a,c,d,e){return a.map(function(a,f){return{index:f,rule:a,bodyText:b("AdsBulkValueUtils").getUniformValueOrDefault(e.get(f)),name:c.get(f),video:d.get(f)}})},{name:e.id+".adsCarteSegmentsSelector"});e.exports={adsCarteAssetCustomizationRulesSelector:g,adsCarteHasDCAssetCustomizationAssetFeedSelector:f,adsCarteSegmentsSelector:c,adsCarteSelectedSegmentIndexSelector:j,adsCarteSegmentsNameSelector:h,adsCarteSegmentVideoDataSelector:k,adsCarteSelectedSegmentVideoDataSelector:l,adsCarteSegmentBodyTextSelector:m,adsCarteSegmentWebsiteURLSelector:n,adsCarteSegmentDisplayURLSelector:a,adsCarteSegmentHeadlineSelector:o,adsCarteSegmentDescriptionSelector:p,adsCarteSegmentCallToActionTypeSelector:d,adsCarteSegmentCallToActionEnabledSelector:q}}),null);
__d("AdsVideoPlacementAssetSelectorSelectors",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsCarteAssetCustomizationSpecSelectors","AdsImageIDClasses","AdsImageInfoStore","AdsLoadState_LEGACY","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorSelectors","AdsVideoStore","LoadObject","PlacementAssetCustomizationTypes","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","firstx","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j;a=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector;c=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector;var k=b("AdsImageIDClasses").AdsImageID;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;f=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var l=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,m=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,n=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,o=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,p=b("PlacementAssetCustomizationTypes").PAC_PHASE_2,q=(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID),r=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL),s=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH),t=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CAPTION_IDS);g=g.selectorByPath(h.CREATIVE.PLATFORM_CUSTOMIZATIONS.path);h=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("isFalsey")(a)?null:b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});q=(i=b("adsCreateSelector"))([a,c,q,g],function(a,c,d,e){__p&&__p();if(!a&&(b("AdsBulkValueUtils").isNullValue(d)||d instanceof b("AdsMixedValue")))return null;a=a?b("AdsBulkValueUtils").getUniformValueOrDefault(c.videoID,null):b("AdsBulkValueUtils").getUniformValue(d,null);c=e.getValues().map(function(a){return a!=null&&a.instagram!=null&&a.instagram.video_id!=null?a.instagram.video_id:null}).filter(function(a,b,c){return c.indexOf(a)===b});if(c.length>1)return null;d=c.length===0?null:c[0];return{baseVideoID:a,instagramCustomizationVideoID:d}},{name:e.id+".platformVideoIDsSelector"});var u=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSizeURL(a)},{name:e.id+".imageURLStoreSelector"}),v=i([j=b("adsUEditorAccountSelector"),s],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c,null);return b("isTruthy")(c)?[k.fromAcountAndHash(a.account_id,c)]:[]},{name:e.id+".imageIDsFromHashSelector"});v=b("adsCreateMapSelector")(v,u,e.id+".imageURLMapSelector");u=i([q],function(a){var b=[];a&&a.baseVideoID!=null&&a.baseVideoID!==""&&b.push(a.baseVideoID);a&&a.instagramCustomizationVideoID!=null&&a.instagramCustomizationVideoID!==""&&b.push(a.instagramCustomizationVideoID);return b},{name:e.id+".videoIDsSelector"});u=b("adsCreateMapSelector")(u,h,e.id+".videoInfoMapSelector");h=i([j,v,g,q,a,c,t,u,s,r,b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c,d,e,f,g,h,i,j,l,m){__p&&__p();if(e==null)return b("LoadObject").empty();var n=e.baseVideoID!=null&&e.baseVideoID!==""?i.get(e.baseVideoID):null;i=e.instagramCustomizationVideoID!=null&&e.instagramCustomizationVideoID!==""?i.get(e.instagramCustomizationVideoID):null;if(n&&n.loadState!==b("AdsLoadState_LEGACY").LOADED||i&&i.loadState!==b("AdsLoadState_LEGACY").LOADED){e=n==null?void 0:n.error;return n&&n.loadState===b("AdsLoadState_LEGACY").ERROR&&e!=null?b("LoadObject").withError(e):b("LoadObject").loading()}e=null;if(m){m=b("firstx")(m);m=m.adgroup;e=m.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE)}var o;if(n){m=f?b("AdsBulkValueUtils").getUniformValueOrDefault(g.imageHash,null):b("AdsBulkValueUtils").getUniformValue(j,null);j=f?b("AdsBulkValueUtils").getUniformValueOrDefault(g.imageURL,null):b("AdsBulkValueUtils").getUniformValue(l,null);if(b("isFalsey")(j)&&b("isTruthy")(m)){g=k.fromAcountAndHash(a.account_id,m);l=c.get(g);if(l.isLoading())return b("LoadObject").loading();else l.hasValue()&&(j=l.getValueEnforcing())}a=f?null:b("AdsBulkValueUtils").getUniformValue(h,null);a!=null&&a instanceof b("immutable").List&&(a=a.map(String).toArray());o={captionIDs:a||[],format:"video",thumbnailUrl:j,thumbnailSource:e,video:n}}var p;if(i){m=null;c=null;var q;g=b("AdsBulkValueUtils").getUniformValue(d,null);g!=null&&g.instagram!=null&&(m=g.instagram.image_url,c=g.instagram.thumbnail_source,q=g.instagram.caption_ids);q!=null&&q instanceof b("immutable").List&&(q=q.map(String).toArray());p={captionIDs:q||[],format:"video",thumbnailUrl:m,video:i,thumbnailSource:c}}return b("LoadObject").withValue({baseVideo:o,instagramCustomizationVideo:p})},{name:e.id+".videosSelector"});v=i([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),f,d,l,q,u,j,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g,h,i){__p&&__p();if(f==null)return b("LoadObject").empty();var j=d===o,k=d===p,l=[];f.baseVideoID!=null&&f.baseVideoID!==""&&l.push(e.basePlacementGroup);(f.instagramCustomizationVideoID!=null&&f.instagramCustomizationVideoID!==""||j)&&e.customizationPlacementGroups.length>0&&l.push(e.customizationPlacementGroups[0]);var m,q=b("immutable").Map(),r,s;if(k&&l.length===1&&c!=null){m=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(c.assetGroups,i);q=c.placementsByAssetGroup;var t=f.baseVideoID!=null?g.get(f.baseVideoID):null;if(t){j=m.filter(function(c){c=q.get(c);var d=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE);d=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo(t,b("nullthrows")(c),d,h.capabilities);return d.size===c.size});r=(e=b("immutable")).Map((k={},k[l[0]]=e.List(j),k));s=e.Map((i={},i[l[0]]=e.List(m),i))}}return b("LoadObject").withValue({assetGroups:n(m||[]),placementAssetCustomizationType:d,labels:b("immutable").List(l),placementsByAssetGroup:q,validAssetGroupsByAsset:r||b("immutable").Map(),assetGroupsByAsset:s||b("immutable").Map()})},{name:e.id+".nonAssetFeedAdgroupInfoSelector"});g=i([v,h],function(a,c){if(c.isLoading()||a.isLoading())return b("LoadObject").loading();if(c.isEmpty()||a.isEmpty())return b("LoadObject").withValue(!1);if(c.hasError())return b("LoadObject").withError(c.getErrorEnforcing());a=c.getValueEnforcing();c=a.baseVideo;return c==null?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector"});a=i([j,g,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),v,l,h],function(a,c,d,e,f,g){__p&&__p();if(c.isLoading()||g.isLoading()||e.isLoading())return b("LoadObject").loading();if(g.hasError())return b("LoadObject").withError(g.getErrorEnforcing());if(!c.getValueEnforcing()||g.isEmpty()||e.isEmpty())return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from non asset feed"));c=a.account_id;a=g.getValueEnforcing();g=a.baseVideo;if(g==null)return b("LoadObject").withError(new Error("An initial video must be selected to use the placement asset selector"));var h={};g&&(h[f.basePlacementGroup]=g);a.instagramCustomizationVideo&&(h[m.INSTAGRAM]=a.instagramCustomizationVideo);return b("LoadObject").withValue(babelHelpers["extends"]({accountID:c,adgroupIDs:d.map(function(a){return a.adgroup.id}),campaignIDs:d.map(function(a){return a.campaign.id}),assets:b("immutable").Map(h)},e.getValueEnforcing(),f))},{name:e.id+".adsUEditorAdgroupVideoPACNonAssetFeedSelector"});c=i([a],function(a){if(a.isLoading())return b("LoadObject").loading();if(a.getValue()==null)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from DOF"));a=a.getValueEnforcing();return b("LoadObject").withValue(babelHelpers["extends"]({},a,{assetsPlacements:b("immutable").Map(),customizationPlacementGroups:[],placementsByAssetGroup:b("immutable").Map(),placementAssetCustomizationType:o,validAssetGroupsByAsset:b("immutable").Map()}))},{name:e.id+".adsUEditorAdgroupVideoDOFSelector"});e.exports={nonAssetFeedAdgroupInfoSelector:v,adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector:g,adsUEditorAdgroupVideoPACNonAssetFeedSelector:a,adsUEditorAdgroupVideoDOFSelector:c,adsUEditorAdgroupVideosSelector:h}}),null);
__d("adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost",["AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;f=b("immutable").Map((c={},c[(d=b("AdsAPIAdAssetFeedFields")).AD_FORMATS]=a.AD_FORMATS,c[d.IMAGES]=a.IMAGES,c[d.VIDEOS]=a.VIDEOS,c[d.BODIES]=a.BODIES,c[d.CALL_TO_ACTIONS]=a.CALL_TO_ACTIONS,c[d.CALL_TO_ACTION_TYPES]=a.CALL_TO_ACTION_TYPES,c[d.CAPTIONS]=a.CAPTIONS,c[d.DESCRIPTIONS]=a.DESCRIPTIONS,c[d.GROUPS]=a.GROUPS,c[d.LINK_URLS]=a.LINK_URLS,c[d.TITLES]=a.TITLES,c));e.exports=f}),null);
__d("adsPlacementCustomizationConvertPostAdToPAC",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsMessengerConstants","ApiDynamicCreativeOptimizationTypes","adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;function h(a,c,d,e){return c[d]!=null?a.setIn(e,b("immutable").fromJS(c[d])):a}function a(a,c,d){var e=c,f=a;f=f.setIn(g.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);f=f.setIn(g.ASSET_CUSTOMIZATION_RULES,b("immutable").fromJS([(c={},c[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]=[],c)]));c=(a=f.creative)==null?void 0:a.page_welcome_message;c!=null&&(f=f.setIn(g.ADDITIONAL_DATA.PAGE_WELCOME_MESSAGE,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PAGE_WELCOME_MESSAGE));d===b("AdsAPIObjectives").MESSAGES&&e.call_to_action_types&&e.call_to_action_types.length===1&&(!e.link_urls||e.link_urls&&e.link_urls.length===1&&e.link_urls[0].website_url==="")&&(e=babelHelpers["extends"]({},e,{link_urls:[{website_url:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK}],call_to_actions:[{type:e.call_to_action_types[0],value:{app_destination:"MESSENGER"}}]}));b("adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost").forEach(function(a,b){f=h(f,e,b,a)});return f}e.exports=a}),null);
__d("AdsPageRestrictedDataStore",["AdsBaseDataStore_LEGACY","AdsLoadState_LEGACY","AdsPageRestrictedDataBatchLoadedDataActionFlux","AdsPageRestrictedDataBatchLoadErrorDataActionFlux","AdsPageRestrictedDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsPageRestrictedDataManager")};d.__getActionTypes=function(){return[b("AdsPageRestrictedDataBatchLoadErrorDataActionFlux").actionType,b("AdsPageRestrictedDataBatchLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsPageRestrictedDataBatchLoadedDataActionFlux").actionType:this.__handleData(a.pages,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPageRestrictedDataBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break}};return c}(b("AdsBaseDataStore_LEGACY"));e.exports=new a()}),null);
__d("AdsUEditorAdgroupPageSelectors",["AdsAPIAdgroupRecordUtils","AdsBulkValueUtils","AdsEmptyValue","AdsLoadStateUtils_LEGACY","AdsPageRestrictedDataStore","AdsPageStore","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSelectors","AdsUniformValue","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();f=(a=b("adsCreateSelector"))([(c=b("AdsUEditorAdgroupBulkSelectors")).pageID,b("adsCreateStoreThunkSelector")(d=b("AdsPageStore"),function(a){return b("AdsPageStore").getAll(a)})],function(a,c){var d=a.getValues();c=b("AdsLoadStateUtils_LEGACY").getLoadedValuesSingleMap(c(d));return a instanceof b("AdsEmptyValue")?b("AdsEmptyValue").instance():b("AdsBulkValueUtils").aggregate(c)},{name:e.id+".bulkPage"});var g=a([d.getAllSelector,c.pageID],function(a,b){return a(b.getValues().filter(Boolean))},{name:e.id+".pageMap"}),h=b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(function(a,c){return b("AdsAPIAdgroupRecordUtils").getPageID(a,c)}),i=a([d.getSelector,h],function(a,b){return b.map(function(b){return b==null?null:a(b)})},{name:e.id+".adgroupIDsToPages"}),j=a([i],function(a){return a.map(function(a){return a?b("AdsLoadStateUtils_LEGACY").toLoadObject(a):b("LoadObject").empty()})},{name:e.id+".adgroupIDsToPageLoadObjects"});d=a([c.pageID,b("adsCreateStoreThunkSelector")(d,function(a){return b("AdsPageStore").get(a)})],function(a,c){a=a instanceof b("AdsUniformValue")?a.getValue():null;return b("isFalsey")(a)?null:c(a)},{name:e.id+".pageCreatingAd"});a=a([c.pageID,b("adsCreateStoreThunkSelector")(b("AdsPageRestrictedDataStore"),function(a){return b("AdsPageRestrictedDataStore").getAll(a)})],function(a,b){a=a.getValues().filter(Boolean);return b(a)},{name:e.id+".pageRestrictedData"});e.exports={bulkPage:f,pageCreatingAd:d,pageMap:g,adgroupIDsToPageIDs:h,adgroupIDsToPages:i,adgroupIDsToPageLoadObjects:j,pageRestrictedData:a}}),null);
__d("adsCallToActionGetFBGEOUrlPrefix",[],(function(a,b,c,d,e,f){"use strict";var g="fbgeo://";function a(){return g}e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTACommonSelectors",["AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsEmptyUniformMixedBulkValueTypes","AdsUEditorSelectors","gkx","isFalsey","AdsExistingPostCTAProvider","AdsExistingPostCTAUtils","AdsLoadObjectUtils","AdsMessengerExistingPostCTASelectorEligibilityDataProvider","AdsPagePostProvider","AdsPagePostUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupPageSelectors","AdsUEditorAdgroupSelectors","AdsUniformValue","LoadObject","URI","ads-lib-urllib","adsCallToActionGetFBGEOUrlPrefix","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdgroupPublishStatusSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("AdsExistingPostCTAProvider").toFluxSelector();var h=b("AdsExistingPostCTAProvider").toFluxStore(),i=b("AdsExistingPostCTAUtils").maybeGetPostIDFromObjectStoryID;c=b("AdsPagePostProvider").toFluxSelector();var j=b("AdsPagePostProvider").toFluxStore();d=b("AdsMessengerExistingPostCTASelectorEligibilityDataProvider").toFluxSelector();var k=b("gkx")("1294613")?"The post associated with this ad is not available. It could be deleted, or you may not have permission to edit it. Select a different post or create a new ad.":"Post failed to load",l=b("adsCreateSelector")([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get)],function(a){return b("AdsBulkValueUtils").getUniformValueOrDefault(a,b("AdsAPIObjectives").NONE)},{name:e.id+".objectiveSelector"});f=b("adsCreateStoreSelector")([h],function(a){return h.getState().get(a)},{name:e.id+".existingPostCTAStoreSelector"});a=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(b("AdsAPIAdgroupRecordUtils").getPagePostID),a],function(a,b){return a.map(function(a){return a==null?null:b.get(a)})},{name:e.id+".adgroupIDToExistingPostCTAValuesSelector"});var m=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.map(function(a){return(a=a.creative)==null?void 0:a.object_story_id})],function(a){return a.filter(function(a){return!!a}).map(function(a){return b("nullthrows")(a)})},{name:e.id+".pagePostIDSelector"}),n=b("adsCreateStoreSelector")([j],function(a){return j.getState().get(a)},{name:e.id+".pagePostStoreSelector"}),o=b("adsCreateSelector")([n],function(a){var c;if(a.hasError())return b("LoadObject").withError(new Error(k));if(!a.hasValue())return b("LoadObject").loading();a=a.getValueEnforcing();c=((c=a.call_to_action)==null?void 0:c.type)||"NO_BUTTON";a=((a=a.call_to_action)==null?void 0:a.value.link)||"";return b("LoadObject").withValue({postCTALink:a,postCTAType:c})},{name:e.id+".postCTAValuesSelector"});c=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(b("AdsAPIAdgroupRecordUtils").getPagePostID),c],function(a,b){return a.filter(Boolean).map(function(a){return b.get(a)})},{name:e.id+".adgroupIDsToPostLoadObjectSelector"});var p=b("adsCreateSelector")([c],function(a){return a.map(function(a){return a.mapValue(function(a){var b;return{postCTAType:((b=a.call_to_action)==null?void 0:b.type)||"NO_BUTTON",postCTALink:((b=a.call_to_action)==null?void 0:(a=b.value)==null?void 0:a.link)||""}})})},{name:e.id+".adgroupIDsToPostCTAValuesSelector"}),q=b("adsCreateSelector")([n],function(a){var c;if(a.hasError())return b("LoadObject").withError(new Error(k));if(!a.hasValue())return b("LoadObject").loading();a=a.getValueEnforcing();return b("LoadObject").withValue({postAttachmentType:((c=a.attachments)==null?void 0:c.data[0].type)||"",postStatusType:a.status_type||""})},{name:e.id+".postTypeSelector"});n=b("adsCreateSelector")([c],function(a){return a.map(function(a){return a.mapValue(function(a){var b;return{postAttachmentType:((b=a.attachments)==null?void 0:b.data[0].type)||"",postStatusType:a.status_type||""}})})},{name:e.id+".adgroupIDsToPostTypeSelector"});var r=b("adsCreateSelector")([f,o],function(a,c){return c.map(function(c){var d=c.postCTALink;c=c.postCTAType;var e,f;a&&(e=a.fieldCTA,f=a.fieldLink);d=f===null||f===void 0?d:f;c=e||c;return b("LoadObject").withValue({displayCTALink:d,displayCTAType:c})})},{name:e.id+".displayCTAValuesSelector"}),s=b("adsCreateSelector")([a,p],function(a,c){__p&&__p();return c.map(function(c,d){var e=a.get(d);return c.map(function(a){var c=a.postCTALink;a=a.postCTAType;var d,f;e&&(d=e.fieldCTA,f=e.fieldLink);c=f===null||f===void 0?c:f;a=d||a;return b("LoadObject").withValue({displayCTALink:c,displayCTAType:a})})})},{name:e.id+".adgroupIDsToDisplayCTAValuesSelector"}),t=b("adsCreateSelector")([r],function(a){return a.map(function(a){a=a.displayCTAType;return a})},{name:e.id+".displayCTATypeSelector"}),u=b("adsCreateSelector")([r],function(a){return a.map(function(a){a=a.displayCTALink;return a})},{name:e.id+".displayCTALinkSelector"}),v=b("adsCreateSelector")([r,o,f],function(a,c,d){__p&&__p();return a.map(function(a){var e=a.displayCTAType;a=a.displayCTALink;if(c.hasError())return b("LoadObject").withError(c.getErrorEnforcing());else if(c.isLoading()||d&&d.mutatingCTA)return b("LoadObject").loading();var f=c.getValueEnforcing(),g=f.postCTALink;f=f.postCTAType;return{displayCTALink:a,displayCTAType:e,postCTALink:g,postCTAType:f}})},{name:e.id+".existingPostCTAObjectSelector"}),w=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").derivedPromotedObjectTypesMap],function(a){return b("AdsBulkValueUtils").getUniformValueOrDefault(b("AdsUniformValue").create(Array.from(a.values())),null)},{name:e.id+".uniformCampaignPromotedObjectSelector"});r=b("adsCreateSelector")([s,p,a],function(a,c,d){__p&&__p();return a.map(function(a,e){__p&&__p();var f=c.get(e),g=d.get(e);return a.map(function(a){var c=a.displayCTAType;a=a.displayCTALink;if(f.hasError())return b("LoadObject").withError(f.getErrorEnforcing());else if(f.isLoading()||g&&g.mutatingCTA)return b("LoadObject").loading();var d=f.getValueEnforcing(),e=d.postCTALink;d=d.postCTAType;return{displayCTALink:a,displayCTAType:c,postCTALink:e,postCTAType:d}})})},{name:e.id+".adgroupIDsToExistingPostCTAObjectSelector"});f=b("adsCreateStoreSelector")(function(a){return[].concat(m.getStores(a),v.getStores())},function(a){__p&&__p();a=m(a);var c={postCTAType:b("AdsEmptyUniformMixedBulkValueTypes")};a=a.map(function(a){if(!b("AdsPagePostUtils").isPostLoaded(a))return b("LoadObject").loading();a=v(a);if(a.isLoading())return b("LoadObject").loading();else if(a.hasError())return a.getErrorEnforcing();return a.getValueEnforcing()});var d=a.some(function(a){a===b("LoadObject").loading()});if(d)return b("LoadObject").loading();d=b("AdsBulkValueUtils").aggregateDeep(c,a);c=d.postCTAType;return b("LoadObject").withValue({bulkPostCTAType:c})},{name:e.id+".existingPostCTABulkSelector"});s=b("adsCreateSelector")([m,d],function(a,c){a=a.map(function(a){a=i(a);if(b("isFalsey")(a))return!1;a=c.get(a);if(a.hasValue())return a.getValueEnforcing()});return a.every(function(a){return a===!0})},{name:e.id+".showPageWelcomeMesageBulkSelector"});p=b("adsCreateStoreSelector")(function(a){return[].concat(l.getStores(a),m.getStores(a),v.getStores(),b("adsUEditorAdgroupPublishStatusSelector").getStores(a),q.getStores(),w.getStores(a))},function(a){__p&&__p();var c,d=m(a),e=[];c={displayCTALink:c=b("AdsEmptyUniformMixedBulkValueTypes"),displayCTAType:c,postCTALink:c,postCTAType:c};var f=!1,h=!1;for(var i=d,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(j){if(k>=i.length)break;n=i[k++]}else{k=i.next();if(k.done)break;n=k.value}n=n;if(!b("AdsPagePostUtils").isPostLoaded(n))return b("LoadObject").loading();var o=v(n);if(o.isLoading())return b("LoadObject").loading();else if(o.hasError())return b("LoadObject").withError(o.getErrorEnforcing());e.push(o.getValueEnforcing());if(!h){o=q(n);if(o.isLoading())return b("LoadObject").loading();o=o.getValueEnforcing();h=o.postAttachmentType==="album"}if(!f){o=q(n);if(o.isLoading())return b("LoadObject").loading();n=o.getValueEnforcing();f=n.postAttachmentType==="new_album"}}o=b("AdsBulkValueUtils").aggregateDeep(c,e);n=o.displayCTALink;k=o.displayCTAType;j=o.postCTALink;i=o.postCTAType;c=l(a);e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(k);(c===b("AdsAPIObjectives").MESSAGES||h)&&e!==b("AdsBulkValueUtils").MIXED_VALUE&&e!=="NO_BUTTON"&&(k=new(b("AdsUniformValue"))("NO_BUTTON"));if(e===b("AdsBulkValueUtils").MIXED_VALUE||e==="NO_BUTTON")if(c===b("AdsAPIObjectives").MESSAGES){o=w(a);o===b("AdsPromotedObjectTypes").MESSENGER?k=new(b("AdsUniformValue"))("MESSAGE_PAGE"):o===b("AdsPromotedObjectTypes").WHATSAPP&&(k=new(b("AdsUniformValue"))("WHATSAPP_MESSAGE"))}else h||f?k=new(b("AdsUniformValue"))("MESSAGE_PAGE"):k=new(b("AdsUniformValue"))("LEARN_MORE");n=b("AdsBulkValueUtils").aggregate(n.getValues().filter(function(a){return!!a}));o=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(n);var p=e==="GET_DIRECTIONS"&&o!=null&&o.startsWith(b("adsCallToActionGetFBGEOUrlPrefix")());e=e!=="GET_DIRECTIONS"&&o!=null&&o!==b("AdsBulkValueUtils").MIXED_VALUE&&b("ads-lib-urllib").isUrl(o)&&(g||(g=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(o));o=o!==b("AdsBulkValueUtils").MIXED_VALUE&&!(p||e);p=b("adsUEditorAdgroupPublishStatusSelector")(a);e=p.some(function(a){a=a.isNew;return a});return b("LoadObject").withValue({bulkDisplayCTALink:n,bulkDisplayCTAType:k,bulkPostCTALink:j,bulkPostCTAType:i,hasDisplayCTALinkError:o,isDraft:e,objective:c,pagePostIDs:d,showCTAMultiPhoto:h,showCTAAlbum:f})},{name:e.id+".existingPostCTABulkObjectSelector"});a=b("adsCreateSelector")([b("AdsUEditorAdgroupPageSelectors").adgroupIDsToPageLoadObjects],function(a){return a.map(function(a){return a.mapValue(function(a){return a==null?void 0:(a=a.userpermissions)==null?void 0:(a=a.data[0])==null?void 0:a.role})})},{name:e.id+".adgroupIDsToPageRoleLoadObjectsSelector"});d=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(b("AdsAPIAdgroupRecordUtils").getPagePostID),d],function(a,c){return a.filter(Boolean).map(b("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN).filter(Boolean).map(function(a){return c.get(a)})},{name:e.id+".adgroupIDsToMessengerExistingPostCTASelectorIsEligibleSelector"});r=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(b("AdsAPIAdgroupRecordUtils").getPagePostID),r,a,n,d],function(a,c,d,e,f){__p&&__p();return a.map(function(a,g){__p&&__p();if(b("isFalsey")(a))return b("LoadObject").withError(new Error("Error loading post/page"));var h=b("AdsPagePostUtils").getPageIdFromPagePostId_BROKEN(a),i=b("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN(a);if(b("isFalsey")(h)||i==null||i===""||!b("AdsPagePostUtils").isPostLoaded(a))return b("LoadObject").loading();h=c.get(g);i=e.get(g);a=d.get(g);if(!h||!i||!a||h.hasError()||i.hasError()||a.hasError())return b("LoadObject").withError(new Error("Error loading post/page"));if(b("AdsLoadObjectUtils").anyLoadingOrEmpty([h,i,a]))return b("LoadObject").loading();h=h.getValueEnforcing();h=h.postCTAType;i=i.getValueEnforcing();a=a.getValueEnforcing();g=f.get(g);if(!g||g.hasError())return b("LoadObject").withError(new Error("Error loading post/page"));if(g.isLoading()||!g.hasValue())return b("LoadObject").loading();g=g.getValueEnforcing();return b("LoadObject").withValue(babelHelpers["extends"]({postCTAType:h},i,{pageRole:a,isEligibleForExistingPostCTASelector:g}))})},{name:e.id+".adgroupIDsToVisibilityExtraDataSelector"});e.exports={adgroupIDsToPostLoadObjectSelector:c,adgroupIDsToVisibilityExtraDataSelector:r,displayCTALinkSelector:u,displayCTATypeSelector:t,existingPostCTABulkObjectSelector:p,pagePostIDSelector:m,postCTAValuesSelector:o,existingPostCTABulkSelector:f,showPageWelcomeMesageBulkSelector:s}}),null);
__d("adsUEditorAdgroupExistingPostCTADialogFieldSelector",["AdsAssetFeedUtils","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorAdgroupSelectors","adsCreateAdAccountQESelector_LEGACY","adsCreateSelector","adsUEditorSelectedAdgroupIDsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateAdAccountQESelector_LEGACY")("ctm_ads_ve_existing_post_univ");c=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector,b("adsUEditorSelectedAdgroupIDsSelector"),a,b("AdsUEditorAdgroupSelectors").adgroups.every(b("AdsAssetFeedUtils").isPACAdgroupFromRecord)],function(a,b,c,d){var e=!1;c.hasValue()&&(e=c.getValueEnforcing().getParamBool("show_ve",!1));return a.map(function(a){var c=a.bulkDisplayCTALink,f=a.bulkDisplayCTAType,g=a.bulkPostCTALink,h=a.bulkPostCTAType,i=a.hasDisplayCTALinkError,j=a.isDraft,k=a.objective,l=a.pagePostIDs,m=a.showCTAMultiPhoto;a=a.showCTAAlbum;return{bulkDisplayCTALink:c,bulkDisplayCTAType:f,bulkPostCTALink:g,bulkPostCTAType:h,hasDisplayCTALinkError:i,isPACAdgroup:d,isDraft:j,objective:k,pagePostIDs:l,showCTAMultiPhoto:m,showCTAAlbum:a,adgroupIDs:b,veExistingPostTest:e}})},{name:e.id+".adsUEditorAdgroupExistingPostCTADialogFieldSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector",["AdsAssetFeedSpecForPostProvider","LoadObject","adsCreateSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorSelectedAdgroupsSelector","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue(null);a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("AdsAssetFeedSpecForPostProvider").toFluxSelector()],function(a,c){__p&&__p();var d;a=a.length===1?b("first")(a):null;if(a==null||!b("adsIsPACSupportedForAdWithExistingPost")(a))return g;var e=a.account_id;d=(d=a.creative)==null?void 0:d.object_story_id;a=(a=a.creative)==null?void 0:a.instagram_actor_id;if(d==null||e==null||a==null)return g;c=c.get({accountID:e,instagramActorID:a,objectStoryID:d});return c},{name:e.id+".adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector",["LoadObject","adsCreateSelector","adsIsPACSupportedForAdWithExistingPost","adsPlacementCustomizationConvertPostAdToPAC","adsUEditorAdgroupExistingPostCTADialogFieldSelector","adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector","adsUEditorSelectedAdgroupsSelector","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector"),b("adsUEditorAdgroupExistingPostCTADialogFieldSelector")],function(a,c,d){__p&&__p();a=a.length>0?b("first")(a):null;if(a==null||!b("adsIsPACSupportedForAdWithExistingPost")(a))return b("LoadObject").withValue(null);if(d.isLoading())return b("LoadObject").loading();if(c.isLoading())return b("LoadObject").loading();c=c.hasValue()?c.getValue():null;d=d.hasValue()?d.getValue():null;return c!=null?b("LoadObject").withValue(b("adsPlacementCustomizationConvertPostAdToPAC")(a,c,d&&d.objective)):b("LoadObject").withValue(null)},{name:e.id+".adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector"});e.exports=a}),null);
__d("mixedToString",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null?a:typeof a==="string"?a:null}e.exports=a}),null);
__d("adsImageIDForStaticAdgroupWithPostSelector",["AdsAPIAdAssetFeedImagesFields","AdsAssetSelectorsUtils","AdsPlacementCustomizationConstants","adsCreateSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable","mixedToString"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){__p&&__p();var c;a=a.hasValue()?a.getValueEnforcing():null;if(a==null)return null;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images;c=c!=null?b("first")(c):null;a=a.account_id;if(c==null||a==null)return null;a=c!=null?b("AdsAssetSelectorsUtils").getImageID(a,b("mixedToString")(c.get(b("AdsAPIAdAssetFeedImagesFields").HASH)),b("mixedToString")(c.get(b("AdsAPIAdAssetFeedImagesFields").URL))):null;return a!=null?b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,a):null},{name:e.id+".adsImageIDForStaticAdgroupWithPostSelector"});e.exports=a}),null);
__d("adsImageAssetsForStaticAdgroupWithPostSelector",["AdsImageAssetSelectors","AdsImageIDClasses","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","LoadObject","adsCreateMapSelector","adsCreateSelector","adsImageIDForStaticAdgroupWithPostSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=(a=b("AdsImageAssetSelectors")).fullSizeImageSelector;var h=a.getAssetForAccountImage,i=a.getAssetForExternalImage;d=a.imageDimensionsSelector;f=a.imageNameSelector;a=a.thumbnailURLSelector;var j=b("AdsImageIDClasses").AdsAccountImageID,k=b("AdsImageIDClasses").AdsExternalImageID,l=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,m=b("adsCreateSelector")([b("adsImageIDForStaticAdgroupWithPostSelector")],function(a){return a!=null?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});c=(g=b("adsCreateMapSelector"))(m,c,e.id+".fullSizeImageMapSelector");f=g(m,f,e.id+".imageNameMapSelector");d=g(m,d,e.id+".imageDimensionsMapSelector");g=g(m,a,e.id+".thumbnailURLMapSelector");m=b("adsCreateSelector")([b("adsImageIDForStaticAdgroupWithPostSelector"),c,f,d,g],function(a,c,d,e,f){__p&&__p();var g=b("immutable").Map();a=a!=null&&!a.isEmpty()?b("first")(a.values()):null;if(a==null)return b("LoadObject").withValue(g);if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||f.some(function(a){return a.isLoading()})||e.some(function(a){return a!=null&&a.isLoading()}))return b("LoadObject").loading();var m;if(a instanceof j){f=f.get(a).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a});var n=a.getHash();c=c.get(a);d=d.get(a);m=h(n,c,d,f)}else if(a instanceof k){n=e.get(a);m=n!=null?i(a.getUrl(),n):null}if(m==null||m.format!=="image")return b("LoadObject").withValue(g);c=babelHelpers["extends"]({},m,{backgroundColor:null,pollComponentSpec:null});d=b("AdsPlacementCustomizationConstants").NO_ADLABEL;f={adlabel:d,format:l,isCustomized:!1,validPlacements:b("immutable").List(),value:c};return b("LoadObject").withValue(g.set(d,f))},{name:e.id+".adsImageAssetsForStaticAdgroupWithPostSelector"});e.exports=m}),null);
__d("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector",["AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsVideoStore","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo;c=(a=b("adsCreateSelector"))([b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){return a.match({loaded:function(a){a=a!=null?a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS):null;return a!=null?a:b("immutable").List()},loading:function(){return b("immutable").List()},error:function(){return b("immutable").List()}})},{name:e.id+".assetFeedVideoListSelector"});d=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});var h=a([c],(f=b("AdsAssetFeedVideoAssetsUtils")).getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"});d=b("adsCreateMapSelector")(h,d,e.id+".videoInfoMapSelector");var i=a([c],f.getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),j=a([c],f.getVideoThumbnailSourceMap,{name:e.id+".videoThumbnailSourceMapSelector"});c=a([c],f.getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});h=a([h,d,i,j,c],f.getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});d=a([h],function(a){return a.match({loaded:function(a){var c;a=a!=null?a.first():null;if(a==null)return b("LoadObject").withValue(b("immutable").Map());var d=b("AdsPlacementCustomizationConstants").NO_ADLABEL;return b("LoadObject").withValue(b("immutable").Map((c={},c[d]={adlabel:d,format:g,isCustomized:!1,validPlacements:b("immutable").List(),value:a},c)))},loading:function(){return b("LoadObject").loading()},error:function(){return b("LoadObject").withValue(b("immutable").Map())}})},{name:e.id+".adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector"});e.exports=d}),null);
__d("adsUEditorAssetFeedOptimizationTypeSelector",["AdsAPIAdgroupPaths","AdsUEditorAdgroupBulkSelectors","adsGetUniformValueSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE),null);e.exports=a}),null);
__d("adsUEditorPlacementCustomizationBodyAssetSelector",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedBodiesFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,values:b("immutable").List([a]),isCustomized:!1})}},{name:e.id+".noAdlabelsBodyAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntriesForLabel(c,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,d,b("AdsAPIAdAssetFeedBodiesFields").TEXT);f=f!=null?f.map(function(a){return a.fieldValue}):null;return f!=null?a.set(d,{adlabel:d,values:f,isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationBodyAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationCTAAssetSelector",["AdsAPIAdgroupPaths","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES),null)],function(a){if(b("immutable").List.isList(a)){a=a.get(0);if(typeof a==="string"){var c;return b("immutable").Map((c={},c[b("AdsPlacementCustomizationConstants").NO_ADLABEL]={adlabel:null,value:a,isCustomized:!1},c))}}return g},{name:e.id+".adsUEditorPlacementCustomizationCTAAssetSelector"});e.exports=a}),null);
__d("AdsPlacementCustomizationDataUtils",["AdsAPIAdAssetTargetRuleFields","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementCustomizationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS;function a(a,c){a=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);return a==null?null:b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(a,c)}function c(a,c,d,e){a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,g,d).index;d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,g,e).index;return typeof a!=="number"||typeof d!=="number"?!1:d!==a}function h(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}}function i(a){return babelHelpers["extends"]({},a,{adlabel:null})}function d(a,c){a=h(a,c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)||h(a,c,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)||h(a,c,b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL)||c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL);return(a==null?void 0:a.adlabel)===b("AdsPlacementCustomizationConstants").NO_ADLABEL?i(a):a}function f(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}return c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL)}function j(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}return c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL)}e.exports={getAssetFromTargetingRule:f,getAssetlistFromTargetingRule:j,getDefaultAssetAdlabel:a,getMediaAssetFromTargetingRule:d,isAssetCustomized:c}}),null);
__d("adsUEditorPlacementCustomizationInteractivePollComponentSelector",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),null)],function(a,c){__p&&__p();var d=b("immutable").List();a!=null&&(d=d.concat(a));c!=null&&(d=d.concat(c));a=b("immutable").fromJS(d);return a.reduce(function(a,c){var d=b("AdsAssetFeedFieldUtils").getAssetInteractivePollComponent(b("immutable").Map(c));if(d!=null){c=c.get(b("AdsAPIAdAssetFeedVideosFields").ADLABELS);if(c!=null)return c.reduce(function(a,b){return a.set(b.get("name"),d)},a);else return a.set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,d)}return a},b("immutable").Map())},{name:e.id+".adsUEditorPlacementCustomizationInteractivePollAssetSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector",["AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","AdsVideoPlacementAssetCustomizationSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector;c=b("AdsVideoPlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector;d=b("adsCreateSelector")([a,c],function(a,c){var d=b("immutable").Map();d=a!=null?d.concat(a):d;d=c!=null?d.concat(c):d;return d.map(function(a){return b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a)})},{name:e.id+".adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"});e.exports=d}),null);
__d("adsUEditorPlacementCustomizationImageAssetSelector",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationDataUtils","AdsUEditorAdgroupBulkSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").backgroundColorsByAssetSelector;c=b("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector;d=b("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector;var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,h=b("immutable").Map();f=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?b("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images}},{name:e.id+".imageAssetsSelector"});var i=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("immutable").List())],function(a){return b("AdsPlacementCustomizationDataUtils").getDefaultAssetAdlabel(a,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)},{name:e.id+".defaultImageAssetLabelSelector"});f=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),f,i,d,b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),a,c,b("adsUEditorPlacementCustomizationInteractivePollComponentSelector")],function(a,c,d,e,f,i,j,k){__p&&__p();if(e.isLoading())return b("LoadObject").loading();if(a==null||!e.hasValue()||c==null)return b("LoadObject").withValue(h);e=e.getValueEnforcing();return e==null?b("LoadObject").withValue(h):b("LoadObject").withValue(e.reduce(function(e,h,l){if(h.format!=="image")return e;var m=k.get(l);h=babelHelpers["extends"]({},h,{backgroundColor:i.get(l),crops:j!=null?j.get(l):null,pollComponentSpec:m});return e.set(l,{adlabel:l,format:g,isCustomized:d!=null?b("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,c,d,l):!1,validPlacements:f.get(l)||b("immutable").List(),value:h})},b("immutable").Map()))},{name:e.id+".adsUEditorPlacementCustomizationImageAssetSelector"});e.exports=f}),null);
__d("adsUEditorPlacementCustomizationTargetingRulesSelector",["AdsAPIAdgroupPaths","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsCreateThunkSelector","adsGetUniformValueSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(b("adsIsPACSupportedForAdWithExistingPost")),!1),b("adsCreateThunkSelector")(b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a,b,c){if(!a)return c;a=b();c=a.hasValue()?a.getValue():null;return c!=null?(b=c.creative)==null?void 0:(a=b.asset_feed_spec)==null?void 0:a.asset_customization_rules:null},{name:e.id+".adsUEditorPlacementCustomizationTargetingRulesSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationVideoAssetSelector",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedVideoAssetsUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsPlacementCustomizationDataUtils","AdsUEditorAdgroupBulkSelectors","AdsVideoAssetSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo;a=b("AdsVideoAssetSelectors").assetFeedVideoListSelector;c=b("AdsVideoAssetSelectors").videoAssetsSelector;var h=b("immutable").Map();f=(d=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?b("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.videos}},{name:e.id+".assetFeedVideoAssetSelector"});c=d([c,a],function(a,c){__p&&__p();if(a.isLoading())return b("LoadObject").loading();if(!a.hasValue()||c==null||c.size===0)return b("LoadObject").withValue(h);var d=a.getValueEnforcing();return b("LoadObject").withValue(c.reduce(function(a,c){__p&&__p();var e=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(e!=null){e=d.get(e);if(e.format!=="video")return a;var f=babelHelpers["extends"]({},e);e=c.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL);typeof e==="string"&&(f.thumbnailUrl=e,f.thumbnailSource=b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(c));e=c.get(b("AdsAPIAdAssetFeedVideosFields").ADLABELS);if(e!=null&&e instanceof b("immutable").List)return e.reduce(function(a,b){return a.set(b.get("name"),f)},a);else return a.set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,f)}return a},b("immutable").Map()))},{name:e.id+".videoAssetsByAdlabelSelector"});a=d([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("immutable").List())],function(a){return b("AdsPlacementCustomizationDataUtils").getDefaultAssetAdlabel(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)},{name:e.id+".defaultVideoAssetLabelSelector"});d=d([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),f,c,a,b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),b("adsUEditorPlacementCustomizationInteractivePollComponentSelector")],function(a,c,d,e,f,i){__p&&__p();if(d.isLoading())return b("LoadObject").loading();if(c==null||!d.hasValue()||a==null)return b("LoadObject").withValue(h);d=d.getValueEnforcing();return d==null?b("LoadObject").withValue(h):b("LoadObject").withValue(d.reduce(function(d,h,j){if(h.format!=="video")return d;h=babelHelpers["extends"]({},h,{pollComponentSpec:i.get(j)});h={adlabel:j,format:g,isCustomized:e!=null?b("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,c,e,j):!1,validPlacements:f.get(j)||b("immutable").List(),value:h};return d.set(j,h)},b("immutable").Map()))},{name:e.id+".adsUEditorPlacementCustomizationVideoAssetSelector"});e.exports=d}),null);
__d("adsUEditorPlacementCustomizationCarouselAssetSelector",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupBulkSelectors","ApiObjectStorySpecLinkChildFields","LoadObject","adsCreateSelector","adsCreateThunkSelector","adsGetUniformValueSelector","adsPlacementAssetGetChildAttachmentFromLabelMap","adsUEditorPlacementCustomizationDefaultCoverageSelector","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,h=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements,i=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable,j=b("AdsPlacementAssetUtils").getFirstAdLabel,k=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,l=b("ApiObjectStorySpecLinkChildFields").LINK,m=b("ApiObjectStorySpecLinkChildFields").NAME,n=b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,o=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_END_CARD,p=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_OPTIMIZED,q=b("immutable").Map(),r=b("immutable").List();function s(a,c){return a.map(function(a){a=a.getIn([b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,"name"])||a.getIn([b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,"name"]);a=(a=c.get(a))==null?void 0:a.value;return a==null||a.format==="carousel"?b("LoadObject").empty():b("LoadObject").withValue(a)})}c=(a=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector")],b("first"),{name:e.id+".selectAdgroup"});d=a([b("adsUEditorPlacementCustomizationVideoAssetSelector"),b("adsUEditorPlacementCustomizationImageAssetSelector")],function(a,b){a=(a=a.getValue())!=null?a:q;b=(b=b.getValue())!=null?b:q;return a.concat(b)},{equal:b("immutable").is,name:e.id+".selectMediaAssets"});f=a([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a){a=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);return a==null?void 0:a.getIn([b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL,"name"])},{name:e.id+".selectDefaultCarouselLabel"});var t=a([b("adsUEditorPlacementCustomizationTargetingRulesSelector"),b("adsUEditorPlacementCustomizationDefaultCoverageSelector")],function(a,c){var d=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL);d=d.map(b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements);a=h(a);if(a!=null&&c!=null){a=i(a,"carousel_label");c=b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(c).filter(b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForCarouselPlacementAssetCustomization);d=d.set(a,b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c))}return d},{name:e.id+".assetFeedValidAssetGroupsByAssetLabel"});a=a([c,b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS),null),b("adsCreateThunkSelector")(f),b("adsCreateThunkSelector")(d),b("adsCreateThunkSelector")(t)],function(a,c,d,e,f){__p&&__p();if(c==null||a==null)return q;var h=d(),i=e(),t=f();return b("immutable").Map(c.reduce(function(c,d){var e=j(d),f=d.get(n),q=f.map(function(c){return b("adsPlacementAssetGetChildAttachmentFromLabelMap")(c,a)}),u=s(f,i);f=q.map(function(a,c){return{media:(c=u.get(c))!=null?c:b("LoadObject").loading(),description:a.get(k),link:a.get(l),headline:a.get(m)}}).toArray();q=d.get(o);d=d.get(p);f={adlabel:e,isCustomized:e===h,format:g,value:{cards:f,format:g,multiShareEndCard:q,multiShareOptimized:d},validPlacements:e!=null?b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(t.get(e)):r};c[e]=f;return c},Object.create(null)))},{name:e.id+".adsUEditorPlacementCustomizationCarouselAssetSelector"});e.exports=a}),null);
__d("adsPlacementCustomizationGetDefaultMediaAdlabel",["AdsPlacementAssetCustomizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups;a=function(a){return a.some(function(a){a=a.placements;return a.some(function(a){return a.platform==="facebook"})})?g.FACEBOOK:g.INSTAGRAM};e.exports=a}),null);
__d("AdsPlacementCustomizationMediaUtils",["AdsPlacementAssetUtils","adsPlacementCustomizationGetDefaultMediaAdlabel","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;var g=b("immutable").Map,h=b("immutable").Set;function a(a){a=a.customizationData;a=a.find(function(a){return a.isDefault});return a.assets.media}function c(a){return a.reduce(function(a,c){c=c.assets.media;var d=c.validPlacements;return c.adlabel!=null&&d!=null?a.set(c.adlabel,b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d)):a},g())}function d(a){return a.reduce(function(a,c){c=c.placements;c=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c);return c.reduce(function(a,c){return a.set(c,b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(c))},a)},g())}function f(a,b){a=a.customizationData;a=a.find(function(a){return((a=a.assets)==null?void 0:(a=a.media)==null?void 0:a.adlabel)===b});return a.assets.media}function i(a){return a.reduce(function(c,d){var e=b("adsPlacementCustomizationGetDefaultMediaAdlabel")(a);d=d==null?void 0:(d=d.assets)==null?void 0:d.media;if(d!=null){var f;return c.set((f=d.adlabel)!=null?f:e,d.value)}return c},g())}function j(a){return a.reduce(function(c,d){var e=b("adsPlacementCustomizationGetDefaultMediaAdlabel")(a),f=d.assets.media;if(!d.isDefault){f=(d=f.adlabel)!=null?d:e;return c.add(f)}return c},h()).toList()}function k(a,c){a=a.find(function(a){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a.placements).includes(c)});return a==null?void 0:(a=a.assets)==null?void 0:a.media}e.exports={getMediaAssetAdlabelsForCustomizedPlacements:j,getMediaAssetValues:i,getMediaByAssetLabel:f,getMediaForDefaultRule:a,getMediaAssetForAssetGroup:k,getPlacementsByAssetGroup:d,getValidAssetGroupsByMediaAsset:c}}),null);
__d("adsGetAssetGroupsFromPlacementCustomizationData",["AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder;function a(a,c,d){a=a.reduce(function(a,b){return a.concat(b.placements)},b("immutable").Set());a=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a.toList()).toArray();a=a;c==="image"?a=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,d):c==="video"?a=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a,d):c==="carousel"&&(a=b("AdsPlacementAssetUtils").getFilteredCarouselSupportedAssetGroups(a));return b("immutable").List(g(a))}e.exports=a}),null);
__d("adsUEditorPlacementCustomizationDescriptionAssetSelector",["AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdgroupPaths","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedDescriptionsFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:e.id+".noAdlabelsDescriptionAssetsSelector"});c=b("adsCreateSelector")([a],function(a){return a!=null&&a.size>0?a:g},{name:e.id+".adsUEditorPlacementCustomizationDescriptionAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationHeadlineAssetSelector",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedTitlesFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:e.id+".noAdlabelsHeadlineAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,d,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return f!=null?a.set(d,{adlabel:d,value:f,isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationHeadlineAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationLanguageSelector",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdgroupPaths","AdsAPITargetFields","AdsAssetFeedLanguageMappingsStatic","AdsDLOLanguageUtils","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a,c){__p&&__p();if(a==null||c==null)return;a=b("first")(a);if(a==null)return;c=c.reduce(function(a,c){var d=c.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("AdsAPITargetFields").LOCALES]);if(d==null)return a.set(c,null);d=b("first")(d);d=d!=null?b("AdsAssetFeedLanguageMappingsStatic").locales_to_language_codes[d]:null;return a.set(c,d!=null?b("immutable").List([d]):null)},b("immutable").Map());a=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);return{primaryLanguage:a,targetingRuleToLanguageMap:c}},{name:e.id+".adsUEditorPlacementCustomizationLanguageSelector"});e.exports=a}),null);
__d("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector",["AdsPlacementAssetTargetingRuleUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedCampaignsSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a,c,d){if(a!=null&&a.length!==1&&c==null)return b("immutable").Map();a=b("first")(a);return a==null||d.isLoading()?b("immutable").Map():c.reduce(function(a,c){var e=b("AdsPlacementAssetTargetingRuleUtils").computeDefaultRulePlacementsSet(c,d);return e!=null?a.set(c.adgroup.id,e):a},b("immutable").Map())},{name:e.id+".adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector",["AdsAPIAdAssetTargetRuleFields","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","adsCreateSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorSelectedAdgroupIDsSelector","adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsUEditorPlacementCustomizationTargetingRulesSelector"),b("adsUEditorSelectedAdgroupIDsSelector"),b("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector")],function(a,c,d){__p&&__p();if(a==null||c==null)return g;c=b("first")(c);if(c==null)return g;var e=d.get(c);return a.reduce(function(a,c){var d=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(c);d.isEmpty()&&e!=null&&(d=e.toList(),c.has(b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL)&&(d=d.filter(function(a){return b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForCarouselPlacementAssetCustomization(a)})));return a.set(c,d)},g)},{name:e.id+".adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationUrlAssetSelector",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS)==null){a=b("first")(a);if(a!=null&&typeof a.get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:{websiteUrl:a.get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL),displayUrl:a.get(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL)},isCustomized:!1})}},{name:e.id+".noAdlabelsUrlAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,d,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL).fieldValue,g=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,d,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL).fieldValue;return f!=null?a.set(d,{adlabel:d,value:{displayUrl:g,websiteUrl:f},isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationUrlAssetSelector"});e.exports=c}),null);
__d("adsUEditorRegularAdgroupMediaSelector",["AdsCarouselPlacementAssetSelectorSelectors","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsVideoPlacementAssetSelectorSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsCarouselPlacementAssetSelectorSelectors").adsUEditorAdgroupCarouselPACNonAssetFeedSelector;c=b("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector;d=b("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector;var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups;f=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideosSelector;b=b("adsCreateSelector")([d,c,f,a],function(a,b,c,d){a=a.getValue();if(a!=null){a=a.get(g.FACEBOOK);return b!=null&&a!=null&&a.format==="image"?babelHelpers["extends"]({},a,{crops:b.get(g.FACEBOOK)}):a}b=c.getValue();return b!=null?b.baseVideo:d},{name:e.id+".adsUEditorRegularAdgroupMediaSelector"});e.exports=b}),null);
__d("adsUEditorRegularAdgroupPlacementsSelector",["AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","adsCreateSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorRegularAdgroupMediaSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;c=b("adsCreateSelector")([a,b("adsUEditorRegularAdgroupMediaSelector"),b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d){if(a==null||c==null)return b("immutable").List();var e=a.assetGroups;a=a.placementsByAssetGroup;var f;c.format==="carousel"?f=b("AdsPlacementAssetUtils").getFilteredCarouselSupportedAssetGroups(e):f=c.format==="video"?b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(e,d):b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(e,d);return a.filter(function(a,b){return f.includes(b)}).toList().flatten()},{name:e.id+".adsUEditorRegularAdgroupPlacementsSelector"});e.exports=c}),null);
__d("adsUEditorRegularAdgroupAdlabelSelector",["AdsPlacementAssetCustomizationTypes","adsCreateSelector","adsUEditorRegularAdgroupPlacementsSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups;a=b("adsCreateSelector")([b("adsUEditorRegularAdgroupPlacementsSelector")],function(a){return a.some(function(a){return a.platform==="facebook"})?g.FACEBOOK:g.INSTAGRAM},{name:e.id+".adsUEditorRegularAdgroupAdlabelSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationDataSelector",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementCustomizationDataUtils","AdsPlacementCustomizationMediaUtils","AdsUEditorAdgroupBulkSelectors","AdsVideoPlacementAssetSelectorSelectors","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsCreateAdAccountGKSelector","adsCreateSelector","adsCreateStructuredSelector","adsCreateThunkSelector","adsGetAssetGroupsFromPlacementCustomizationData","adsGetUniformValueSelector","adsImageAssetsForStaticAdgroupWithPostSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector","adsUEditorAssetFeedOptimizationTypeSelector","adsUEditorPlacementCustomizationBodyAssetSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationCarouselAssetSelector","adsUEditorPlacementCustomizationCTAAssetSelector","adsUEditorPlacementCustomizationDescriptionAssetSelector","adsUEditorPlacementCustomizationHeadlineAssetSelector","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationLanguageSelector","adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorPlacementCustomizationUrlAssetSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorRegularAdgroupAdlabelSelector","adsUEditorRegularAdgroupMediaSelector","adsUEditorRegularAdgroupPlacementsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector;c=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;var h=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,i=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements;d=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideosSelector;var j=(f=b("adsCreateStructuredSelector"))({bodies:(g=b("adsCreateSelector"))([],function(){return b("immutable").Map()},{name:e.id+".bodies"}),carousels:g([],function(){return b("immutable").Map()},{name:e.id+".carousels"}),ctas:g([],function(){return b("immutable").Map()},{name:e.id+".ctas"}),descriptions:g([],function(){return b("immutable").Map()},{name:e.id+".descriptions"}),headlines:g([],function(){return b("immutable").Map()},{name:e.id+".headlines"}),imagesLoadObject:b("adsImageAssetsForStaticAdgroupWithPostSelector"),urls:g([],function(){return b("immutable").Map()},{name:e.id+".urls"}),videosLoadObject:b("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector")},e.id+".adgroupWithPostCreativesSelector"),k=f({bodies:b("adsUEditorPlacementCustomizationBodyAssetSelector"),carousels:b("adsUEditorPlacementCustomizationCarouselAssetSelector"),ctas:b("adsUEditorPlacementCustomizationCTAAssetSelector"),descriptions:b("adsUEditorPlacementCustomizationDescriptionAssetSelector"),headlines:b("adsUEditorPlacementCustomizationHeadlineAssetSelector"),imagesLoadObject:b("adsUEditorPlacementCustomizationImageAssetSelector"),urls:b("adsUEditorPlacementCustomizationUrlAssetSelector"),videosLoadObject:b("adsUEditorPlacementCustomizationVideoAssetSelector")},e.id+".assetFeedCreativesSelector");a=g([a,d],function(a,b){a=a.getValue();if(a!=null)return a.get(h.INSTAGRAM);a=b.getValue();return a!=null?a.instagramCustomizationVideo:null},{name:e.id+".regularAdgroupInstagramMediaSelector"});d=f({bodies:g([],function(){return null},{name:e.id+".bodies"}),description:g([],function(){return null},{name:e.id+".description"}),headline:g([],function(){return null},{name:e.id+".headline"}),media:g([b("adsUEditorRegularAdgroupMediaSelector"),b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),b("adsUEditorRegularAdgroupAdlabelSelector")],function(a,c,d){return a==null?null:{adlabel:d,format:a.format,isCustomized:!1,validPlacements:c.get(d)||b("immutable").List(),value:a}},{name:e.id+".media"}),url:g([],function(){return null},{name:e.id+".url"})},e.id+".regularAdgroupCreativesSelector");f=f({bodies:g([],function(){return null},{name:e.id+".bodies"}),description:g([],function(){return null},{name:e.id+".description"}),headline:g([],function(){return null},{name:e.id+".headline"}),media:g([a],function(a){return a==null?null:{adlabel:h.INSTAGRAM,format:a.format,isCustomized:!1,value:a}},{name:e.id+".media"}),url:g([],function(){return null},{name:e.id+".url"})},e.id+".regularAdgroupInstagramCreativesSelector");a=g([d,f,b("adsUEditorPlacementCustomizationLanguageSelector"),b("adsUEditorRegularAdgroupPlacementsSelector"),c,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g){__p&&__p();var h=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);var i=f===b("PlacementAssetCustomizationTypes").PAC_PHASE_2;if(h==null)return b("LoadObject").withValue(null);var j=null;a=b("immutable").List([{isDefault:!0,assets:babelHelpers["extends"]({},a,{media:h}),languages:j,placements:e}]);e=c.media;c=babelHelpers.objectWithoutPropertiesLoose(c,["media"]);e!=null&&(a=a.push({isDefault:f!==b("PlacementAssetCustomizationTypes").PAC_PHASE_1,assets:babelHelpers["extends"]({},c,{media:e}),languages:j,placements:b("immutable").List([{platform:"instagram",position:"stream"}])}));return b("LoadObject").withValue({customizationData:a,isPAC2Supported:i,primaryLanguage:d==null?void 0:d.primaryLanguage,optimizationType:null,derivedValues:{assetGroups:b("adsGetAssetGroupsFromPlacementCustomizationData")(a,h.format,g),mediaAdlabelsForCustomizedPlacements:b("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(a),mediaAssets:b("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(a),placementsByAssetGroup:b("AdsPlacementCustomizationMediaUtils").getPlacementsByAssetGroup(a),validAssetGroupsByMediaAssetLabel:b("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(a)}})},{name:e.id+".adsUEditorRegularAdgroupPlacementCustomizationDataSelector"});function l(a,c,d,e,f,g,h){__p&&__p();var j=d.bodies,k=d.ctas,l=d.descriptions,m=d.headlines,n=d.imagesLoadObject,o=d.urls,p=d.videosLoadObject;d=d.carousels;if(n.isLoading()||p.isLoading())return b("LoadObject").loading();n=n.hasValue()?n.getValueEnforcing():b("immutable").Map();p=p.hasValue()?p.getValueEnforcing():b("immutable").Map();var q=n.concat(p).concat(d);if(c==null||q.isEmpty())return b("LoadObject").withValue(null);var r=i(c);n=c.reduce(function(a,c){var d=b("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(c,q);if(d==null)return a;var g=r===c;d={assets:{media:d,bodies:b("AdsPlacementCustomizationDataUtils").getAssetlistFromTargetingRule(c,j,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL),cta:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,k,b("AdsAPIAdAssetTargetRuleFields").CALL_TO_ACTION_TYPE_LABEL),description:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,l,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL),headline:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,m,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL),url:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,o,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)},placements:e.get(c),languages:f!=null?f.targetingRuleToLanguageMap.get(c):null,isDefault:g};return g?a.unshift(d):a.concat(d)},b("immutable").List());d=r!=null?(p=b("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(r,q))==null?void 0:p.format:null;return b("LoadObject").withValue({customizationData:n,isPAC2Supported:g,optimizationType:a,primaryLanguage:f==null?void 0:f.primaryLanguage,derivedValues:{assetGroups:b("adsGetAssetGroupsFromPlacementCustomizationData")(n,d,h),mediaAdlabelsForCustomizedPlacements:b("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(n),mediaAssets:b("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(n),placementsByAssetGroup:b("AdsPlacementCustomizationMediaUtils").getPlacementsByAssetGroup(n),validAssetGroupsByMediaAssetLabel:b("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(n)}})}d=g([b("adsUEditorPlacementCustomizationTargetingRulesSelector"),j,b("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),b("adsUEditorPlacementCustomizationLanguageSelector"),c,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g){f=f===b("PlacementAssetCustomizationTypes").PAC_PHASE_2;return l(null,a,c,d,e,f,g)},{name:e.id+".adsUEditorRegularAdgroupWithPostPlacementCustomizationDataSelector"});f=g([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),k,b("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),b("adsUEditorPlacementCustomizationLanguageSelector"),b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c,d,e,f){return l(a,b,c,d,e,!0,f)},{name:e.id+".assetFeedAdgroupPlacementCustomizationDataSelector"});j=g([f],function(a){__p&&__p();var c=a.hasValue()?a.getValueEnforcing():null;if(c!=null){var d=c.customizationData,e=c.optimizationType,f=c.primaryLanguage;if(e===b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS&&f!=null){e=d.filter(function(a){return a.languages!=null&&a.languages.includes(f)});return b("LoadObject").withValue(babelHelpers["extends"]({},c,{customizationData:e}))}}return a},{name:e.id+".assetFeedAdgroupPlacementCustomizationDataWithPrimaryLanguageSelector"});k=g([b("adsUEditorAssetFeedOptimizationTypeSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(b("adsIsPACSupportedForAdWithExistingPost")),!1),(c=b("adsCreateThunkSelector"))(f),c(j),c(a),c(d)],function(a,c,d,e,f,g){switch(a){case null:return c?g():f();case b("ApiDynamicCreativeOptimizationTypes").PLACEMENT:return d();case b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS:return e();case b("ApiDynamicCreativeOptimizationTypes").DEGREES_OF_FREEDOM:return f();default:return b("LoadObject").withValue(null)}},{name:e.id+".adsUEditorPlacementCustomizationDataSelector"});e.exports=k}),null);
__d("AdsUEditorAdgroupContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({adgroupEditorContext:null});e.exports=a}),null);
__d("adsCampaignGetTargetingApiSpec",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.targeting?a.targeting.toJS():{}}e.exports=a}),null);