if (self.CavalryLogger) { CavalryLogger.start_js(["y4BNm"]); }

__d("BCHSTStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";c={tagging:{tagSponsorLabel:g._("Tag Sponsor"),tagSponsorTypeaheadPlaceholder:g._("Enter your business partner's Page or username")},intercept:{dialogTitle:g._("Is this post part of a paid partnership?"),dialogContentBrandDetected:g._("Your post contains information commonly found in branded content, including the name of a possible sponsor. If the sponsor identified here is wrong, you can remove it and enter the correct one.{newline}If your post features or is influenced by a business partner for an exchange of value, our policies require you to tag the partner to show that your content is sponsored.",[g._param("newline",(a=b("React")).jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("br",{})]}))]),dialogContentSelfDisclosure:g._("Your post contains information commonly found in branded content. If your post features or is influenced by a business partner for an exchange of value, our policies require you to tag the partner to show that your content is sponsored."),dialogContentAffiliateLink:g._("Your post mentions a third party product or business. If your post features or is influenced by a business partner for an exchange of value, our policies require you to tag the partner to show that your content is sponsored."),publishWithTag:g._("Publish With Tag"),scheduleWithTag:g._("Schedule With Tag"),publishWithoutTag:g._("Publish Without Tag"),scheduleWithoutTag:g._("Schedule Without Tag"),brandTaggingTitle:g._("Your Post Isn't Published Yet"),getBrandTaggingDialogBodyWithBrand:function(a){return g._("{=[brandName]} has not approved your Page to tag them as a sponsor. If you have a branded content partnership, please ask them to approve your Page for tagging them in posts. Then try again to publish this post.",[g._param("=[brandName]",b("React").jsx("b",{children:g._("{brandName}",[g._param("brandName",a)])}))])},brandTaggingDialogBody:g._("Your tagged business partner has not approved your Page to tag them as a sponsor. If you have a branded content partnership, please ask them to approve your Page for tagging them in posts. Then try again to publish this post."),brandTaggingXOut:g._("I Understand")}};e.exports=c}),null);
__d("BCMPNuxContextSelectors",[],(function(a,b,c,d,e,f){"use strict";a={HANDSHAKE_GUIDED_TOUR:"handshake_guided_tour",HANDSHAKE_GUIDED_TOUR_BOOST_CHECKBOX:"handshake_guided_tour_boost_checkbox",HANDSHAKE_GUIDED_TOUR_SPONSOR_SPROUT:"handshake_guided_tour_sponsor_sprout",HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD:"handshake_guided_tour_sponsor_typeahead",HANDSHAKE_GUIDED_TOUR_LEARN_MORE:"handshake_guided_tour_learn_more",HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER:"handshake_guided_tour_tagger_container"};e.exports=a}),null);
__d("CommerceCurrencyInputUtils",["Currency"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=100;a={convertPEFormatToPBFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*c/g:a}return a},convertPBFormatToPEFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*g/c:a}return a}};e.exports=a}),null);
__d("FDSTabHeader.react",["FDSPrivateThemeContext.react","FDSPrivateThemeUtils","FDSTabGroup.react","React","makeFDSStandardComponent","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FDSPrivateThemeUtils").isGeo;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context,c=this.props,d=c.onChange,e=c.tabs;c=c.value;return b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"tt3fu9o3","border-bottom-0.3":"izvgo9bd","border-top-start-radius-1":"d8bxe1gi","border-top-end-radius-1":"i1isax1u","padding-top-1":"ioxsrz27","padding-end-1":"g5vcck87","padding-bottom-1":"arnvtdg1","padding-start-1":"ou9t26ru"},h(a)?{"border-bottom-0.3":"f8zx1mm3"}:null),"data-testid":this.props["data-testid"],children:b("React").jsx(b("FDSTabGroup.react"),{density:"dense",onChange:d,tabs:e,value:c})})};return c}(b("React").PureComponent);a.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSTabHeader",a)}),null);
__d("AutoPager.react",["DOM","Event","OnVisible","Parent","React","ReactDOM","SubscriptionsHandler","throttle"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getViewportListener=function(){d.onEnterViewportListener||(d.onEnterViewportListener=new(b("OnVisible"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),function(){return d.props.onVisible()},!1,d.props.onEnterBuffer,!1,d.scrollableArea));return d.onEnterViewportListener},d.onScroll=function(){d.getViewportListener().reset()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){if(this.props.scrollableAreaClass){this.scrollableArea=b("Parent").byClass(b("ReactDOM").findDOMNode(this),this.props.scrollableAreaClass);var a=b("DOM").find(this.scrollableArea,".uiScrollableAreaWrap")}else a=window;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(b("Event").listen(a,"scroll",b("throttle")(this.onScroll,100)))};d.componentWillUnmount=function(){this.getViewportListener().remove(),this.subscriptions.release()};d.render=function(){return b("React").jsx("div",{className:this.props.className,children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("BrandedContentHandshakeToolTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setBcAccessGranted=function(a){this.$1.bc_access_granted=a;return this};c.setBcRequestPageID=function(a){this.$1.bc_request_page_id=a;return this};c.setBrandedContentEvent=function(a){this.$1.branded_content_event=a;return this};c.setCreatorID=function(a){this.$1.creator_id=a;return this};c.setEnforcementInterceptAction=function(a){this.$1.enforcement_intercept_action=a;return this};c.setEnforcementInterceptReason=function(a){this.$1.enforcement_intercept_reason=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setExtraFieldsMap=function(a){this.$1.extra_fields_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setIsScheduledPost=function(a){this.$1.is_scheduled_post=a;return this};c.setPostCreationTime=function(a){this.$1.post_creation_time=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setPostMessage=function(a){this.$1.post_message=a;return this};c.setRbcInterceptAction=function(a){this.$1.rbc_intercept_action=a;return this};c.setSponsorID=function(a){this.$1.sponsor_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,bc_access_granted:!0,bc_request_page_id:!0,branded_content_event:!0,creator_id:!0,enforcement_intercept_action:!0,enforcement_intercept_reason:!0,event_location:!0,extra_fields_map:!0,is_scheduled_post:!0,post_creation_time:!0,post_id:!0,post_message:!0,rbc_intercept_action:!0,sponsor_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("SATPInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEventname=function(a){this.$1.eventname=a;return this};c.setPresetID=function(a){this.$1.preset_id=a;return this};c.setRankedPosition=function(a){this.$1.ranked_position=a;return this};c.setRequestedCollection=function(a){this.$1.requested_collection=a;return this};c.setServertime=function(a){this.$1.servertime=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTrackingString=function(a){this.$1.tracking_string=a;return this};c.setUserActionString=function(a){this.$1.user_action_string=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={country:!0,eventname:!0,preset_id:!0,ranked_position:!0,requested_collection:!0,servertime:!0,time:!0,tracking_string:!0,user_action_string:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("AsyncUploadQueue",["AsyncUploadBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._pending=[];b._waiting=[];return b}var c=b.prototype;c.enqueue=function(a,b,c){return this._add(this._waiting.push.bind(this._waiting),a,b,c)};c.prepend=function(a,b,c){return this._add(this._waiting.unshift.bind(this._waiting),a,b,c)};c._add=function(a,b,c,d){d=babelHelpers["extends"]({},this._data,d);b=this._createFileUpload(b,c,d);a(b);this._processQueue();return b};c.dequeue=function(a){this._abort(a)};return b}(b("AsyncUploadBase"));e.exports=a}),null);
__d("Waiter",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$2=0,this.$3=!1,this.$1=a}var b=a.prototype;b.wait=function(a){__p&&__p();var b=this,c=!1;this.$4();return function(){if(c)return;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a&&a.apply(this,e);b.$5();c=!0}};b.go=function(){this.$3=!0;this.$6();return this};b.$4=function(){this.$2++};b.$6=function(){!this.$2&&this.$3&&this.$1()};b.$5=function(){this.$2--,this.$6()};return a}();e.exports=a}),null);
__d("ComputerPanelActionState",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({NEUTRAL:null,DROP:null});e.exports=a}),null);
__d("DragDropFilePicker",["ArbiterMixin","DragDropTarget","FilePickerEvent","FileSelectionContainer","SelectionSource","createArrayFromMixed","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$DragDropFilePicker1=new(b("DragDropTarget"))(c);d.onDocumentDragEnterCallback&&e.$DragDropFilePicker1.setOnDocumentDragEnterCallback(d.onDocumentDragEnterCallback);d.onDocumentDragLeaveCallback&&e.$DragDropFilePicker1.setOnDocumentDragLeaveCallback(d.onDocumentDragLeaveCallback);d.onDragEnterCallback&&e.$DragDropFilePicker1.setOnDragEnterCallback(d.onDragEnterCallback);d.onDragLeaveCallback&&e.$DragDropFilePicker1.setOnDragLeaveCallback(d.onDragLeaveCallback);e.$DragDropFilePicker1.setOnFilesDropCallback(function(a){a=b("createArrayFromMixed")(a).filter(function(a){return!d.isFileValid||d.isFileValid(a)}).map(function(a){return new(b("FileSelectionContainer"))(a)});a.length>0?e.inform(b("FilePickerEvent").SELECTED,{sender:babelHelpers.assertThisInitialized(e),source:b("SelectionSource").FILE,selections:a}):d.onDocumentDragLeaveCallback.call(null)});e.$DragDropFilePicker1.enable();return e}var d=c.prototype;d.disable=function(){this.$DragDropFilePicker1.disable()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("OmnipickerHTML5FilePickerFactory",["fbt","HTML5FilePicker"],(function(a,b,c,d,e,f,g){a={create:function(a){return new(b("HTML5FilePicker"))(a,{accept:"image/*",fallbackFunction:function(){},multiple:!0,qn:"todo",waterfallApp:"web_omnipicker",waterfallUploader:"html5",waterfallMethod:"file_selector",title:g._("Choose files to upload")})}};e.exports=a}),null);
__d("OmnipickerDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("OmnipickerActions",["OmnipickerDispatcher","clamp","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({APP_INITIALIZED:null,FILE_PICKER_SELECT_STARTED:null,FILE_PICKER_SELECTED:null,FILE_PICKER_SELECT_CANCELED:null,EXISTING_PHOTOS_FETCHED:null,PANEL_INITIALIZED:null,PHOTO_SELECTED_OPTIMISTICALLY:null,PHOTO_SOURCE_SELECTED:null,RESIZE_FAILED:null,RESIZE_STARTED:null,RESIZE_SUCCEEDED:null,SELECTION_CHANGED:null,UPLOAD_CANCELED:null,UPLOAD_FAILED:null,UPLOAD_FINISHED:null,UPLOAD_PROGRESSED:null,UPLOAD_QUEUED:null,UPLOAD_STARTED:null});a={types:g,appInitialized:function(a,c,d,e){b("OmnipickerDispatcher").dispatch({type:g.APP_INITIALIZED,appID:a,logger:c,initialSource:d,singleSelection:e})},panelInitialized:function(a,c){b("OmnipickerDispatcher").dispatch({type:g.PANEL_INITIALIZED,appID:a,source:c})},photoSourceSelected:function(a,c){b("OmnipickerDispatcher").dispatch({type:g.PHOTO_SOURCE_SELECTED,appID:a,source:c})},filePickerSelectStarted:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.FILE_PICKER_SELECT_STARTED,appID:a,method:c,ref:d})},filePickerSelected:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.FILE_PICKER_SELECTED,appID:a,method:c,ref:d})},filePickerSelectCancelled:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.FILE_PICKER_SELECT_CANCELED,appID:a,method:c,ref:d})},resizeFailed:function(a,c,d,e){b("OmnipickerDispatcher").dispatch({type:g.RESIZE_FAILED,appID:a,dt:c,bytes:d,errorCode:e})},resizeStarted:function(a){b("OmnipickerDispatcher").dispatch({type:g.RESIZE_STARTED,appID:a})},resizeSucceeded:function(a,c,d,e,f){b("OmnipickerDispatcher").dispatch({type:g.RESIZE_SUCCEEDED,appID:a,dt:c,bytes:d,originalSize:e,customTags:f})},uploadQueued:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_QUEUED,appID:a,source:c,ids:d.map(function(a){return a.getSelectionContainerID()}),volume:d.length})},selectionChanged:function(a,c,d,e){b("OmnipickerDispatcher").dispatch({type:g.SELECTION_CHANGED,appID:a,source:c,id:d,checked:e})},uploadStart:function(a,c,d,e){b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_STARTED,appID:a,source:c,id:d,bytes:e})},uploadProgress:function(a,c,d,e){e=b("clamp")(e.bytesTransferred/e.file.size*100,0,100);b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_PROGRESSED,appID:a,source:c,id:d,progress:e})},uploadDone:function(a,c,d,e,f,h){b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_FINISHED,appID:a,source:c,id:d,src:e,fbid:f,retriesNeeded:h})},uploadFailed:function(a,c,d,e,f){b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_FAILED,appID:a,source:c,id:d,retriesNeeded:e,errorCode:f})},existingPhotosFetched:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.EXISTING_PHOTOS_FETCHED,appID:a,photos:d.map(function(a){return{source:c,id:a.id,src:a.image.uri}})})},optimisticSelect:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.PHOTO_SELECTED_OPTIMISTICALLY,appID:a,source:c,id:d})},cancelUpload:function(a,c,d){b("OmnipickerDispatcher").dispatch({type:g.UPLOAD_CANCELED,appID:a,source:c,id:d})}};e.exports=a}),null);
__d("OmnipickerUploadController",["OmnipickerActions","SelectionSource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.registerOmnipicker=function(a){this.$1[a]={}};c.registerAdapter=function(a,c,d){__p&&__p();this.$1[a][d]=c;d=b("SelectionSource").toPhotoSourceType(d);c.subscribe("maxReached",function(){});c.subscribe("resize_start",this.$2.bind(this,a));c.subscribe("resize_done",this.$3.bind(this,a));c.subscribe("resize_hires_start",function(){});c.subscribe("upload_start",this.$4.bind(this,a,d));c.subscribe("upload_progress",this.$5.bind(this,a,d));c.subscribe("upload_done",this.$6.bind(this,a,d));c.subscribe("upload_failed",this.$7.bind(this,a,d));c.subscribe("finished",function(){})};c.uploadSelections=function(a,c,d,e){__p&&__p();if(!d.every(function(a){return a.getSource()==c}))throw new Error("Selections' source must be "+c);var f=this.$1[a][c],g=b("SelectionSource").toPhotoSourceType(c);if(!f){d.forEach(function(c){var d=c.getExistingImageID();c=c.getSrc();b("OmnipickerActions").uploadDone(a,g,d,c,d,0)});return}d[0].hasPlaceholderUI()||b("OmnipickerActions").uploadQueued(a,g,d);f.uploadSelections(d,e)};c.cancelUpload=function(a,c,d){b("OmnipickerActions").cancelUpload(a,c,d)};c.$2=function(a,c,d){b("OmnipickerActions").resizeStarted(a)};c.$3=function(a,c,d){c=d.scubaData.scuba_ints;var e=c.timeResizing||c.dt,f=c.resizedSize;d.error?b("OmnipickerActions").resizeFailed(a,e,f,d.error.message):b("OmnipickerActions").resizeSucceeded(a,e,f,c.originalSize,{skipped_resizing:d.scubaData.scuba_tags.skippedResizing})};c.$4=function(a,c,d,e){b("OmnipickerActions").uploadStart(a,c,e.uploadID,e.size)};c.$5=function(a,c,d,e){b("OmnipickerActions").uploadProgress(a,c,e.uploadID,e)};c.$6=function(a,c,d,e){b("OmnipickerActions").uploadDone(a,c,e.uploadID,e.response.src,e.response.fbid,e.retriesNeeded)};c.$7=function(a,c,d,e){b("OmnipickerActions").uploadFailed(a,c,e.uploadID,e.retriesNeeded,e.response_error)};return a}();e.exports=new a()}),null);
__d("OmnipickerUploadSession",["FilePickerEvent","OmnipickerActions","OmnipickerUploadController","PhotoSourceTypes","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.registerOmnipicker=function(a){this.$1[a]={pickersData:[]}};c.addPicker=function(a,c,d,e){__p&&__p();var f=new(b("SubscriptionsHandler"))();f.addSubscriptions(c.subscribe(b("FilePickerEvent").SELECT_START,function(c,f){b("OmnipickerActions").filePickerSelectStarted(a,e,d)}),c.subscribe(b("FilePickerEvent").SELECTED,function(c,f){if(f.selections&&f.selections.length>0){b("OmnipickerActions").filePickerSelected(a,e,d);c=f.selections[0].getSource();b("OmnipickerUploadController").uploadSelections(a,c,f.selections)}}),c.subscribe(b("FilePickerEvent").SELECT_CANCELED,function(c,f){b("OmnipickerActions").filePickerSelectCancelled(a,e,d)}));this.$1[a].pickersData.push({picker:c,subscriptions:f})};c.removePicker=function(a,b){var c=this.$1[a].pickersData;c.forEach(function(a,d){a.picker===b&&(a.subscriptions.release(),c.splice(d,1))})};c.cancelUpload=function(a,c,d){if(c!==b("PhotoSourceTypes").COMPUTER)throw new Error("Can only cancel "+b("PhotoSourceTypes").COMPUTER+" uploads. Actual source: "+c);b("OmnipickerUploadController").cancelUpload(a,c,d)};return a}();e.exports=new a()}),null);
__d("HTML5FilePickerButton.react",["fbt","OmnipickerHTML5FilePickerFactory","OmnipickerUploadSession","PhotoSourceTypes","React","ReactDOM","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.picker=b("OmnipickerHTML5FilePickerFactory").create(b("ReactDOM").findDOMNode(this.refs.fileButton)),b("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,b("PhotoSourceTypes").COMPUTER,"file_selector")};d.componentWillUnmount=function(){b("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)};d.render=function(){var a=g._("Select Files");return b("React").jsx(b("XUIButton.react"),{ref:"fileButton",href:"#",size:"xlarge",label:a})};return c}(b("React").Component);a.propTypes={appID:b("prop-types").string.isRequired};e.exports=a}),null);
__d("DragDropInstructions.react",["cx","fbt","ComputerPanelActionState","HTML5FilePickerButton.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderInstructions=function(){switch(d.props.actionState){case b("ComputerPanelActionState").DROP:return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_39ld",children:b("React").jsx("div",{className:"_4zwj"})}),b("React").jsx("div",{className:"_4zwc",children:h._("Drop photos here")})]});case b("ComputerPanelActionState").NEUTRAL:return b("React").jsxs("div",{children:[b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_39ld",children:b("React").jsx("div",{className:"_4zwd"})}),b("React").jsx("div",{className:"_4zwc",children:h._("Drag photos here")})]}),b("React").jsxs("div",{className:"_4zwi",children:[b("React").jsx("span",{className:"_4zwe"}),h._("or"),b("React").jsx("span",{className:"_4zwe"})]}),b("React").jsx("div",{className:"_4zwf",children:b("React").jsx(b("HTML5FilePickerButton.react"),{appID:d.props.appID})})]})}},d.renderOverlay=function(){return b("React").jsx("div",{className:"_4zwg",children:b("React").jsx("div",{className:"_4zwh",children:d.renderInstructions()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return this.props.isOverlay?this.renderOverlay():this.renderInstructions()};return c}(b("React").Component);a.propTypes={actionState:b("prop-types").oneOf(Object.keys(b("ComputerPanelActionState"))).isRequired,appID:b("prop-types").string.isRequired,isOverlay:b("prop-types").bool};e.exports=a}),null);
__d("EmptyPanel.react",["cx","ComputerPanelActionState","DragDropInstructions.react","React","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_2gyt"+(this.props.actionState===b("ComputerPanelActionState").NEUTRAL?" _2gyu":"")+(this.props.actionState===b("ComputerPanelActionState").DROP?" _2gyw":"");return b("React").jsx("div",{className:a,children:b("React").jsx("div",{className:"_2gyv",children:b("React").jsx(b("DragDropInstructions.react"),{actionState:this.props.actionState,appID:this.props.appID})})})};return c}(b("React").Component);a.propTypes={actionState:b("prop-types").oneOf(Object.keys(b("ComputerPanelActionState"))).isRequired,appID:b("prop-types").string.isRequired};e.exports=a}),null);
__d("HTML5UploadAdapter",["ArbiterMixin","AsyncUploadQueue","JpegResizer","JpegResizerConfig","PhotosMimeType","PhotosUploadWaterfall","PhotosUploadWaterfallErrorCodes","PhotosUploadWaterfallMixin","QE2Logger","SphericalImage","SphericalPhotoConstants","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","performanceNow","promiseDone","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("SphericalPhotoConstants").QE_WWW_COMPOSER_UNIVERSE,j=b("SphericalPhotoUploadHelper").shouldRecompress360,k=b("SphericalPhotoUploadHelper").shouldResize360;function a(a){this._config=babelHelpers["extends"]({maxRetries:0,retryTimeout:250,uri:null,qn:null,postParams:{}},a),this._uploads={},this._numProcessing=0,this._activeUploadCount=0,this._uploadQueue=new(b("AsyncUploadQueue"))(this._config.uri),this._uploadQueue.setAllowCrossOrigin(!0),this._uploadQueue.setLimit(a.maxParallel),this._uploadQueue.subscribe("start",this._handleStart.bind(this)),this._uploadQueue.subscribe("failure",this._handleFailure.bind(this)),this._uploadQueue.subscribe("success",this._handleSuccess.bind(this)),this._uploadQueue.subscribe("progress",this._handleProgress.bind(this)),this._uploadQueue.subscribe("success_after_abort",this._handleCanceledPhotoUploadedAnyway.bind(this)),b("JpegResizer").isSupported()&&(this._jpegResizer=new(b("JpegResizer"))(a.maxParallel),Object.prototype.hasOwnProperty.call(a,"useHighQuality")&&this._jpegResizer.setHighQuality(a.useHighQuality),this._jpegResizer.setUndershoot(b("JpegResizerConfig").undershoot).setEncodeQuality(b("JpegResizerConfig").quality)),this._uploadQueue.setPreprocessHandler(this._resizeUpload.bind(this))}Object.assign(a,{isSupported:function(){return b("AsyncUploadQueue").isSupported()&&b("JpegResizer").isSupported()},MAX_WIDTH:2048,MAX_HEIGHT:2048});Object.assign(a.prototype,b("ArbiterMixin"),b("PhotosUploadWaterfallMixin"),{getUploaderApp:function(){return b("PhotosUploadWaterfall").APP_HTML5},getWaterfallID:function(){return this._config.qn},getWaterfallSource:function(){return this._config.ref},uploadFiles:function(a,c){var d=this,e=function(a,b){a.sphericalImage=b,d._enqueueUpload(a,babelHelpers["extends"]({},d._config.postParams,c))},f=function(a){var c=(h||(h=b("performanceNow")))(),f=function(f){e(a,f),d.logWaterfallStep(b("PhotosUploadWaterfall").DONE_SPHERICAL_CHECK,{scuba_ints:{dt:(h||(h=b("performanceNow")))()-c},projection_type:f.getProjectionType()})},g=function(f){e(a),d.logWaterfallStep(b("PhotosUploadWaterfall").FAIL_SPHERICAL_CHECK,{code:b("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED,scuba_ints:{dt:(h||(h=b("performanceNow")))()-c}})};b("promiseDone")(b("SphericalImage").createFromBlob(a).then(f)["catch"](g))};a.forEach(f)},uploadSelections:function(a,b){a=a.map(function(a){var b=a.getFile();b.uploadID=a.getSelectionContainerID();return b});this.uploadFiles(a,b)},setHiRes:function(a){Object.prototype.hasOwnProperty.call(this._config,"useHighQuality")&&(this._jpegResizer&&this._jpegResizer.setHighQuality(a))},setNumSelected:function(a){},markDeleted:function(a){},addPostParam:function(a,b){this._config.postParams=this._config.postParams||{},this._config.postParams[a]=b},cancelIndividualUpload:function(a){a=this._getUpload(a);a&&(this._uploadQueue.dequeue(a),this._removeUpload(a))},cancelAllUploads:function(){for(var a in this._uploads){var b=this._getUpload(a);this._uploadQueue.dequeue(b);this._removeUpload(b)}},getActiveUploadCount:function(){return this._activeUploadCount},_getUpload:function(a){if(a&&this._uploads[a])return this._uploads[a];else return null},_removeUpload:function(a){if(!this._uploads[a.getFile().uploadID])return;delete this._uploads[a.getFile().uploadID];a.isWaiting()||this._activeUploadCount--},_handleStart:function(a,b){this._activeUploadCount++,this.inform("upload_start",{uploadID:b.getFile().uploadID,retry:!!b.getFile()._retryCount,file:b.getFile(),size:b.getFile().size})},_handleFailure:function(a,c){a=Math.pow(2,c.getFile()._retryCount);this._removeUpload(c);c.getFile()._retryCount++<this._config.maxRetries?(setTimeout(this._enqueueUpload.bind(this,c.getFile(),babelHelpers["extends"]({},this._config.postParams,{retry:c.getFile()._retryCount})),this._config.retryTimeout*a),this.logWaterfallStep(b("PhotosUploadWaterfall").RETRY_UPLOAD,{code:c.getResponse().getError()}),this.inform("upload_retry",{uploadID:c.getFile().uploadID,file:c.getFile(),response:c.getResponse(),retry:c.getFile()._retryCount})):this.inform("upload_failed",{uploadID:c.getFile().uploadID,file:c.getFile(),response:c.getResponse()});return!1},_handleSuccess:function(a,b){this._removeUpload(b);a=b.getResponse();a=a.payload;a.metadata&&(a=a.metadata);this.inform("upload_done",{uploadID:b.getFile().uploadID,response:a[0],hiRes:!0,retriesNeeded:b.getFile()._retryCount,lastModified:b.getFile().lastModified})},_handleProgress:function(a,b){this.inform("upload_progress",{file:b.getFile(),uploadID:b.getFile().uploadID,bytesTransferred:b.getProgressEvent().loaded})},_resizeUpload:function(a,c){__p&&__p();var d=this,e=a.getFile();if(!b("PhotosMimeType").isJpeg(e.type))return c(a);this.inform("resize_start",{uploadID:e.uploadID,file:e});var f=(h||(h=b("performanceNow")))(),g=function(g,i,j,k,l){g&&d.logWaterfallStep(b("PhotosUploadWaterfall").CLIENT_ERROR,{code:b("PhotosUploadWaterfall").CERROR_RESIZING_FAILED,meta:{message:g.message}});j=g||j;d.inform("resize_done",{uploadID:e.uploadID,scubaData:{scuba_tags:{skippedResizing:+j},scuba_ints:{timeResizing:(h||(h=b("performanceNow")))()-f,originalSize:e.size,resizedSize:i&&i.size}},error:g});j||(i.uploadID=e.uploadID,i.name=e.name,i.lastModified=e.lastModified,a.setFile(i),a.getAdditionalData().set("js_resized",!0).set("original_width",k).set("original_height",l));c(a)};if(e.sphericalImage&&e.sphericalImage.isSpherical()){var l=e.sphericalImage,m=l.getSize(),n=b("SphericalPhotoTypedConfig").upload_size_limit,o=l.getProjectionType(),p=k(o,m,n);b("QE2Logger").logExposureForUser(i);var q=!1;b("SphericalPhotoTypedConfig").should_recompress&&(q=j(o,l.getBufferLength(),b("SphericalPhotoTypedConfig").upload_bytes_limit));this._jpegResizer&&m&&(p||q)?!p?this._jpegResizer.resize360Blob(e,g,function(){},Math.max(m.x,m.y)-1):this._jpegResizer.resize360Blob(e,g,function(){},n):g(!1,e,!0)}else this._jpegResizer?this._jpegResizer.resizeBlob(e,g):g(!1,e,!0)},_handleCanceledPhotoUploadedAnyway:function(a,b){this.inform("canceled_photo_uploaded",b.payload[0].fbid)},_enqueueUpload:function(a,b){b=babelHelpers["extends"]({},b,{uploader:"html5"}),a._retryCount=a._retryCount||0,this._uploads[a.uploadID]=a._retryCount?this._uploadQueue.prepend(a.fileName,a,b):this._uploadQueue.enqueue(a.fileName,a,b)}});e.exports=a}),null);
__d("OmnipickerPanelMixin.react",["PhotoSourceTypes","prop-types"],(function(a,b,c,d,e,f){"use strict";c={propTypes:{appID:(a=b("prop-types")).string,photoData:a.object,sourceType:a.oneOf(Object.keys(b("PhotoSourceTypes"))),selectionSource:a.string.isRequired}};e.exports=c}),null);
__d("OmnipickerPhotoUploadState",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({NOT_STARTED:null,UPLOADING:null,DONE:null,FAILED:null});e.exports=a}),null);
__d("OmnipickerPhoto.react",["cx","fbt","Event","Image.react","OmnipickerActions","OmnipickerPhotoUploadState","OmnipickerUploadSession","PhotoSourceTypes","ProgressBar.react","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canCancel:!1},d.onDragStart=function(a){b("Event").kill(a)},d.onMouseDown=function(){},d.onMouseUp=function(){var a=!0;!d.props.checked&&d.props.onPhotoSelected&&(a=d.props.onPhotoSelected.call(null,d.props.id));a&&b("OmnipickerActions").selectionChanged(d.props.appID,d.props.photoSourceType,d.props.id,!d.props.checked)},d.getImage=function(){return!d.props.src?null:b("React").jsx(b("Image.react"),{src:d.props.src,className:"_2dh3"})},d.getSelection=function(){return!d.props.checked?null:b("React").jsx("div",{className:"_2dh3 _1cyy"})},d.getCancelOverlay=function(){return d.props.uploadState!==b("OmnipickerPhotoUploadState").UPLOADING||!d.state.canCancel?null:b("React").jsx("div",{className:"_5goe",children:b("React").jsx(b("ShimButton.react"),{className:"_5gof _1cu0",onClick:d.onCancel,children:h._("Cancel Upload")})})},d.getFailedOverlay=function(){return d.props.uploadState!==b("OmnipickerPhotoUploadState").FAILED?null:b("React").jsx("div",{className:"_5goe",children:b("React").jsx("div",{className:"_5gof",children:h._("Upload Failed")})})},d.getProgressBar=function(){if(!d.props.showUploadProgress||d.props.uploadState!==b("OmnipickerPhotoUploadState").UPLOADING)return null;var a=null;d.props.progress<100?a=b("React").jsx(b("ProgressBar.react"),{value:d.props.progress,min:0,max:100}):a=b("React").jsx("div",{className:"_1t2c"});return b("React").jsx("div",{className:"_1cyx",children:a})},d.onCancel=function(){b("OmnipickerUploadSession").cancelUpload(d.props.appID,d.props.photoSourceType,d.props.id)},d.setCancelTimeout=function(){d.cancelTimeout=setTimeout(function(){d.setState({canCancel:!0})},i)},d.clearCancelTimeout=function(){d.cancelTimeout&&(clearTimeout(d.cancelTimeout),d.cancelTimeout=null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.supportsCancel&&this.props.uploadState===b("OmnipickerPhotoUploadState").UPLOADING&&this.setCancelTimeout()};d.UNSAFE_componentWillReceiveProps=function(a){if(this.props.supportsCancel){var c=this.props.uploadState!==a.uploadState||this.props.progress!==a.progress;c&&(this.clearCancelTimeout(),a.uploadState===b("OmnipickerPhotoUploadState").UPLOADING&&this.setCancelTimeout())}};d.componentWillUnmount=function(){this.clearCancelTimeout()};d.render=function(){return b("React").jsxs("div",{className:"_47pv",onDragStart:this.onDragStart,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,children:[this.getImage(),this.getSelection(),this.getCancelOverlay(),this.getFailedOverlay(),this.getProgressBar()]})};return c}(b("React").Component);a.propTypes={appID:(c=b("prop-types")).string.isRequired,checked:c.bool,id:c.string.isRequired,onPhotoSelected:c.func,photoSourceType:c.oneOf(Object.keys(b("PhotoSourceTypes"))).isRequired,progress:c.number,showUploadProgress:c.bool,src:c.string,supportsCancel:c.bool,uploadState:c.oneOf([(d=b("OmnipickerPhotoUploadState")).NOT_STARTED,d.UPLOADING,d.DONE,d.FAILED]).isRequired};a.defaultProps={checked:!1,progress:0,showUploadProgress:!0,supportsCancel:!1};e.exports=a}),null);
__d("OmnipickerPhotoGrid.react",["cx","AutoPager.react","OmnipickerPhoto.react","PhotoSourceTypes","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=300;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getPhotos=function(){return Object.keys(d.props.photos).map(function(a){a=d.props.photos[a];return b("React").jsx(b("OmnipickerPhoto.react"),{appID:d.props.appID,checked:a.checked,id:a.id,onPhotoSelected:d.props.onPhotoSelected,photoSourceType:d.props.photoSourceType,progress:a.progress,showUploadProgress:d.props.showUploadProgress,src:a.src,supportsCancel:d.props.supportsCancel,uploadState:a.uploadState},a.id)})},d.getAutoPager=function(){return!d.props.onScrollPositionThresholdReached?null:b("React").jsx(b("AutoPager.react"),{className:"_4qgs",onEnterBuffer:h,onVisible:d.props.onScrollPositionThresholdReached,scrollableAreaClass:"_xhf"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_xhf",children:b("React").jsxs("div",{className:"uiScrollableAreaWrap _1-nf",children:[this.getPhotos(),this.getAutoPager()]})})};return c}(b("React").Component);a.propTypes={appID:(c=b("prop-types")).string.isRequired,onPhotoSelected:c.func,onScrollPositionThresholdReached:c.func,photos:c.object.isRequired,photoSourceType:c.oneOf(Object.keys(b("PhotoSourceTypes"))).isRequired,showUploadProgress:c.bool,supportsCancel:c.bool};a.defaultProps={showUploadProgress:!0,supportsCancel:!1};e.exports=a}),null);
__d("PhotoPanel.react",["cx","fbt","ComputerPanelActionState","DragDropInstructions.react","HTML5FilePickerButton.react","OmnipickerPhotoGrid.react","PhotoSourceTypes","React","ReactDOM","Scroll","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={photoCount:0},d.renderInstructions=function(){var a;return(a=b("React")).jsxs("div",{className:"_1-nd",children:[a.jsx("div",{children:a.jsx("div",{className:"_4zwc",children:h._("Drag more photos")})}),a.jsxs("div",{className:"_4zwi",children:[a.jsx("span",{className:"_4zwe"}),h._("or"),a.jsx("span",{className:"_4zwe"})]}),a.jsx("div",{className:"_4zwf",children:a.jsx(b("HTML5FilePickerButton.react"),{appID:d.props.appID})})]})},d.renderDragAndDropInstructions=function(){if(d.props.actionState!==b("ComputerPanelActionState").NEUTRAL)return b("React").jsx(b("DragDropInstructions.react"),{actionState:d.props.actionState,appID:d.props.appID,isOverlay:!0})},d.renderPhotoGrid=function(){return b("React").jsx(b("OmnipickerPhotoGrid.react"),{appID:d.props.appID,photos:d.props.photoData,photoSourceType:b("PhotoSourceTypes").COMPUTER,supportsCancel:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=Object.keys(a.photoData).length;this.setState({photoCount:a})};d.componentDidUpdate=function(a,c){if(this.state.photoCount>c.photoCount){a=b("ReactDOM").findDOMNode(this.refs.pickerBox);b("Scroll").setTop(a,a.scrollHeight)}};d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_1x-l",children:b("React").jsxs("div",{className:"_1-ne _1-nf",ref:"pickerBox",children:[this.renderPhotoGrid(),this.renderInstructions()]})}),this.renderDragAndDropInstructions()]})};return c}(b("React").Component);a.propTypes={actionState:b("prop-types").oneOf(Object.keys(b("ComputerPanelActionState"))).isRequired,appID:b("prop-types").string.isRequired,photoData:b("prop-types").object.isRequired};e.exports=a}),null);
__d("ComputerPanel.react",["ComputerPanelActionState","DragDropFilePicker","EmptyPanel.react","FilePickerEvent","HTML5UploadAdapter","OmnipickerConfig","OmnipickerPanelMixin.react","OmnipickerUploadSession","PhotoPanel.react","PhotosMimeType","PhotoSourceTypes","React","SelectionSource","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();a=b("createReactClass_DEPRECATED")({displayName:"ComputerPanel",mixins:[b("OmnipickerPanelMixin.react")],statics:{getAdapter:function(a,c){var d=b("OmnipickerConfig").FILE_UPLOAD_URI;c&&c.fileUploadURI&&(d=c.fileUploadURI);return new(b("HTML5UploadAdapter"))({uri:d,maxRetries:b("OmnipickerConfig").HTML5_UPLOADER_MAX_RETRIES,maxParallel:b("OmnipickerConfig").HTML5_UPLOADER_MAX_PARALLEL,postParams:{},qn:a.getWaterfallID(),waterfallApp:a.getWaterfallAppName(),waterfallUploader:"html5"})}},getDefaultProps:function(){return{selectionSource:b("SelectionSource").FILE,sourceType:b("PhotoSourceTypes").COMPUTER}},getInitialState:function(){return{actionState:b("ComputerPanelActionState").NEUTRAL}},componentDidMount:function(){var a=this;this.picker=new(b("DragDropFilePicker"))(document.documentElement,{onDocumentDragEnterCallback:function(){a.setState({actionState:b("ComputerPanelActionState").DROP})},onDocumentDragLeaveCallback:function(){a.setState({actionState:b("ComputerPanelActionState").NEUTRAL})},isFileValid:function(a){return b("PhotosMimeType").isImage(a.type)}});b("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,b("PhotoSourceTypes").COMPUTER,"dragdrop");this.picker.subscribe(b("FilePickerEvent").SELECTED,this.onFilesDropped)},componentWillUnmount:function(){this.picker.disable(),b("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},onFilesDropped:function(a){this.setState({actionState:b("ComputerPanelActionState").NEUTRAL})},renderEmptyPanel:function(){return b("React").jsx(b("EmptyPanel.react"),{actionState:this.state.actionState,appID:this.props.appID})},renderPhotoPanel:function(){return b("React").jsx(b("PhotoPanel.react"),{actionState:this.state.actionState,appID:this.props.appID,photoData:this.props.photoData})},render:function(){var a=Object.keys(this.props.photoData).length;a=a===0?this.renderEmptyPanel():this.renderPhotoPanel();return b("React").jsx("div",{children:a})}});e.exports=a}),null);
__d("OmnipickerLoggerStore",["invariant","FluxStore","OmnipickerActions","OmnipickerDispatcher"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("OmnipickerActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$OmnipickerLoggerStore1={};return b}var c=b.prototype;c.__onDispatch=function(a){__p&&__p();if(a.type===h.APP_INITIALIZED){a.logger||g(0,4888,a.appID);this.$OmnipickerLoggerStore1[a.appID]=a.logger;return}var b=this.$OmnipickerLoggerStore1[a.appID];b||g(0,4889,a.appID);switch(a.type){case h.FILE_PICKER_SELECT_STARTED:case h.FILE_PICKER_SELECTED:case h.FILE_PICKER_SELECT_CANCELED:this.$OmnipickerLoggerStore2(a,b);break;case h.RESIZE_STARTED:b.logStep("client_upload_begin");b.logStep("client_process_begin");break;case h.RESIZE_SUCCEEDED:b.logStep("client_process_success",{dt:a.dt,bytes:a.bytes,media_data_size:a.originalSize,custom_tags:a.customTags});break;case h.RESIZE_FAILED:b.logStep("client_process_fail",{dt:a.dt,bytes:a.bytes,error_code:a.errorCode});break;case h.UPLOAD_STARTED:b.logStep("client_transfer_begin",{bytes:a.bytes,ref:a.source});break;case h.UPLOAD_FINISHED:b.logStep("client_transfer_success",{auto_retry_count:a.retriesNeeded,ref:a.source});b.logStep("client_upload_success",{fbid:a.fbid,ref:a.source});break;case h.UPLOAD_FAILED:b.logStep("client_upload_fail",{auto_retry_count:a.retriesNeeded,error_code:a.errorCode,ref:a.source});break;case h.UPLOAD_QUEUED:b.logStep("client_transfer_batch_begin",{ref:a.source,volume:a.volume});break;default:}};c.$OmnipickerLoggerStore2=function(a,b){__p&&__p();var c;switch(a.type){case h.FILE_PICKER_SELECT_STARTED:c="client_select_begin";break;case h.FILE_PICKER_SELECTED:c="client_select_success";break;case h.FILE_PICKER_SELECT_CANCELED:c="client_select_cancel";break;default:g(0,4890,a.type)}var d=a.method;a=a.ref;b.logStep(c,{method:d,ref:a})};return b}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("OmnipickerDispatcher"))}),null);
__d("OmnipickerPanelList.react",["cx","ix","Image.react","OmnipickerActions","PhotoSourceTypes","React","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;b("React").Children.forEach(this.props.children,function(c){if(!c)return;var d=a.props.appID;b("OmnipickerActions").panelInitialized(d,c.props.sourceType)})};d.render=function(){var a=this,c=null;this.props.doneSelecting&&(c=b("React").jsx("div",{className:"_5e8d",children:b("React").jsx("div",{className:"_5e8e",children:b("React").jsx(b("Image.react"),{className:"_5e8o",src:h("95719")})})}));var d;this.props.children.length?d=this.props.children.find(function(b){return!b?!1:b.props.sourceType===a.props.selectedSourceType}):d=this.props.children;d=b("React").cloneElement(d,{photoData:this.props.photoData,appID:this.props.appID});return b("React").jsxs("div",{children:[c,b("React").jsx("div",{className:"_5gfy",children:d})]})};return c}(b("React").Component);a.propTypes={appID:(c=b("prop-types")).string,photoData:c.object,doneSelecting:c.bool,selectedSourceType:c.oneOf(Object.keys(b("PhotoSourceTypes")))};e.exports=a}),null);
__d("OmnipickerPhotoSourceStore",["FluxStore","OmnipickerActions","OmnipickerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("OmnipickerActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$OmnipickerPhotoSourceStore1={};return b}var c=b.prototype;c.__onDispatch=function(a){switch(a.type){case g.APP_INITIALIZED:this.$OmnipickerPhotoSourceStore1[a.appID]={currentSource:a.initialSource};break;case g.PHOTO_SOURCE_SELECTED:this.$OmnipickerPhotoSourceStore1[a.appID].currentSource=a.source;this.__emitChange();break;default:return}};c.getCurrentSource=function(a){return this.$OmnipickerPhotoSourceStore1[a].currentSource};return b}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("OmnipickerDispatcher"))}),null);
__d("OmnipickerPhotoStore",["invariant","FluxStore","OmnipickerActions","OmnipickerDispatcher","OmnipickerPhotoUploadState"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("OmnipickerActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$OmnipickerPhotoStore1={};return b}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();a.appID||g(0,3178,a.type);var b=this.$OmnipickerPhotoStore1[a.appID];if(b){b=b.deletedPhotos;if(b&&b[a.id])return}switch(a.type){case h.APP_INITIALIZED:this.$OmnipickerPhotoStore2(a);return;case h.PANEL_INITIALIZED:this.$OmnipickerPhotoStore3(a);return;case h.EXISTING_PHOTOS_FETCHED:this.$OmnipickerPhotoStore4(a);break;case h.PHOTO_SELECTED_OPTIMISTICALLY:this.$OmnipickerPhotoStore5(a);break;case h.SELECTION_CHANGED:this.$OmnipickerPhotoStore6(a);break;case h.UPLOAD_CANCELED:this.$OmnipickerPhotoStore7(a);break;case h.UPLOAD_FAILED:this.$OmnipickerPhotoStore8(a);break;case h.UPLOAD_FINISHED:this.$OmnipickerPhotoStore9(a);break;case h.UPLOAD_PROGRESSED:this.$OmnipickerPhotoStore10(a);break;case h.UPLOAD_QUEUED:this.$OmnipickerPhotoStore11(a);break;case h.UPLOAD_STARTED:this.$OmnipickerPhotoStore12(a);break;default:return}this.__emitChange()};d.getState=function(a){a=this.$OmnipickerPhotoStore1[a];return{numPhotosSelected:this.$OmnipickerPhotoStore13(a).length,photosOptimisticallyUploading:a.photosOptimisticallyUploading,photosWaitingForUpload:a.photosWaitingForUpload,photoData:a.photos}};d.getSelectedPhotos=function(a){a=this.$OmnipickerPhotoStore1[a];return this.$OmnipickerPhotoStore13(a,a.uploadOrder).filter(function(a){return a.fbid!==""})};d.$OmnipickerPhotoStore13=function(a,b){var c=this,d=b||a.photos,e=[];Object.keys(a.photos).forEach(function(b){var f=Array.isArray(d[b])?d[b]:Object.keys(d[b]);f.forEach(function(d){d=c.$OmnipickerPhotoStore14(a,b,d);d.checked&&(d&&e.push(d))})});return e};d.$OmnipickerPhotoStore14=function(a,b,c){a=a.photos;a[b]||g(0,3179,b);a=a[b][c];a||g(0,3180,b,c);return a};d.$OmnipickerPhotoStore15=function(a){this.$OmnipickerPhotoStore16(a,["source","id"]);return this.$OmnipickerPhotoStore14(this.$OmnipickerPhotoStore1[a.appID],a.source,a.id)};d.$OmnipickerPhotoStore17=function(a,b){Object.prototype.hasOwnProperty.call(a,b)||g(0,3181,a.type,b),a[b]!==void 0&&a[b]!==null||g(0,3182,a.type,b)};d.$OmnipickerPhotoStore16=function(a,b){var c=this;b.push("appID");b.forEach(function(b){return c.$OmnipickerPhotoStore17(a,b)})};d.$OmnipickerPhotoStore18=function(a,c,d){var e=a.photos;e[c]||g(0,3183,c);e[c][d]&&g(0,3184,c,d);a.uploadOrder[c].push(d);return e[c][d]={id:d,checked:!1,fbid:"",progress:0,src:"",uploadState:b("OmnipickerPhotoUploadState").NOT_STARTED}};d.$OmnipickerPhotoStore19=function(a,b){a.photosWaitingForUpload[b.id]=!0};d.$OmnipickerPhotoStore20=function(a){a=this.$OmnipickerPhotoStore13(a);a.forEach(function(a){return a.checked=!1})};d.$OmnipickerPhotoStore2=function(a){var b=a.appID;this.$OmnipickerPhotoStore1[b]&&g(0,3185,b);this.$OmnipickerPhotoStore1[b]={deletedPhotos:{},photos:{},photosWaitingForUpload:{},photosOptimisticallyUploading:{},uploadOrder:{},singleSelection:a.singleSelection||!1}};d.$OmnipickerPhotoStore5=function(a){var b=this.$OmnipickerPhotoStore1[a.appID];b.photosOptimisticallyUploading[a.id]=!0;b.singleSelection&&this.$OmnipickerPhotoStore20(b);b=this.$OmnipickerPhotoStore15(a);b.checked=!0};d.$OmnipickerPhotoStore6=function(a){this.$OmnipickerPhotoStore16(a,["checked"]);var b=this.$OmnipickerPhotoStore1[a.appID];b.singleSelection&&a.checked&&this.$OmnipickerPhotoStore20(b);b=this.$OmnipickerPhotoStore15(a);b.checked=a.checked};d.$OmnipickerPhotoStore3=function(a){this.$OmnipickerPhotoStore16(a,["source"]);var b=this.$OmnipickerPhotoStore1[a.appID];b.photos[a.source]={};b.uploadOrder[a.source]=[]};d.$OmnipickerPhotoStore21=function(a,c,d,e){if(e===b("OmnipickerPhotoUploadState").FAILED||a.photosOptimisticallyUploading[d])return;a.singleSelection&&this.$OmnipickerPhotoStore20(a);c.checked=!0};d.$OmnipickerPhotoStore22=function(a,b,c,d){b.uploadState=d,delete a.photosWaitingForUpload[c],delete a.photosOptimisticallyUploading[c]};d.$OmnipickerPhotoStore23=function(a,b,c){b=b.id;delete a.photos[c][b];delete a.photosWaitingForUpload[b];delete a.photosOptimisticallyUploading[b];var d=a.uploadOrder[c].indexOf(b);a.uploadOrder[c].splice(d,1);a.deletedPhotos[b]=!0};d.$OmnipickerPhotoStore4=function(a){var b=this;this.$OmnipickerPhotoStore17(a,"photos");var c=this.$OmnipickerPhotoStore1[a.appID];a.photos.forEach(function(a){var d=a.source,e=a.id;a=a.src;d=b.$OmnipickerPhotoStore18(c,d,e);d.src=a})};d.$OmnipickerPhotoStore7=function(a){var b=this.$OmnipickerPhotoStore15(a);this.$OmnipickerPhotoStore23(this.$OmnipickerPhotoStore1[a.appID],b,a.source)};d.$OmnipickerPhotoStore8=function(a){var c=this.$OmnipickerPhotoStore1[a.appID];this.$OmnipickerPhotoStore22(c,this.$OmnipickerPhotoStore15(a),a.id,b("OmnipickerPhotoUploadState").FAILED)};d.$OmnipickerPhotoStore9=function(a){this.$OmnipickerPhotoStore16(a,["src","fbid"]);var c=a.appID,d=a.id,e=a.src,f=a.fbid;c=this.$OmnipickerPhotoStore1[c];a=this.$OmnipickerPhotoStore15(a);var g=b("OmnipickerPhotoUploadState").DONE;this.$OmnipickerPhotoStore21(c,a,d,g);this.$OmnipickerPhotoStore22(c,a,d,g);a.src=e;a.fbid=f};d.$OmnipickerPhotoStore10=function(a){this.$OmnipickerPhotoStore17(a,"progress");a=this.$OmnipickerPhotoStore15(a);a.progress=100};d.$OmnipickerPhotoStore12=function(a){a=this.$OmnipickerPhotoStore15(a);a.uploadState=b("OmnipickerPhotoUploadState").UPLOADING};d.$OmnipickerPhotoStore11=function(a){var b=this;this.$OmnipickerPhotoStore16(a,["source","ids"]);var c=a.source,d=this.$OmnipickerPhotoStore1[a.appID];a=a.ids;a.forEach(function(a){return b.$OmnipickerPhotoStore19(d,b.$OmnipickerPhotoStore18(d,c,a))})};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("OmnipickerDispatcher"))}),null);
__d("Omnipicker.react",["invariant","ClientIDs","OmnipickerActions","OmnipickerPanelList.react","OmnipickerPhotoSourceStore","OmnipickerPhotoStore","OmnipickerUploadController","OmnipickerUploadSession","React","SubscriptionsHandler","Waiter","nullthrows","OmnipickerLoggerStore"],(function(a,b,c,d,e,f,g){__p&&__p();b("OmnipickerLoggerStore");b("OmnipickerPhotoSourceStore");b("OmnipickerPhotoStore");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={appID:null,photoData:{},sourceType:null},d.handlePhotosChangeEvent=function(){var a=b("OmnipickerPhotoStore").getState(b("nullthrows")(d.state.appID)),c=Object.keys(a.photosWaitingForUpload).length,e=Object.keys(a.photosOptimisticallyUploading).length;e>0?d.$3||(d.$3=b("nullthrows")(d.$2).wait()):d.$3&&(d.$3(babelHelpers.assertThisInitialized(d)),d.$3=null);d.setState({photoData:a.photoData});d.props.onPhotosChange&&d.props.onPhotosChange(a.numPhotosSelected,c)},d.handleSourceChangeEvent=function(){d.setState(function(a){a=a.appID;return{sourceType:b("OmnipickerPhotoSourceStore").getCurrentSource(b("nullthrows")(a))}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){__p&&__p();var a=this,c="Omnipicker_ID_"+b("ClientIDs").getNewClientID();b("OmnipickerUploadController").registerOmnipicker(c);b("OmnipickerUploadSession").registerOmnipicker(c);var d=[];b("React").Children.forEach(this.props.children,function(a){a.type===b("OmnipickerPanelList.react")&&d.push(b("React").cloneElement(a,{appID:c}))});d.length===1||g(0,1800);var e=d[0],f=null;b("React").Children.forEach(e.props.children,function(d){if(!d)return;(!f||d.props.isSelected)&&(f=d.props.sourceType);d.type.getAdapter&&b("OmnipickerUploadController").registerAdapter(c,d.type.getAdapter(a.props.logger,d.props.config),d.props.selectionSource)});!f&&g(0,1801);this.setState({appID:c,sourceType:f});b("OmnipickerActions").appInitialized(c,this.props.logger,f,this.props.singleSelection)};d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("OmnipickerPhotoStore").addListener(this.handlePhotosChangeEvent),b("OmnipickerPhotoSourceStore").addListener(this.handleSourceChangeEvent));this.state.appID||g(0,12521);var c=this.state.appID;this.$2=new(b("Waiter"))(function(){a.props.onDoneSelecting(b("OmnipickerPhotoStore").getSelectedPhotos(c),b("nullthrows")(a.state.sourceType))})};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.componentDidUpdate=function(){this.props.doneSelecting&&b("nullthrows")(this.$2).go()};d.render=function(){var a=this,c=b("nullthrows")(this.state.sourceType),d=b("React").Children.map(this.props.children,function(d){var e={selectedSourceType:c,appID:a.state.appID};d.type===b("OmnipickerPanelList.react")&&Object.assign(e,{photoData:a.state.photoData[c]||{},doneSelecting:a.props.doneSelecting});return b("React").cloneElement(d,e)});return b("React").jsx("div",{children:d})};return c}(b("React").Component);a.defaultProps={doneSelecting:!1};e.exports=a}),null);
__d("OmnipickerSelector.react",["cx","OmnipickerActions","PhotoSourceTypes","React","ShimButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onClick=function(){b("OmnipickerActions").photoSourceSelected(d.props.appID,d.props.sourceType)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("li",{className:"_1ys7",children:b("React").jsx(b("ShimButton.react"),{className:"_1ys8"+(this.props.isSelected?" selected":""),onClick:this.onClick,children:b("React").jsxs("div",{className:"_1ys9",children:[b("React").jsx("span",{className:b("joinClasses")("_1ysb",this.props.iconClass)}),b("React").jsx("span",{className:"_1ysc",children:this.props.children})]})})})};return c}(b("React").Component);a.propTypes={appID:(c=b("prop-types")).string.isRequired,iconClass:c.string.isRequired,isSelected:c.bool.isRequired,sourceType:c.oneOf(Object.keys(b("PhotoSourceTypes"))).isRequired};e.exports=a}),null);
__d("OmnipickerComputerSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_5o68"},this.props,{children:this.props.labelText}))};return c}(b("React").Component);a.propTypes={labelText:b("prop-types").string};a.defaultProps={sourceType:b("PhotoSourceTypes").COMPUTER,labelText:h._("Computer")};e.exports=a}),null);
__d("OmnipickerDialog.react",["cx","fbt","Event","Keys","Link.react","OmnipickerConfig","React","SubscriptionsHandler","XUICloseButton.react","XUIDialog.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={doneSelecting:!1,numPhotosSelected:0,numPhotosUploading:0,uploadProgress:0},d.getButtonLabel=function(){var a=d.state.numPhotosSelected;if(a===1)return h._("Use Photo");return a>1?h._("Use Photos ({number})",[h._param("number",a)]):h._("Use Photos")},d.handleUsePhotos=function(){d.setState({doneSelecting:!0})},d.handleKeyDownEvent=function(a){b("Event").getKeyCode(a)===b("Keys").ESC&&d.props.onCancel()},d.handlePhotosChange=function(a,b){d.setState({numPhotosSelected:a,numPhotosUploading:b})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Event").listen(document,"keydown",this.handleKeyDownEvent))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){var a=this.state.doneSelecting||this.state.numPhotosSelected<1||this.state.numPhotosUploading>0,c=null;b("OmnipickerConfig").FEEDBACK_GROUP_PATH&&(c=b("React").jsx("div",{className:"_2srv",children:b("React").jsx(b("Link.react"),{href:b("OmnipickerConfig").FEEDBACK_GROUP_PATH,target:"_blank",children:"Omnipicker Feedback Group"})}));var d=b("React").Children.only(this.props.children);d=b("React").cloneElement(d,{onPhotosChange:this.handlePhotosChange,doneSelecting:this.state.doneSelecting});return b("React").jsxs(b("XUIDialog.react"),{shown:!0,layerHideOnBlur:!1,width:b("OmnipickerConfig").DIALOG_WIDTH,children:[b("React").jsxs(b("XUIDialogTitle.react"),{showCloseButton:!1,children:[b("React").jsx("span",{children:this.props.title}),b("React").jsx(b("XUICloseButton.react"),{className:"_51-t",label:h._("Close"),onClick:this.props.onCancel})]}),d,b("React").jsx("div",{className:"_3bnc",children:b("React").jsxs(b("XUIDialogFooter.react"),{className:"_3bnd",leftContent:c,children:[b("React").jsx(b("XUIDialogButton.react"),{action:"button",label:h._("Cancel"),onClick:this.props.onCancel,size:"xlarge"}),b("React").jsx(b("XUIDialogButton.react"),{className:"_3bne",use:"confirm",action:"confirm",size:"xlarge",disabled:a,label:this.getButtonLabel(),onClick:this.handleUsePhotos})]})})]},"dialog")};return c}(b("React").Component);a.propTypes={onCancel:b("prop-types").func.isRequired,title:b("prop-types").string.isRequired};e.exports=a}),null);
__d("OmnipickerDialogRenderer",["DOM","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=a.props.$2,this.$2||(this.$2=b("DOM").create("div"),b("DOM").appendContent(document.body,this.$2))}var c=a.prototype;c.show=function(){this.$2||(this.$2=b("DOM").create("div"),b("DOM").appendContent(document.body,this.$2)),b("ReactDOM").render(this.$1,this.$2)};c.hide=function(){b("ReactDOM").unmountComponentAtNode(this.$2),b("DOM").remove(this.$2),this.$2=null};c.isShowing=function(){return!!this.$2};return a}();e.exports=a}),null);
__d("ExistingPhotoSelectionContainer",["BaseSelectionContainer"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this)||this;e.$ExistingPhotoSelectionContainer1=b;e.$ExistingPhotoSelectionContainer2=c;e.$ExistingPhotoSelectionContainer3=d;return e}var c=b.prototype;c.getExistingImageID=function(){return this.$ExistingPhotoSelectionContainer1};c.getSrc=function(){return this.$ExistingPhotoSelectionContainer2};c.getSource=function(){return this.$ExistingPhotoSelectionContainer3};c.hasPlaceholderUI=function(){return!0};return b}(b("BaseSelectionContainer"));e.exports=a}),null);
__d("ExistingPhotoPicker",["ArbiterMixin","ExistingPhotoSelectionContainer","FilePickerEvent","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$ExistingPhotoPicker1=b;return c}var d=c.prototype;d.begin=function(){this.inform(b("FilePickerEvent").BEGIN)};d.select=function(a,c){this.inform(b("FilePickerEvent").SELECTED,{sender:this,selections:[new(b("ExistingPhotoSelectionContainer"))(a,c,this.$ExistingPhotoPicker1)]})};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("OmnipickerExistingPhotosPanelMixin.react",["cx","invariant","ExistingPhotoPicker","OmnipickerActions","OmnipickerPanelMixin.react","OmnipickerPhotoGrid.react","OmnipickerUploadSession","PhotoStore","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c={mixins:[b("OmnipickerPanelMixin.react")],propTypes:{initBatchSize:(a=b("prop-types")).number,pageBatchSize:a.number,puwMethod:a.string.isRequired,setID:a.string.isRequired},UNSAFE_componentWillMount:function(){typeof this.getViewState==="function"||h(0,2424),this.picker=new(b("ExistingPhotoPicker"))(this.props.selectionSource),b("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,this.props.sourceType,this.props.puwMethod)},componentDidMount:function(){this.getViewState().initViewState(),this.picker.begin()},componentWillUnmount:function(){this.getViewState().destroy(),b("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},render:function(){return b("React").jsxs("div",{children:[this.getThrobber(),this.getPhotoGrid()]})},onViewStateChanged:function(a){var c=this;b("OmnipickerActions").existingPhotosFetched(this.props.appID,this.props.sourceType,a.media.filter(function(a){return!c.props.photoData[a.id]}))},onPhotoSelected:function(a){this.picker.select(a,this.props.photoData[a].src);return!1},getPhotoGrid:function(){var a=this;if(!b("PhotoStore").hasBeenCreated(this.props.setID))return null;var c=null;(!b("PhotoStore").hasBeenCreated(this.props.setID)||b("PhotoStore").hasNextPage(this.props.setID))&&(c=function(){a.getViewState().fetchMore()});return b("React").jsx(b("OmnipickerPhotoGrid.react"),{appID:this.props.appID,onPhotoSelected:this.onPhotoSelected,onScrollPositionThresholdReached:c,photos:this.props.photoData,photoSourceType:this.props.sourceType,showUploadProgress:!1})},getThrobber:function(){return b("PhotoStore").hasBeenCreated(this.props.setID)?null:b("React").jsx("div",{className:"_j0-"})}};e.exports=c}),null);
__d("ScrollablePhotoViewStateCore",["SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a.photoStore,this.$2=a.viewer,this.$3=a.setToken,this.$4=a.updateCallback,this.$5=a.subscribeUpdatePhotos,this.$6=a.fetchInitData,this.$7=a.initBatchSize,this.$8=a.pageBatchSize,this.$9=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.initViewState=function(){this.$9.addSubscriptions(this.$5(this.updateData.bind(this)));if(this.$1.hasBeenCreated(this.$3)){var a=this.$1.getAvailableRange(this.$3).length;(a>=this.$7||!this.$1.hasNextPage(this.$3))&&this.syncState();return}this.$6(this.$3)};c.hasNextPage=function(){return this.$1.hasBeenCreated(this.$3)&&this.$1.hasNextPage(this.$3)};c.fetchToIndex=function(a){var c=this.$1.getEndIndex(this.$3);a=a-c;if(a<=0)return;this.$1.getItemsAfterIndex(this.$3,c,a,b("emptyFunction"))};c.fetchMore=function(a){if(!this.hasNextPage())return;this.$1.getItemsAfterIndex(this.$3,this.$1.getEndIndex(this.$3),this.$8,a||b("emptyFunction"))};c.destroy=function(){this.$9.release()};c.updateData=function(a){var b=this;if(a.set_id!=this.$3)return;a=a.query_results&&a.query_results.result_type;a=="init"?this.$1.executePostCreate(this.$3,function(){b.syncState()}):this.syncState()};return a}();e.exports=a}),null);
__d("fetchInitPhotoViewState",["AsyncRequest"],(function(a,b,c,d,e,f){function a(a,c){new(b("AsyncRequest"))(a).setData({set:c}).send()}e.exports=a}),null);
__d("subscribeToArbiterUpdatePhotos",["Arbiter"],(function(a,b,c,d,e,f){function a(a){return b("Arbiter").subscribe("update-photos",function(b,c){a(c)})}e.exports=a}),null);
__d("OmnipickerExistingPhotosViewState",["PhotoStore","ScrollablePhotoViewStateCore","fetchInitPhotoViewState","subscribeToArbiterUpdatePhotos"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){b("fetchInitPhotoViewState")(a,c)}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,h,i){h=a.call(this,{fetchInitData:g.bind(null,h),initBatchSize:e,pageBatchSize:f,photoStore:b("PhotoStore"),setToken:d,subscribeUpdatePhotos:b("subscribeToArbiterUpdatePhotos"),updateCallback:i,viewer:c})||this;h.$OmnipickerExistingPhotosViewState1=e;h.$OmnipickerExistingPhotosViewState2=d;h.$OmnipickerExistingPhotosViewState3=i;return h}var d=c.prototype;d.syncState=function(){this.$OmnipickerExistingPhotosViewState3({media:b("PhotoStore").getItemsInAvailableRange(this.$OmnipickerExistingPhotosViewState2),hasNextPage:b("PhotoStore").hasNextPage(this.$OmnipickerExistingPhotosViewState2)})};return c}(b("ScrollablePhotoViewStateCore"));e.exports=a}),null);
__d("XPagesManagerPostedPhotosController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/posted_photos/",{set:{type:"String",required:!0},size:{type:"Int",required:!0}})}),null);
__d("OmnipickerPagePostedPhotosPanel.react",["ActorURI","OmnipickerConfig","OmnipickerExistingPhotosPanelMixin.react","OmnipickerExistingPhotosViewState","PhotoSourceTypes","SelectionSource","XPagesManagerPostedPhotosController","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"OmnipickerPagePostedPhotosPanel",mixins:[b("OmnipickerExistingPhotosPanelMixin.react")],_viewState:null,propTypes:{pageID:b("prop-types").string.isRequired},getDefaultProps:function(){return{initBatchSize:20,pageBatchSize:16,puwMethod:"recent_photos",selectionSource:b("SelectionSource").PAGES_POSTED_PHOTOS,setID:b("OmnipickerConfig").POSTED_PHOTOS_SET_ID,sourceType:b("PhotoSourceTypes").PAGES_POSTED_PHOTOS}},UNSAFE_componentWillMount:function(){var a=b("ActorURI").create(b("XPagesManagerPostedPhotosController").getURIBuilder().setString("set",this.props.setID).setInt("size",this.props.initBatchSize).getURI(),this.props.pageID);this._viewState=new(b("OmnipickerExistingPhotosViewState"))(this,this.props.setID,this.props.initBatchSize,this.props.pageBatchSize,a,this.onViewStateChanged)},getViewState:function(){return this._viewState}});e.exports=a}),null);
__d("OmnipickerPagePostedPhotosSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_2_y4"},this.props,{children:this.props.labelText}))};return c}(b("React").Component);a.propTypes={labelText:b("prop-types").node};a.defaultProps={sourceType:b("PhotoSourceTypes").PAGES_POSTED_PHOTOS,labelText:h._("Page Photos")};e.exports=a}),null);
__d("OmnipickerSelectorList.react",["cx","PhotoSourceTypes","React","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("React").Children.map(this.props.children,function(c){if(!c)return;return b("React").cloneElement(c,{isSelected:c.props.sourceType===a.props.selectedSourceType,appID:a.props.appID})});return b("React").jsx("div",{className:"_1n6_",children:b("React").jsx("ul",{children:c})})};return c}(b("React").Component);a.propTypes={appID:b("prop-types").string,selectedSourceType:b("prop-types").oneOf(Object.keys(b("PhotoSourceTypes")))};e.exports=a}),null);
__d("OmnipickerWaterfallLogger",["PhotosUploadWaterfallXMixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getWaterfallAppName=function(){return this.$1};c.getWaterfallID=function(){return this.$2};c.logStep=function(a,c,d){return b("PhotosUploadWaterfallXMixin").logStep.call(this,a,c,d)};c.logPUWStep=function(a,c,d,e,f,g,h){return b("PhotosUploadWaterfallXMixin").logPUWStep.call(this,a,c,d,e,f,g,h)};return a}();e.exports=a}),null);
__d("ProductVideoChunkedUploader",["AdsVideoUploadEvents","AdsVideoUploadSession","AdsVideoUploadUtil","URI","VideoUploader","VideoUploadProgressBar"],(function(a,b,c,d,e,f){__p&&__p();var g,h="/v2.4",i="graph-video";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d=c.config,e=new(g||(g=b("URI")))(h+"/"+c.target_id+"/videos?access_token="+c.access_token).setSubdomain(i).toString();e={start_uri:e,receive_uri:e,post_uri:e,chunk_start_uri:e,chunk_receive_uri:e,chunk_post_uri:e,min_size:d.minSize,min_width:d.minWidth,min_height:d.minHeight,min_length:d.minLength,max_size:d.maxSize,max_length:d.maxLength,extensions:d.extensions,logging_delay:d.loggingDelay,max_transport_retries:d.maxTransportRetries,transport_retry_interval_base:d.transportRetryIntervalBase,max_server_retries:d.maxServerRetries,server_retry_interval_base:d.serverRetryIntervalBase,source:c.source,target_id:c.target_id,target_type:c.target_type};d=a.call(this,e)||this;d.$ProductVideoChunkedUploader1="";return d}var d=c.prototype;d.getUploadTime=function(){var a=this.__getSession();return a!=null?a.getUploadTime():null};d.getEncodingTime=function(){var a=this.__getSession();return a!=null?a.getEncodingTime():null};d.abort=function(){this.cancel()};d.upload=function(c){var d=c.getFile();d=b("AdsVideoUploadUtil").getVideoTitle(d);this.$ProductVideoChunkedUploader1=d?d:"";a.prototype.upload.call(this,c)};d.__getVideoUploadSession=function(a){return new(b("AdsVideoUploadSession"))(a)};d.getVideoTitle=function(){return this.$ProductVideoChunkedUploader1};d.__createSession=function(a){return new(b("AdsVideoUploadSession"))(a)};d.__getEventsWhichShouldListenFromSession=function(){var c=a.prototype.__getEventsWhichShouldListenFromSession.call(this);c.push(b("AdsVideoUploadEvents").ENCODING_SUCCESS,b("AdsVideoUploadEvents").ENCODING_ERROR);return c};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed",b("AdsVideoUploadEvents").ENCODING_SUCCESS,b("AdsVideoUploadEvents").ENCODING_ERROR]};d.__delegateEvent=function(c,d){var e=null;if(c==="upload-progressed"){var f=b("VideoUploadProgressBar").computeProgress(d.start_offset,d.sent_bytes,d.file_size,0,0);e=f/100}else c==="upload-finished"?this.post({}):c==="post-finished"?e=d.video_id:c==="post-failed"&&(c="upload-failed");a.prototype.__delegateEvent.call(this,c,e)};return c}(b("VideoUploader"));e.exports=a}),null);
__d("PageContentTabProductUploadVideoButton.react",["cx","fbt","AdsVideoUploadConfig","AdsVideoUploadEvents","AsyncRequest","FileInput.react","GraphAPI","Link.react","ProductVideoChunkedUploader","React","VideoUploadFile","XUIGrayText.react","promiseDone","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoUploaders:[],lastEncodingStatusCheckTimes:[]},d.$1=function(){__p&&__p();var a=d.refs.fileInput.getFileInput().getInput();a=b("VideoUploadFile").fromFileInput(a);var c=new(b("ProductVideoChunkedUploader"))({config:b("AdsVideoUploadConfig"),source:"product_edit_tool",target_id:d.props.productCatalogID,target_type:"product_catalog",access_token:d.props.pageContentTabAccessToken}),e=d.state.videoUploaders.length;c.subscribe("upload-failed",d.$2.bind(babelHelpers.assertThisInitialized(d),e));c.subscribe(b("AdsVideoUploadEvents").UPLOAD_ERROR,d.$2.bind(babelHelpers.assertThisInitialized(d),e));c.subscribe("post-failed",d.$2.bind(babelHelpers.assertThisInitialized(d),e));c.subscribe("post-finished",d.$3.bind(babelHelpers.assertThisInitialized(d),e));d.props.onVideoSelected(e);c.upload(a);a=d.state.videoUploaders;a[e]=c;d.setState({videoUploaders:a})},d.$2=function(a){d.props.onVideoUploadError(a)},d.$3=function(a){d.$4(a)},d.$5=function(a){var c=d.$6(a),e=d.state.lastEncodingStatusCheckTimes;e[a]=Date.now();d.setState({lastEncodingStatusCheckTimes:e});new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:c}).setHandler(d.$7.bind(babelHelpers.assertThisInitialized(d),a)).send()},d.$8=function(a,b){var c=d.$6(a);b=b.data;if(b)for(var e=0;e<b.length;e++)if(b[e].is_preferred){d.props.onVideoUploadFinished(a,c,b[e].uri);return}},d.$6=function(a){return d.state.videoUploaders[a].getUploadSession().getVideoID()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("FileInput.react"),{name:"video",ref:"fileInput",onChange:this.$1,children:a.jsx(b("Link.react"),{className:"_25dc",children:a.jsx("div",{className:"_25dd _25de",children:a.jsx(b("XUIGrayText.react"),{className:"_25df",size:"meta1",display:"block",children:h._("Add Videos")})})})})};d.$4=function(a){var b=this.state.lastEncodingStatusCheckTimes[a]+i;b=Math.max(0,b-Date.now());setTimeout(this.$5.bind(this,a),b)};d.$7=function(a,c){var d=this.$6(a);c=c.payload;c&&(c.is_ready?b("promiseDone")(b("GraphAPI")("2.3",e.id).object("video",d).edge("thumbnails").get({access_token:this.props.pageContentTabAccessToken}),this.$8.bind(this,a)):c.error?this.$2(a):this.$4(a))};return c}(b("React").Component);a.propTypes={onVideoSelected:(c=b("prop-types")).func.isRequired,onVideoUploadError:c.func.isRequired,onVideoUploadFinished:c.func.isRequired,pageContentTabAccessToken:c.string.isRequired,productCatalogID:c.string.isRequired};e.exports=a}),null);
__d("XPagesManagerProductPhotoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/upload/file/product/photo/",{waterfall_id:{type:"String"}})}),null);
__d("XStickerPhotoEditorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/editor/sticker_editor/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:!0,enumType:1},photo_fbid:{type:"Int",required:!0},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1},encrypted_photo_id:{type:"String"},enable_text:{type:"Bool",defaultValue:!0},enable_stickers:{type:"Bool",defaultValue:!0},enable_tagging:{type:"Bool",defaultValue:!0},enable_square_crop_mode:{type:"Bool",defaultValue:!0},aspect_ratio:{type:"Float"},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("PageProductPhotoEditButton.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","BOFSellerLogger","React","ReactComposerPhotoActions","Tooltip","XComposerPhotoUploader","XPagesManagerProductPhotoUploadController","XStickerPhotoEditorController","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("Arbiter").subscribe("PageProductPhotoEditor/newImage"+this.props.composerID,this.$2.bind(this))};d.render=function(){var a=h._("Edit Photo");return b("React").jsx("button",babelHelpers["extends"]({className:"_k4v",onClick:this.$3.bind(this)},b("Tooltip").propsFor(a),{children:b("React").jsx("div",{className:"_k4w"})}))};d.$3=function(){__p&&__p();var a=this;if(this.$1)return;b("BOFSellerLogger").log("Actn_EditPhotoClick",this.props.pageID,{target_class:"Photo",target_id:this.props.photoID});var c,d;this.props.photoID==parseInt(this.props.photoID,10)?(c=parseInt(this.props.photoID,10),d=""):(c=0,d=this.props.photoID);c=b("ActorURI").create(b("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.props.composerID).setEnum("target_type","page_product_composer").setInt("photo_fbid",c).setString("encrypted_photo_id",d).getURI(),this.props.pageID);this.$1=new(b("AsyncRequest"))(c).setFinallyHandler(function(){a.$1=null}).send();b("ReactComposerPhotoActions").startPhotoEdit(this.props.composerID,null)};d.$2=function(a,c){var d=this;a=b("ActorURI").create(b("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID);var e=c.encryptedID||c.fbid;a=new(b("XComposerPhotoUploader"))({uploadEndpoint:a,onUploadSuccess:function(a,b){d.props.onPhotoEdited(e,b.response.payload[0])}});a.getAsyncUploadRequest([c.blob]).send()};return c}(b("React").Component);a.propTypes={composerID:(c=b("prop-types")).string.isRequired,onPhotoEdited:c.func.isRequired,pageID:c.string.isRequired,photoID:c.string.isRequired};e.exports=a}),null);
__d("PageContentTabProductPhotoUploader.react",["cx","fbt","invariant","ActorURI","AudienceManagerEngagementVideoSelectionError.react","ComputerPanel.react","Image.react","Link.react","Omnipicker.react","OmnipickerComputerSelector.react","OmnipickerDialog.react","OmnipickerDialogRenderer","OmnipickerPagePostedPhotosPanel.react","OmnipickerPagePostedPhotosSelector.react","OmnipickerPanelList.react","OmnipickerSelectorList.react","OmnipickerWaterfallLogger","PageContentTabProductUploadVideoButton.react","PageProductPhotoEditButton.react","React","WaterfallIDGenerator","XPagesManagerProductPhotoUploadController","XUICloseButton.react","XUIError.react","XUIGrayText.react","XUISpinner.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();c=b("createReactClass_DEPRECATED")({displayName:"PageContentTabProductPhotoUploader",_waterfallLogger:null,propTypes:{className:(a=b("prop-types")).string,maxPhotosCount:a.number,pageID:a.string.isRequired,onPhotoEdited:a.func,onPhotosSelected:a.func.isRequired,onPhotoRemoved:a.func.isRequired,photos:a.array.isRequired,photoEditingEnabled:a.bool.isRequired,productCatalogID:a.string,pageContentTabAccessToken:a.string,videos:a.array,onVideoSelected:a.func,onVideoUploadFinished:a.func,onVideoUploadError:a.func,onVideoRemoved:a.func,showVideoUploadButton:a.bool,singleSelection:a.bool,xuiError:a.any},getInitialState:function(){var a,c={fileUploadURI:b("ActorURI").create(b("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new(b("OmnipickerWaterfallLogger"))("web_product_photo_omnipicker",b("WaterfallIDGenerator").generate());return{dialogRenderer:new(b("OmnipickerDialogRenderer"))((a=b("React")).jsx(b("OmnipickerDialog.react"),{onCancel:this.onPickerCancel,title:h._("Select Photo"),children:a.jsxs(b("Omnipicker.react"),{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos,singleSelection:this.props.singleSelection,children:[a.jsxs(b("OmnipickerSelectorList.react"),{children:[a.jsx(b("OmnipickerComputerSelector.react"),{}),a.jsx(b("OmnipickerPagePostedPhotosSelector.react"),{})]}),a.jsxs(b("OmnipickerPanelList.react"),{children:[a.jsx(b("ComputerPanel.react"),{config:c}),a.jsx(b("OmnipickerPagePostedPhotosPanel.react"),{pageID:this.props.pageID})]})]})}))}},onPickerCancel:function(){this.state.dialogRenderer.hide(),this._waterfallLogger.logStep("client_flow_cancel")},onPickerAddPhotos:function(a){this.state.dialogRenderer.hide(),this.props.onPhotosSelected(a)},render:function(){var a=null,c=null,d=this.props.photos.length;this.props.videos&&(d+=this.props.videos.length);(!this.props.maxPhotosCount||d<this.props.maxPhotosCount)&&(a=this._renderAddPhotoLink(),c=this._renderAddVideoLink());return b("React").jsxs("div",{className:this.props.className,children:[this._renderUploadedMedia(),a,c]})},_renderUploadedPhoto:function(a){var c=this,d=null;this.props.photoEditingEnabled&&(d=b("React").jsx(b("PageProductPhotoEditButton.react"),{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:a.fbid}));return b("React").jsxs("div",{className:"_5m94",children:[b("React").jsx(b("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(b){return c.props.onPhotoRemoved(a)}}),b("React").jsx(b("Image.react"),{className:"_19tc",src:a.src}),d,b("React").jsx("div",{className:"_19td"})]},a.fbid)},_renderUploadedVideo:function(a){var c=this,d=null;!a.ready&&!a.error&&(d=b("React").jsx(b("XUISpinner.react"),{className:"_37cg",size:"large"}));var e=null;a.error&&(e=b("React").jsx("div",{className:"_37ch",children:b("React").jsx(b("AudienceManagerEngagementVideoSelectionError.react"),{mainLabel:h._("Upload failed")})}));return b("React").jsxs("div",{className:"_5m94",children:[b("React").jsx(b("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(){c.props.onVideoRemoved||i(0,1178),c.props.onVideoRemoved(a)}}),b("React").jsx(b("Image.react"),{className:"_19tc",src:a.src}),d,e,b("React").jsx("div",{className:"_37cj"}),b("React").jsx("div",{className:"_37cm",children:b("React").jsx("div",{className:"_37cn"})}),b("React").jsx("div",{className:"_19td"})]},a.fbid)},_renderUploadedMedia:function(){var a=this.props.videos&&this.props.onVideoRemoved?this.props.videos.map(this._renderUploadedVideo):[],b=this.props.photos.map(this._renderUploadedPhoto);return a.concat(b)},_renderAddPhotoLink:function(){var a;return(a=b("React")).jsx(b("Link.react"),{className:"_3ff7",ref:"uploadButton",onClick:this._onPickerLaunch,children:a.jsx(b("XUIError.react"),{xuiError:this.props.xuiError,children:a.jsx("div",{className:"_22to _19tc",children:a.jsx(b("XUIGrayText.react"),{className:"_3ff8",size:"meta1",display:"block",children:h._("Add Photos")})})})})},_renderAddVideoLink:function(){return!this.props.showVideoUploadButton||!this.props.onVideoSelected||!this.props.onVideoUploadFinished||!this.props.onVideoUploadError||!this.props.productCatalogID||!this.props.pageContentTabAccessToken?null:b("React").jsx(b("PageContentTabProductUploadVideoButton.react"),{productCatalogID:this.props.productCatalogID,onVideoSelected:this.props.onVideoSelected,onVideoUploadFinished:this.props.onVideoUploadFinished,onVideoUploadError:this.props.onVideoUploadError,pageContentTabAccessToken:this.props.pageContentTabAccessToken})},_onPickerLaunch:function(){this._waterfallLogger.logStep("client_flow_begin"),this.state.dialogRenderer.show()}});e.exports=c}),null);
__d("XPresmaSettingsUpdateV2Controller",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/presma/settings_v2/update/",{})}),null);
__d("PresmaSettingFrameworkUtils",["fbt","AsyncRequest","XPresmaSettingsUpdateV2Controller"],(function(a,b,c,d,e,f,g){"use strict";a={updateGenericSettingValue:function(a,c){var d=b("XPresmaSettingsUpdateV2Controller").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({params_json:JSON.stringify(a),new_value_json:JSON.stringify(c)}).send()},getEnterEditModeDefaultLabel:function(){return g._("Change")},getExitEditModeDefaultLabel:function(){return g._("Done")}};e.exports=a}),null);
__d("ProfileIntroCardLogger",["csx","BanzaiLogger","CSS","DataStore","Event","Parent","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null,i=null;function a(a,c,d,e){h=c,i=e,b("tidyEvent")(b("Event").listen(a,"click",function(a){a=a.getTarget();var c=b("Parent").byAttribute(a,d);if(c){if(b("CSS").matchesSelector(c,"._md0")&&a.nodeName!=="A")return;j(JSON.parse(b("DataStore").get(c,"store")))}}))}function c(a){j(a)}function j(a){b("BanzaiLogger").log(h,babelHelpers["extends"]({},i,a))}e.exports={init:a,logClick:c}}),null);
__d("ReactComposerFormattedTextActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({SET_CATEGORIZED_TEXT_FORMATS:null,SET_TEXT_FORMATS:null,SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SELECTED_INDEX_IN_CATEGORY:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null,TOGGLE_TRAY_SHOWN:null,SET_COLLAPSED:null,SET_FONT_TEXT_FORMATS:null,NEXT_FONT_STYLE:null,SET_SELECTED_FONT_INDEX:null,TOGGLE_BECAME_INELIGIBLE:null,SET_FONT_STYLE:null},"ReactComposerFormattedTextActionType")}),null);
__d("ReactComposerFormattedTextStore",["ReactComposerFormattedTextActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;return c=a.call(this,function(){return{categorizedTextFormats:null,formattedTextPickerCollapsed:!1,prevSelectedCategory:null,selectedCategory:null,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:!1,shouldFadeInPicker:!1,textFormats:null,allFontTextFormats:null,selectedFontIndex:0,becameIneligible:!1}},function(a){__p&&__p();switch(a.type){case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore1(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore2(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore3(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore4(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore5(a);break;case b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore6(a);break;case b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore7(a);break;case b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore8(a);break;case b("ReactComposerFormattedTextActionType").SET_COLLAPSED:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore9(a);break;case b("ReactComposerFormattedTextActionType").SET_FONT_TEXT_FORMATS:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore10(a);break;case b("ReactComposerFormattedTextActionType").NEXT_FONT_STYLE:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore11(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_FONT_INDEX:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore12(a);break;case b("ReactComposerFormattedTextActionType").TOGGLE_BECAME_INELIGIBLE:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore13(a);break;case b("ReactComposerFormattedTextActionType").SET_FONT_STYLE:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerFormattedTextStore14(a);break}})||this}var d=c.prototype;d.getTrackingString=function(a){var b=this.getSelectedCategory(a),c=this.getSelectedIndex(a),d=this.getPrevSelectedIndex(a),e;if(b!=null){b=this.$ReactComposerFormattedTextStore15(b,this.getComposerData(a).categorizedTextFormats);e=this.$ReactComposerFormattedTextStore16(c,b);e===null&&(e=this.$ReactComposerFormattedTextStore16(d,b))}else e=this.$ReactComposerFormattedTextStore16(c,this.getComposerData(a).textFormats),e===null&&(e=this.$ReactComposerFormattedTextStore16(d,this.getComposerData(a).textFormats));return e!=null?e.trackingString:null};d.getTextFormatPresetID=function(a){return this.getComposerData(a).textFormatPresetID};d.getPrevSelectedTextFormatPresetID=function(a){var b=this.getPrevSelectedCategory(a);return b!=null?this.$ReactComposerFormattedTextStore17(this.getPrevSelectedIndex(a),b,this.getComposerData(a).categorizedTextFormats):this.$ReactComposerFormattedTextStore18(this.getPrevSelectedIndex(a),this.getComposerData(a).textFormats)};d.getBackgroundColorIsActive=function(a){return this.getComposerData(a).selectedIndex>-1};d.getSelectedCategory=function(a){return this.getComposerData(a).selectedCategory};d.getSelectedIndex=function(a){return this.getComposerData(a).selectedIndex};d.getPrevSelectedIndex=function(a){return this.getComposerData(a).prevSelectedIndex};d.getPrevSelectedCategory=function(a){return this.getComposerData(a).prevSelectedCategory};d.getShouldAutoOpenWhenUserStartsTyping=function(a){return this.getComposerData(a).shouldAutoOpenWhenUserStartsTyping};d.getShouldFadeInPicker=function(a){return this.getComposerData(a).shouldFadeInPicker};d.getCollapsed=function(a){return this.getComposerData(a).formattedTextPickerCollapsed};d.getCurrentFontPresets=function(a){var b=this.getComposerData(a).allFontTextFormats;a=this.getComposerData(a).selectedFontIndex;return b===null||b.length<=a?null:b[a]};d.getBecameIneligible=function(a){return this.getComposerData(a).becameIneligible};d.getSelectedFontIndex=function(a){return this.getComposerData(a).selectedFontIndex};d.$ReactComposerFormattedTextStore1=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore18(a,c.textFormats);c.selectedCategory=null;c.prevSelectedCategory=null;c.selectedIndex=a;c.prevSelectedIndex=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore2=function(a){a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore18(a,c.textFormats);c.selectedIndex=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex","selectedCategory"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.textFormatPresetID=this.$ReactComposerFormattedTextStore17(c,a,d.categorizedTextFormats);d.selectedIndex=c;d.selectedCategory=a;d.prevSelectedIndex=c;d.prevSelectedCategory=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore4=function(a){a=this.validateAction(a,["composerID","shouldAutoOpenWhenUserStartsTyping"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldAutoOpenWhenUserStartsTyping=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore5=function(a){a=this.validateAction(a,["composerID","shouldFadeInPicker"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldFadeInPicker=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore6=function(a){a=this.validateAction(a,["composerID","textFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormats=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore7=function(a){a=this.validateAction(a,["composerID","categorizedTextFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.categorizedTextFormats=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore8=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.formattedTextPickerCollapsed=!b.formattedTextPickerCollapsed;this.emitChange(a)};d.$ReactComposerFormattedTextStore9=function(a){a=this.validateAction(a,["composerID","formattedTextPickerCollapsed"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.formattedTextPickerCollapsed=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore10=function(a){a=this.validateAction(a,["composerID","textFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.allFontTextFormats=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore11=function(a){a=this.validateAction(a,["composerID","includeDisableSATPInListOfFonts"]);var b=a[0];a=a[1];var c=this.getComposerData(b),d=c.allFontTextFormats.length,e=c.selectedFontIndex;c.selectedFontIndex=(c.selectedFontIndex+1)%d;c.selectedFontIndex===0&&a&&(e===-1?(c.selectedIndex=c.prevSelectedIndex,c.formattedTextPickerCollapsed=!1):(c.selectedFontIndex=-1,c.prevSelectedIndex=c.selectedIndex,c.selectedIndex=-1,c.formattedTextPickerCollapsed=!0));a=(d=c.allFontTextFormats[c.selectedFontIndex])!=null?d:null;c.textFormats=a?a.textFormats:null;this.emitChange(b)};d.$ReactComposerFormattedTextStore12=function(a){a=this.validateAction(a,["composerID","index"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedFontIndex=a;this.emitChange(b)};d.$ReactComposerFormattedTextStore13=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.becameIneligible=!b.becameIneligible;this.emitChange(a)};d.$ReactComposerFormattedTextStore14=function(a){var b;a=this.validateAction(a,["composerID","index"]);var c=a[0];a=a[1];var d=this.getComposerData(c);b=(b=d.allFontTextFormats[a])!=null?b:null;d.selectedFontIndex=a;d.textFormats=b?b.textFormats:null;this.emitChange(c)};d.$ReactComposerFormattedTextStore18=function(a,b){a=this.$ReactComposerFormattedTextStore16(a,b);return a&&a.presetID?a.presetID:null};d.$ReactComposerFormattedTextStore17=function(a,b,c){b=this.$ReactComposerFormattedTextStore15(b,c);c=this.$ReactComposerFormattedTextStore16(a,b);return c&&Object.prototype.hasOwnProperty.call(c,"presetID")?c.presetID:null};d.$ReactComposerFormattedTextStore15=function(a,b){if(a==null||b==null)return null;for(var c=0;c<b.length;c++)if(b[c].categoryName===a)return b[c].textFormats;return null};d.$ReactComposerFormattedTextStore16=function(a,b){return a!=null&&a!==-1&&b&&Object.prototype.hasOwnProperty.call(b,a)?b[a]:null};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerFormattedTextActions",["ReactComposerDispatcher","ReactComposerFormattedTextActionType","ReactComposerFormattedTextStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerFormattedTextStore");a=function(){__p&&__p();function a(){}var c=a.prototype;c.setSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX,selectedIndex:c})};c.setSelectedIndexButNotPrevSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:c})};c.setSelectedIndexInCategory=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY,selectedCategory:c,selectedIndex:d})};c.setShouldAutoOpenWhenUserStartsTyping=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:c})};c.setShouldFadeInPicker=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:c})};c.setTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS,textFormats:c})};c.setCategorizedTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS,categorizedTextFormats:c})};c.toggleCollapsed=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED})};c.setCollapsed=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_COLLAPSED,formattedTextPickerCollapsed:c})};c.setFontTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_FONT_TEXT_FORMATS,textFormats:c})};c.nextFont=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").NEXT_FONT_STYLE,includeDisableSATPInListOfFonts:c})};c.setSelectedFontIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_FONT_INDEX,index:c})};c.toggleBecameIneligible=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").TOGGLE_BECAME_INELIGIBLE})};c.setFont=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_FONT_STYLE,index:c})};return a}();e.exports=new a()}),null);
__d("XStickyFormattedTextController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sticky_formatted_text/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerFormattedTextPickerContainerMixin",["invariant","Arbiter","AsyncRequest","ReactComposerAttachmentStore","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextStore","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPostToGroupStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","SATPInteractionsTypedLogger","XStickyFormattedTextController","bind"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!0;a={_prefillSubscription:void 0,_inlinePickerFormatsImpressionsLogged:!1,_trayCategorizedFormatsImpressionsLogged:!1,mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerEventAttachmentStore"),b("ReactComposerFormattedTextStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerPostToGroupStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"))],statics:{beforeCalculateInitialState:function(a,c,d){__p&&__p();h&&(b("ReactComposerFormattedTextActions").setSelectedIndex(a,c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR),c.shouldAutoOpenWhenUserStartsTyping&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(a,c.shouldAutoOpenWhenUserStartsTyping));c.entryPoint==="PLAINTEXT_BUTTON"&&(b("ReactComposerFormattedTextActions").setSelectedFontIndex(a,-1),b("ReactComposerFormattedTextActions").setCollapsed(d.composerID,!0));d.gks&&(d.gks.collapseSATPInitially||d.gks.showUserComposer)&&b("ReactComposerFormattedTextActions").setCollapsed(d.composerID,!0);if(c.stickyStylesEnabled&&!h){d=b("XStickyFormattedTextController").getURIBuilder().setBool("is_set",!1).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(b("bind")(this,function(d){if(d&&d.payload&&d.payload.index!=null){var e=d.payload.index;e===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!d.payload.hasUserUnformattedText&&(e=c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);b("ReactComposerFormattedTextActions").setSelectedIndex(a,e)}})).send()}},calculateState:function(a,c,d){__p&&__p();var e=b("ReactComposerTaggerEligibilityUtils").isSATPEligible(a,c),f=b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY;if(e){if(!this._inlinePickerFormatsImpressionsLogged&&b("ReactComposerStatusStore").getTextLength(a)>0){this._inlinePickerFormatsImpressionsLogged=!0;for(var g=c.textFormats,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;new(b("SATPInteractionsTypedLogger"))().setTrackingString(j.trackingString).setUserActionString("impression").setPresetID(j.presetID).setRequestedCollection("COMPOSER_TOP").log()}}if(!this._trayCategorizedFormatsImpressionsLogged&&f){this._trayCategorizedFormatsImpressionsLogged=!0;for(var j=c.categorizedTextFormatPresets,i=Array.isArray(j),h=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=j.length)break;g=j[h++]}else{h=j.next();if(h.done)break;g=h.value}g=g;g=g.textFormats;for(var g=g,k=Array.isArray(g),l=0,g=k?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=g.length)break;m=g[l++]}else{l=g.next();if(l.done)break;m=l.value}m=m;new(b("SATPInteractionsTypedLogger"))().setTrackingString(m.trackingString).setUserActionString("impression").setPresetID(m.presetID).setRequestedCollection("COMPOSER_ALL").log()}}}}m=c.textFormats;l=b("ReactComposerFormattedTextStore").getCurrentFontPresets(a);l!==null&&l!==void 0&&(m=l.textFormats);k=b("ReactComposerTaggerStore").getSelectedTagger(a)===this.taggerID;return{isSelected:k,canUseFormattedText:e,collapsed:b("ReactComposerFormattedTextStore").getCollapsed(a),fadingInPicker:b("ReactComposerFormattedTextStore").getShouldFadeInPicker(a),prevSelectedIndex:b("ReactComposerFormattedTextStore").getPrevSelectedIndex(a),prevSelectedCategory:b("ReactComposerFormattedTextStore").getPrevSelectedCategory(a),selectedCategory:b("ReactComposerFormattedTextStore").getSelectedCategory(a),selectedIndex:b("ReactComposerFormattedTextStore").getSelectedIndex(a),shouldAutoOpenWhenUserStartsTyping:b("ReactComposerFormattedTextStore").getShouldAutoOpenWhenUserStartsTyping(a),shouldDisplay:e&&(c.noSproutDesign||k)&&!d.gks.isPageVisitor,taggerData:b("ReactComposerTaggerStore").getTaggerData(a,this.taggerID),taggerSource:b("ReactComposerTaggerStore").getTaggerSource(a,this.taggerID),trayShown:f,exceedCharacterCount:d.gks&&d.gks.canProduceLongTextSATP&&b("ReactComposerTaggerEligibilityUtils").exceedSATPCharacterCountOrExceedNewLinesCount(a,c),currentFontPresets:b("ReactComposerFormattedTextStore").getCurrentFontPresets(a),textFormats:m,becameIneligible:b("ReactComposerFormattedTextStore").getBecameIneligible(a),currentFontIndex:b("ReactComposerFormattedTextStore").getSelectedFontIndex(a)}}},handleSaveStickyPreset:function(a){if(!this.props.stickyStylesEnabled)return;a=b("XStickyFormattedTextController").getURIBuilder().setString("preset_id",a===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?0:b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID)).setBool("is_set",!0).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(a).send()},UNSAFE_componentWillMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this.constructor.taggerID||g(0,4299)},componentDidMount:function(){var a=this;h&&(this.props.autoOpen&&window.setTimeout(function(){b("ReactComposerFormattedTextActions").setShouldFadeInPicker(a.context.composerID,!0),b("ReactComposerTaggerStore").getSelectedTagger(a.context.composerID)===null&&b("ReactComposerTaggerActions").selectTaggerWithoutLogging(a.context.composerID,a.constructor.taggerID)},0),h=!1)},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null},_handlePrefill:function(){__p&&__p();var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);if(a){var c;b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a);if((c=a)!=null?c.prefillPresetID:c){var d=this.context.composerID;this.props.textFormats.forEach(function(c,e){c.presetID===String(a.prefillPresetID)&&b("ReactComposerFormattedTextActions").setSelectedIndex(d,e)})}}}};e.exports=a}),null);
__d("ComposerFormattedTextFontPickerComponent.react",["ix","cx","fbt","ClickableArea.react","ClickableAreaButton.react","ContextualLayerUpdateOnScroll","Grid.react","ReactAbstractContextualDialog","ReactComposerFormattedTextPickerComponent.react","Image.react","Link.react","React","prop-types","LayerHideOnBlur","LayerHideOnEscape","ReactLayer","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();b("Grid.react").GridItem;a={wrapperClassName:"_8d1e"};var j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"ComposerFormattedTextFontPickerMenu",theme:a}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.state={isFontMenuVisible:!1,isFontPickerHovered:!1,isCancelIconHovered:!1};c.$9=function(){c.setState({isFontPickerHovered:!0})};c.$10=function(){c.setState({isFontPickerHovered:!1})};c.$7=function(){!c.state.isFontMenuVisible&&c.props.fadeMenuOnHoverCancel&&c.setState({isCancelIconHovered:!0})};c.$6=function(){c.setState({isCancelIconHovered:!1})};c.$14=function(a){a!==c.state.isFontMenuVisible&&c.setState(function(a){return{isFontMenuVisible:!a.isFontMenuVisible}})};c.$12=function(){c.props.collapsed?(c.props.onToggle(),c.props.onClickFontButton()):c.$14()};c.$1=b("React").createRef();return c}var d=c.prototype;d.$2=function(a){this.props.onSelect&&this.props.onSelect(a)};d.$3=function(){this.props.onSelect&&this.props.onSelect(-1),this.props.onToggle&&this.props.onToggle()};d.$4=function(){var a=[];for(var c=0;c<this.props.textFormats.length;c++){var d=c===this.props.selectedIndex&&c!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR,e=c!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!!this.props.textFormats[c].keyframesAnimation,f=this.props.textFormats[c]?this.props.textFormats[c].accessibilityLabel+(c===this.props.selectedIndex?i._(", selected"):""):"";f=b("React").jsx("div",{className:this.props.noSproutDesign?"_4ydj":"",children:b("React").jsx("div",{className:d?"_4ydk":"",children:b("React").jsxs(b("Link.react"),{tabIndex:this.props.collapsed?-1:null,href:"#","aria-label":f,onClick:c===this.props.selectedIndex?null:this.$2.bind(this,c),children:[b("React").jsx("div",{className:"_2j78 _74_0"+(d?" _4ydl":"")+(d?" _7bep":"")+(this.props.collapsed?" _4vb-":""),style:c===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?null:this.props.textFormats[c].swatchStyle}),e?b("React").jsx(b("Image.react"),{src:g("497826"),className:"_3mwi"}):null]})})},c+2);a.push(f)}d=this.props.cancelButtonType==="SWATCH";return b("React").jsx("div",{className:"_8d1f"+(!this.props.collapsed&&(this.state.isFontMenuVisible||this.state.isFontPickerHovered||this.state.isCancelIconHovered)?" _8d1g":"")+(!d&&!this.props.collapsed&&(this.state.isFontMenuVisible||this.state.isFontPickerHovered)?" _8d1h":"")+(d?" _8d1i":"")+(!this.props.collapsed&&this.state.isCancelIconHovered?" _8d1j":""),children:a})};d.$5=function(a){return b("React").jsx("div",{className:"_8d1f"+(a?"":" _8d1i")+(this.state.isFontMenuVisible||this.state.isFontPickerHovered?" _8d1g":"")+(a&&!this.props.collapsed&&(this.state.isFontMenuVisible||this.state.isFontPickerHovered)?" _8d1h":"")+(this.state.isCancelIconHovered?" _8d1k":""),children:b("React").jsx(b("ClickableArea.react"),{onMouseLeave:a?null:this.$6,onMouseEnter:a?null:this.$7,onClick:this.$3.bind(this),children:b("React").jsx("div",{className:(a?"_2j78":"")+(a?" _74_0":"")+(a?"":" _74-_")+" _23ju _74_1"+(this.props.collapsed?" _4vb-":""),children:a?null:this.$8()})})})};d.$8=function(){return b("React").jsxs("div",{className:"_8d1l",children:[b("React").jsx(b("Image.react"),{src:g("478238")}),b("React").jsx("div",{className:"_88hu _8d1m",children:this.state.isCancelIconHovered?i._("Remove Background"):null})]})};d.$11=function(a){a=b("React").jsx(b("ClickableArea.react"),{onClick:this.$12,onMouseEnter:this.$9,onMouseLeave:this.$10,children:b("React").jsxs("div",{ref:this.$1,className:(this.props.noSproutDesign?"_4ydj":"")+" _74_2 _8d1f"+(this.props.collapsed||this.state.isFontMenuVisible||this.state.isFontPickerHovered?" _8d1i":"")+(!this.props.collapsed&&this.state.isCancelIconHovered?" _8d1g":""),children:[this.$13(),b("React").jsxs(b("ShimButton.react"),{className:"_88hx",children:[b("React").jsx("div",{className:"_88hu",children:a.toString().toLowerCase()}),b("React").jsx("div",{className:"_88ht"+(this.props.collapsed?"":" _88it"),children:b("React").jsx(b("Image.react"),{src:g("492547")})})]})]},this.props.textFormats.length+2)});return a};d.$13=function(){return this.props.collapsed?b("React").jsx("div",{className:"_w4h _88io",children:b("React").jsx(b("ClickableAreaButton.react"),{onClick:this.props.onToggle,label:this.props.collapsed?i._("Show background options"):i._("Hide background options"),children:b("React").jsx("div",{className:"_88in"+(this.props.collapsed?" _2j7a":""),children:b("React").jsx("div",{className:this.props.collapsed?"":"_2j7b"})})})},0):null};d.$15=function(a){var c=this;return b("React").jsx(j,{label:i._("Font menu"),alignment:this.props.alignment,behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return c.$1.current},position:"above",shown:this.state.isFontMenuVisible,onToggle:this.$14,children:this.props.allStyles.map(function(d,e){return d!==a?b("React").jsx(b("ClickableAreaButton.react"),{label:d,onClick:function(){return c.$16(e)},children:b("React").jsx("div",{className:"_8d1n _88hu",children:d.toLowerCase()})},e):null})})};d.$16=function(a){this.props.selectFontStyle(a),this.$14()};d.render=function(){var a=this.props.collapsed?i._("Background"):this.props.currentFontPresets&&this.props.currentFontPresets.collectionName.text,c=this.$4(),d=this.$11(a),e=this.props.cancelButtonType==="SWATCH",f=this.$5(e);a=this.$15(a);return b("React").jsxs("div",{className:"_4ukb _8d1o",children:[d,e?f:null,c,e?null:f,a]})};return c}(b("React").Component);c.propTypes={collapsed:(d=b("prop-types")).bool,composerBodyWidth:d.number,disableNoBgColor:d.bool,hidden:d.bool,onSelect:d.func.isRequired,onToggle:d.func,onTrayToggle:d.func,selectedIndex:d.number,suppressTransition:d.bool,textFormats:d.arrayOf(d.object).isRequired,currentFontPresets:d.shape(b("ReactComposerFormattedTextPickerComponent.react").FontTextFormat),onClickFontButton:d.func,blackFontPicker:d.bool,inlineEmojiPicker:d.bool,cancelButtonType:d.string,allStyles:d.arrayOf(d.string),selectFontStyle:d.func,fadeMenuOnHoverCancel:d.bool,exceedCharacterCount:d.bool,onChange:d.func,putEmojiPickerBySATPSelector:d.bool};e.exports=c}),null);
__d("ReactComposerFormattedTextPickerButton.react",["cx","fbt","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerFormattedTextPickerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_BUTTON},getTitle:function(){return h._("Add a background color to your post")},getTooltip:function(){return h._("Add a background color to your post")},getClassName:function(){return"_cod"}});e.exports=a}),null);
__d("ReactComposerFormattedTextPickerContainer.react",["csx","cx","Arbiter","Bootloader","ComposerEntryPointRef","ComposerFormattedTextFontPickerComponent.react","CSS","DOM","DOMQuery","React","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextPickerContainerMixin","ReactComposerFormattedTextStore","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerTaggerActions","ReactComposerTaggerType","SATPInteractionsTypedLogger","createReactClass_DEPRECATED","ge","getElementRect","promiseDone","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerFormattedTextPickerContainer",_composerMountSubscription:void 0,_suppressTransition:!1,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerBodyWidth:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTaggerDiv:null,mixins:[b("ReactComposerFormattedTextPickerContainerMixin")],propTypes:{autoOpen:(a=b("prop-types")).bool,categorizedTextFormatPresets:a.arrayOf(a.object).isRequired,categorizedTrayEnabled:a.bool,defaultFormat:a.number,disableSATPMemoization:a.bool,disableNoBgColor:a.bool,hidePicker:a.bool,maxNewlines:a.number,noSproutDesign:a.bool,prefillConfig:b("ReactComposerPrefillConfig"),statusAttachmentActive:a.bool,stickyStylesEnabled:a.bool,textLengthLimit:a.number,allFontTextFormats:a.arrayOf(a.object),currentFontPresets:a.shape(b("ReactComposerFormattedTextPickerComponent.react").FontTextFormat),inlineEmojiPicker:a.bool,cancelButtonType:a.string,fadeMenuOnHoverCancel:a.bool,exceedCharacterCount:a.bool,onMentionsInputChange:a.func,putEmojiPickerBySATPSelector:a.bool},statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_TAGGER},render:function(){__p&&__p();this._updateBackground(this.state.selectedIndex,this.state.selectedCategory);if(!this.state.shouldDisplay)return null;var a=this._getStyles(this.state.selectedIndex,this.state.selectedCategory);a=a.bodyStyle.includes("(255,255,255");if(this._canProduceSATPWithFont()){var c;c=((c=this.props.allFontTextFormats)!=null?c:[]).map(function(a){return a==null?void 0:(a=a.collectionName)==null?void 0:a.text}).filter(function(a){return a!=null});return b("React").jsx(b("ComposerFormattedTextFontPickerComponent.react"),{collapsed:this.state.collapsed,composerBodyWidth:this._getComposerBodyWidth(),disableNoBgColor:this.props.disableNoBgColor,hidden:this.props.hidePicker||this.state.fadingInPicker,onSelect:this._onSelect,onSelectInCategorizedFormatTray:this._onSelectInCategorizedFormatTray,onToggle:this._onToggle,onTrayToggle:this._onTrayToggle,selectedIndex:this.state.selectedIndex,suppressTransition:this._suppressTransition,textFormats:this.state.textFormats,canProduceSATPWithFont:this._canProduceSATPWithFont(),currentFontPresets:this.state.currentFontPresets,onClickFontButton:this._selectFirstFont,blackFontPicker:this._canProduceSATPWithFont()&&(this.state.selectedIndex===-1||a),inlineEmojiPicker:this.props.inlineEmojiPicker,cancelButtonType:this.props.cancelButtonType,allStyles:c,selectFontStyle:this._selectFontStyle,fadeMenuOnHoverCancel:this.props.fadeMenuOnHoverCancel,exceedCharacterCount:this.props.exceedCharacterCount,onMentionsInputChange:this.props.onMentionsInputChange,putEmojiPickerBySATPSelector:this.props.putEmojiPickerBySATPSelector})}return b("React").jsx(b("ReactComposerFormattedTextPickerComponent.react"),{categorizedTextFormatPresets:this.props.categorizedTextFormatPresets,categorizedTrayEnabled:this.props.categorizedTrayEnabled,collapsed:this.state.collapsed,composerBodyWidth:this._getComposerBodyWidth(),disableNoBgColor:this.props.disableNoBgColor,hidden:this.props.hidePicker||this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onSelectInCategorizedFormatTray:this._onSelectInCategorizedFormatTray,onToggle:this._onToggle,onTrayToggle:this._onTrayToggle,selectedCategory:this.state.selectedCategory,selectedIndex:this.state.selectedIndex,suppressTransition:this._suppressTransition,textFormats:this.state.textFormats,trayShown:this.state.trayShown,canProduceSATPWithFont:this._canProduceSATPWithFont(),currentFontPresets:this.state.currentFontPresets,onClickFontButton:this._selectFirstFont,blackFontPicker:this._canProduceSATPWithFont()&&(this.state.selectedIndex===-1||a),inlineEmojiPicker:this.props.inlineEmojiPicker,exceedCharacterCount:this.props.exceedCharacterCount,onMentionsInputChange:this.props.onMentionsInputChange,putEmojiPickerBySATPSelector:this.props.putEmojiPickerBySATPSelector})},UNSAFE_componentWillMount:function(){var a=this;b("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,this.taggerID,{maxNewlines:this.props.maxNewlines,textLengthLimit:this.props.textLengthLimit});this._composerMountSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID,function(){a._memoizedComposerID=null,a._memoizedComposerRoot=null,a._memoizedComposerBody=null,a._memoizedComposerBodyWidth=null,a._memoizedComposerOverlay=null,a._memoizedComposerWrapper=null,a._memoizedComposerTaggerDiv=null})},componentWillUnmount:function(){this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this._updateBackground(b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR,this.state.selectedCategory),this._composerMountSubscription&&this._composerMountSubscription.unsubscribe(),this._composerMountSubscription=null},componentDidMount:function(){__p&&__p();var a=this;this.props.allFontTextFormats!==null&&this.props.allFontTextFormats!==void 0&&b("ReactComposerFormattedTextActions").setFontTextFormats(this.context.composerID,this.props.allFontTextFormats);b("ReactComposerFormattedTextActions").setTextFormats(this.context.composerID,this.state.textFormats);b("ReactComposerFormattedTextActions").setCategorizedTextFormats(this.context.composerID,this.props.categorizedTextFormatPresets);if(this.props.noSproutDesign){var c=this._getComposerBody();c&&b("CSS").addClass(c,"_2j7c")}this.props.prefillConfig&&this.props.prefillConfig.taggersData&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT]&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex!==null&&(b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex),b("Bootloader").loadModules(["ReactComposerFocusActions"],function(b){b.notifyFocusAcquired(a.context.composerID)},"ReactComposerFormattedTextPickerContainer.react"))},UNSAFE_componentWillUpdate:function(a,c){this.state.selectedIndex!==c.selectedIndex&&(this.state.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR||c.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)&&(this._suppressTransition=!0),c.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&(this.state.selectedIndex!==c.selectedIndex||this.state.textFormats&&this.state.textFormats.length>0&&c.textFormats&&c.textFormats.length>0&&this.state.textFormats[0].presetID!==c.textFormats[0].presetID)&&this._updateOverlay()},componentDidUpdate:function(a,c){this.state.becameIneligible&&!c.canUseFormattedText&&this.state.canUseFormattedText?(this._onBecameEligible(),b("ReactComposerFormattedTextActions").toggleBecameIneligible(this.context.composerID)):this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&c.canUseFormattedText&&!this.state.canUseFormattedText&&(this._onBecameIneligible(),b("ReactComposerFormattedTextActions").toggleBecameIneligible(this.context.composerID)),!c.isSelected&&this.state.isSelected?this._onPickerOpened():c.isSelected&&!this.state.isSelected&&this._onPickerClosed(),c.selectedIndex!==this.state.selectedIndex&&this._onSelectedIndexChanged(),c.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,!1),this.state.fadingInPicker&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,!1)},_expandTagSummary:function(){var a=this._getComposerRoot();a&&b("CSS").removeClass(a,"_10m_")},_collapseTagSummary:function(){var a=this._getComposerRoot();a&&b("CSS").addClass(a,"_10m_")},_onPickerOpened:function(){this._collapseTagSummary();var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this._setShouldHideTaggersDiv(a)},_focusComposerTextInput:function(){b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onPickerClosed:function(){this._collapseTagSummary(),this._setShouldHideTaggersDiv(!1)},_setShouldHideTaggersDiv:function(a){var c=this._getComposerTaggerDiv();if(!c)return;a?b("CSS").addClass(c,"_10n0"):b("CSS").removeClass(c,"_10n0")},_getComposerRoot:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=b("ge")(this._memoizedComposerID);return this._memoizedComposerRoot},_getComposerBody:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerBody=this._domScry(a,"._i-o");return this._memoizedComposerBody},_getComposerBodyWidth:function(){__p&&__p();if(!this.props.disableSATPMemoization&&this._memoizedComposerBodyWidth!=null&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBodyWidth;var a=this._getComposerBody();if(!a)return null;a=b("getElementRect")(a);if(!a)return null;this._memoizedComposerBodyWidth=a.width;return this._memoizedComposerBodyWidth},_getComposerOverlay:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerOverlay=this._domScry(a,"._3enz");return this._memoizedComposerOverlay},_getComposerWrapper:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerWrapper=this._domScry(a,"._3eny");return this._memoizedComposerWrapper},_getComposerPlaceholder:function(){var a=this._getComposerTextInput();return!a?null:this._domScry(a,"._1p1t")},_getComposerTextInput:function(){var a=this._getComposerBody();return!a?null:this._domScry(a,"._395")},_getComposerTaggerDiv:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerTaggerDiv=this._domScry(a,"._1idc");return this._memoizedComposerTaggerDiv},_domScry:function(a,c){a=b("DOMQuery").scry(a,c);return!a||a.length===0?null:a[a.length-1]},_onBecameEligible:function(){this.state.prevSelectedCategory!=null&&this.state.prevSelectedIndex!=null?b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,this.state.prevSelectedCategory,this.state.prevSelectedIndex):this.state.prevSelectedIndex!=null&&b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex)},_onBecameIneligible:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;a&&b("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},_onSelectedIndexChanged:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;a?this._collapseTagSummary():this._expandTagSummary();this.props.noSproutDesign||this._setShouldHideTaggersDiv(a);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT,{formatActive:a})},_updateBackground:function(a,c){__p&&__p();var d=this,e=this._getComposerRoot();if(!e)return;var f=this._getComposerBody();if(!f)return;var g=this._getComposerOverlay();if(!g)return;var h=this._getComposerWrapper();if(!h)return;var i=this._getStyles(a,c);b("DOM").setAttributes(f,{style:i.bodyStyle});if(a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)b("CSS").addClass(e,"_1mjk"),i.bodyStyle.includes("255,255,255")?b("CSS").addClass(e,"_74_t"):b("CSS").removeClass(e,"_74_t"),b("CSS").addClass(e,"_38ws"),b("CSS").addClass(f,"_2ihx"),this.context.gks&&this.context.gks.hideHeader&&b("CSS").addClass(f,"_7ea-"),this.context.composerType===b("ComposerEntryPointRef").TIMELINE&&b("CSS").addClass(f,"_7g0f"),b("CSS").addClass(h,"_2ihx"),b("CSS").addClass(g,"_2ihx"),b("CSS").addClass(g,"_4xe1");else{c=this._getStyles(this.state.selectedIndex,this.state.selectedCategory);b("DOM").setAttributes(g,{style:c.bodyStyle});b("CSS").removeClass(e,"_1mjk");b("CSS").removeClass(f,"_2ihx");this.context.gks&&this.context.gks.hideHeader&&b("CSS").removeClass(f,"_7ea-");this.context.composerType===b("ComposerEntryPointRef").TIMELINE&&b("CSS").removeClass(f,"_7g0f");b("CSS").removeClass(h,"_2ihx");b("CSS").removeClass(g,"_2ihx");b("CSS").removeClass(g,"_4xe1")}var j=this._getComposerTextInput();if(!j)return;this._updateTextDelightSpans(j,i);c=i.fontStyle;var k=c&&c["font-family"];e=c&&c["font-url"];f=typeof document.fonts==="object"&&typeof FontFace==="function";if(e&&k&&f){h=new FontFace(k,"url("+e+")");b("promiseDone")(h.load(),function(a){window.document.fonts.add(a),d.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&(b("DOM").setAttributes(j,{style:i.textInputStyle}),b("DOM").setAttributes(j,{style:{fontFamily:k+", Helvetica, Arial, sans-serif"}}))})}(!this._canProduceSATPWithFont()||a===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)&&b("DOM").setAttributes(j,{style:i.textInputStyle});g=this._getComposerPlaceholder();if(!g)return;b("DOM").setAttributes(g,{style:i.textInputColorStyle});i.textInputColorStyle&&(g.style.opacity="0.7")},_updateTextDelightSpans:function(a,c){if(!a)return;var d=b("DOMQuery").scry(a,"._2k9q");d.forEach(function(a){b("DOM").setAttributes(a,{style:c.delightTextStyle})});d=b("DOMQuery").scry(a,"._6854");d.forEach(function(a){b("DOM").setAttributes(a,{style:c.delightButtonStyle})})},_updateOverlay:function(){__p&&__p();var a=this._getComposerRoot();if(!a)return;a=this._getComposerBody();if(!a)return;var c=this._getComposerOverlay();if(!c)return;a=this._getStyles(this.state.selectedIndex,this.state.selectedCategory);b("DOM").setAttributes(c,{style:a.bodyStyle});a=function a(d){b("CSS").removeClass(c,"_1wnq"),b("CSS").addClass(c,"_1wnr"),b("CSS").addClass(c,"_3eo2"),c.removeEventListener("transitionend",a,!1)};b("CSS").removeClass(c,"_3eo2");c.addEventListener("transitionend",a,!1);b("CSS").addClass(c,"_1wnq");b("CSS").removeClass(c,"_1wnr")},_saveStickyPreset:function(a,c){this.handleSaveStickyPreset(a);a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID);var d=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);a&&new(b("SATPInteractionsTypedLogger"))().setTrackingString(d).setUserActionString("style_applied").setPresetID(a).setRequestedCollection(c).log()},_onSelect:function(a){this.state.canUseFormattedText&&(this._canProduceSATPWithFont()&&a===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?b("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,a):b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,a),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID),this._saveStickyPreset(a,"COMPOSER_TOP"))},_onSelectInCategorizedFormatTray:function(a,c){this.state.canUseFormattedText&&(b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,c,a),this._saveStickyPreset(a,"COMPOSER_ALL"))},_onToggle:function(){var a=!this.state.collapsed;!a&&this.props.allFontTextFormats!==null&&this.props.allFontTextFormats!==void 0&&(b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID),this.state.prevSelectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this.state.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?this._onSelect(0):this._onSelect(this.state.prevSelectedIndex));b("ReactComposerFormattedTextActions").toggleCollapsed(this.context.composerID)},_onTrayToggle:function(){var a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID),c=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);this.state.trayShown||(a=a!=null?a:"-1",new(b("SATPInteractionsTypedLogger"))().setTrackingString(c).setUserActionString("tray_shown").setPresetID(a).setRequestedCollection("COMPOSER_ALL").log());b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY,!0)},_getSelectedTextFormat:function(a,c){__p&&__p();if(a!=null&&a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){var d=null;if(c!=null){for(var e=0;e<this.props.categorizedTextFormatPresets.length;e++)if(this.props.categorizedTextFormatPresets[e].categoryName===c){d=this.props.categorizedTextFormatPresets[e].textFormats;break}}else d=this.state.textFormats;return d&&Object.prototype.hasOwnProperty.call(d,a)?d[a]:null}return null},_getStyles:function(a,b){var c="",d="",e="",f="",g="",h="",i="";a=this._getSelectedTextFormat(a,b);a&&a.bodyStyle&&a.textInputStyle&&(c=a.bodyStyle,d=a.textInputStyle,e=a.textInputColorStyle,f=a.delightTextStyle,g=a.delightButtonStyle);a&&a.fontStyle&&(h=a.fontStyle);a&&a.backgroundColor&&(i=a.backgroundColor);return{bodyStyle:c,textInputStyle:d,textInputColorStyle:e,delightTextStyle:f,delightButtonStyle:g,fontStyle:h,backgroundColor:i}},_selectFirstFont:function(){b("ReactComposerFormattedTextActions").setSelectedFontIndex(this.context.composerID,0),b("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,0),this._updateBackground(this.state.selectedIndex,this.state.selectedCategory)},_canProduceSATPWithFont:function(){return this.props.allFontTextFormats!==null&&this.props.allFontTextFormats!==void 0},_selectFontStyle:function(a){b("ReactComposerFormattedTextActions").setFont(this.context.composerID,a)}});e.exports=c}),null);
__d("ReactComposerBrandedContentLivingRoomInstructionContainer.react",["fbt","FluxContainer","React","ReactComposerAttachmentStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hasLivingRoomAttachment:d.props.composerID!=null?b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.props.composerID)==="LIVING_ROOM":!1},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore")]};c.calculateState=function(a,c){return{hasLivingRoomAttachment:c.composerID!=null?b("ReactComposerAttachmentStore").getSelectedAttachmentID(c.composerID)==="LIVING_ROOM":!1}};var d=c.prototype;d.render=function(){return!this.state.hasLivingRoomAttachment?null:b("React").jsx("div",{children:g._("You can only use your Page's videos when creating a branded content post with a Watch Party.")})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("BrandedContentHandshakeToolTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:BrandedContentHandshakeToolLoggerConfig")}),null);
__d("ReactComposerBrandedContentBCTooltip.react",["cx","fbt","Image.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("SUISimplePopover.react"),{contentWidthUseSparingly:360,display:"inline",theme:b("SUIBusinessTheme"),content:a.jsxs("div",{children:[a.jsx("div",{children:h._("This is an example of what posts look like with the \"Paid\" label. Your business partner will also be able to see insights for this post.")}),a.jsx(b("Image.react"),{className:"_1muv",src:"/images/branded_content/option_branded_content.png"})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerBrandedContentCardComponent.react",["cx","React","SimpleNUXMessage","XUIAmbientNUX.react","XUICard.react","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:d.props.simpleNUX!=null&&!b("SimpleNUXMessage").hasUserSeenMessage(d.props.simpleNUX)},d.$1=function(){d.props.simpleNUX?b("SimpleNUXMessage").markMessageSeenByUser(d.props.simpleNUX):null,d.setState({nuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_3l7y",children:[b("React").jsxs(b("XUICard.react"),{className:"_3lhk"+(this.props.selected?" _3f2-":""),children:[b("React").jsx(b("XUIRadioInput.react"),{value:this.props.sponsorRelationship,checked:this.props.selected,onChange:this.props.onChange}),b("React").jsxs("div",{className:"_3lhl",children:[b("React").jsxs("div",{className:"_3lhm _3li1",children:[this.props.title,this.props.popover]}),b("React").jsx("div",{className:"_3li1",children:this.props.text}),b("React").jsx("div",{className:"_3li1",children:this.props.children})]})]}),this.renderLayers()]})};d.renderLayers=function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{offsetY:35,position:"left",contextRef:function(){return a},shown:this.state.nuxShown,onCloseButtonClick:this.$1,children:this.props.simpleNUXMessage})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerBrandedContentDirectboostCheckbox.react",["cx","fbt","FDSCheckboxInput.maintenance.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=!this.props.selected||this.props.value==1;return b("React").jsxs("div",{display:"inline",children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{value:c,isDisabled:!this.props.selected,onChange:function(b,c){a.props.onChange(b?1:0)},label:h._("Allow partner to boost this post.")}),b("React").jsx(b("SUISimplePopover.react"),{content:b("React").jsxs("div",{children:[h._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),b("React").jsx("span",{className:"_2pis",children:b("React").jsx(b("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank",children:h._("Learn more")})})]}),theme:b("SUIBusinessTheme")})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerBrandedContentSponsorshipTooltip.react",["cx","fbt","Image.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("SUISimplePopover.react"),{contentWidthUseSparingly:360,display:"inline",theme:b("SUIBusinessTheme"),content:a.jsxs("div",{children:[a.jsx("div",{children:h._("This is an example of what posts look like without the \"Paid\" label. Your business partner will also be able to see insights for this post.")}),a.jsx(b("Image.react"),{className:"_1muv",src:"/images/branded_content/option_sponsorship.png"})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerSponsorTaggerTypeahead.react",["cx","fbt","BCHSTStrings","BrandedContentHandshakeToolTypedLogger","Link.react","React","SearchableEntry","TaggingLimits","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tipFocused:!1,inputFocused:!1,edited:!1,hasSeenTooltip:!1},d.$2=function(a){var c=a.getUniqueID(),e=d.props.sponsors.slice(),f=e.some(function(a){return a.getUniqueID()===c});if(f)return;d.setState({edited:!0});e.push(a);new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("tag_sponsor").setSponsorID(c).setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log();d.props.onSponsorsChanged(e)},d.$6=function(a){var c=d.props.sponsors.slice(),e=c.indexOf(a);if(e==-1)return;d.setState({edited:!0});c.splice(e,1);new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("untag_sponsor").setSponsorID(a.getUniqueID()).setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log();d.props.onSponsorsChanged(c)},d.$3=function(){d.setState({inputFocused:!1})},d.$4=function(){d.setState({inputFocused:!0})},d.$9=function(){d.state.hasSeenTooltip||new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("typeahead_tooltip_hover").setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log(),d.setState({tipFocused:!0,hasSeenTooltip:!0})},d.$8=function(){d.setState({tipFocused:!1})},d.$5=function(a){d.state.edited||new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("tag_attempt").setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log(),d.setState({edited:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("XUITokenizer.react"),babelHelpers["extends"]({ref:"typeahead"},this.props,{className:"_5esx",entries:this.$1(),focusedOnInit:!0,onAddEntryAttempt:this.$2,onInputBlur:this.$3,onInputFocus:this.$4,onQueryStringChange:this.$5,onRemoveEntryAttempt:this.$6,placeholder:b("BCHSTStrings").tagging.tagSponsorTypeaheadPlaceholder,searchSource:this.props.taggerSource,limit:b("TaggingLimits").MAX_SPONSOR_TAGS})),this.$7()]})};d.$7=function(){var a=this,c=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.sponsors&&this.props.sponsors.length===0,d=function(){return a.refs.typeahead},e=b("React").jsxs("span",{onMouseLeave:this.$8,onMouseEnter:this.$9,children:[h._("Pages you tag will be notified. Business partners will be able to view this post's metrics."),b("React").jsx("span",{className:"_2pis",children:b("React").jsx(b("Link.react"),{href:"/policies/brandedcontent/",target:"_blank",children:h._("See Policy")})})]});return b("React").jsx(b("XUIContextualDialog.react"),{label:h._("typeahead tip"),contextRef:d,position:"above",shown:c,width:350,children:b("React").jsx(b("XUIContextualDialogBody.react"),{children:e})})};d.$1=function(){if(this.state.edited||this.props.sponsors.length>0)return this.props.sponsors;else if(this.props.detectedBrandId&&this.props.detectedBrandName&&this.props.showBrandPrefill&&(this.props.enforcementInterceptReason=="keyword_based_brand_prefill"||this.props.enforcementInterceptReason=="model_detected_brand_prefill")){var a=new(b("SearchableEntry"))({title:this.props.detectedBrandName,uniqueID:this.props.detectedBrandId}),c=this.props.sponsors.slice();c.push(a);this.props.onSponsorsChanged(c);return c}return this.props.sponsors};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerBrandedContentComposerUIV2Component.react",["cx","fbt","BCMPNuxContextSelectors","Grid.react","Link.react","React","ReactComposerBrandedContentBCTooltip.react","ReactComposerBrandedContentCardComponent.react","ReactComposerBrandedContentDirectboostCheckbox.react","ReactComposerBrandedContentLivingRoomInstructionContainer.react","ReactComposerBrandedContentSponsorshipTooltip.react","ReactComposerSponsorTaggerTypeahead.react","SimpleNUXMessageTypes","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$4=function(a){a=c.$6({sponsorRelationship:parseInt(a.target.value,10),directShareStatus:1});c.props.onSelect&&c.props.onSelect(a)},c.$5=function(a){a=c.$6({directShareStatus:a});c.props.onSelect&&c.props.onSelect(a)},c.$1=function(a){a=c.$6({sponsors:a});a&&c.props.onSelect&&c.props.onSelect(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=h._("With"),d="_5esm";return(a=b("React")).jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER,children:a.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[a.jsx(i,{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD,className:d,children:c},"label"),a.jsx(i,{className:"_5esw",children:a.jsx(b("ReactComposerSponsorTaggerTypeahead.react"),{sponsors:this.props.taggerData.sponsors,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,onSponsorsChanged:this.$1})},"tokenizer"),a.jsx(i,{colSpan:2,children:a.jsx("div",{className:"_3lhm _3l7y",children:h._("Choose how this post should be labeled")})}),a.jsx(i,{colSpan:2,children:this.$2()}),a.jsx(i,{colSpan:2,children:this.$3()}),a.jsx(i,{colSpan:2,children:a.jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_LEARN_MORE,className:"_3l7y",children:a.jsx(b("Link.react"),{href:"/help/publisher/213764212711862?helpref=inprod",target:"_blank",children:h._("Learn more")})})})]})})};d.$2=function(){var a=this.props.taggerData.sponsorRelationship==1||this.props.taggerData.sponsorRelationship==0;return b("React").jsx(b("ReactComposerBrandedContentCardComponent.react"),{sponsorRelationship:1,selected:a,title:h._("Show the \"Paid\" label"),popover:b("React").jsx(b("ReactComposerBrandedContentBCTooltip.react"),{}),text:b("React").jsxs("div",{children:[h._("Select this option if you need to let people know your post was influenced by your business partner. Their Page will be tagged."),b("React").jsx(b("ReactComposerBrandedContentLivingRoomInstructionContainer.react"),{composerID:this.props.composerID})]}),onChange:this.$4,children:b("React").jsx(b("ReactComposerBrandedContentDirectboostCheckbox.react"),{value:this.props.taggerData.directShareStatus,onChange:this.$5,selected:a})})};d.$3=function(){var a,c=this.props.taggerData.sponsorRelationship==2;return(a=b("React")).jsx(b("ReactComposerBrandedContentCardComponent.react"),{sponsorRelationship:2,selected:c,title:h._("Don't show the \"Paid\" label"),popover:a.jsx(b("ReactComposerBrandedContentSponsorshipTooltip.react"),{}),text:a.jsx("div",{children:h._("Select this option if you don't need to let people know about the relationship with your business partner because they didn't influence the content. Their Page will not be tagged.")}),onChange:this.$4,simpleNUX:b("SimpleNUXMessageTypes").BRANDED_CONTENT_SPONSORSHIP_USE_CASE_NUX,simpleNUXMessage:a.jsxs("div",{children:[a.jsx("div",{children:a.jsx(b("XUIText.react"),{weight:"bold",children:h._("New Labeling Option")})}),a.jsx("div",{children:a.jsx(b("XUIText.react"),{children:h._("You can now control whether your post is labeled {=Paid}, depending on the kind of partnership you have with your sponsor.",[h._param("=Paid",a.jsx(b("XUIText.react"),{weight:"bold",children:h._("Paid")}))])})})]}),children:a.jsx(b("ReactComposerBrandedContentDirectboostCheckbox.react"),{value:this.props.taggerData.directShareStatus,selected:c,onChange:this.$5})})};d.$6=function(a){var b={};b.sponsors="sponsors"in a?a.sponsors:this.props.taggerData.sponsors;b.directShareStatus="directShareStatus"in a?a.directShareStatus:this.props.taggerData.directShareStatus;b.sponsorRelationship="sponsorRelationship"in a?a.sponsorRelationship:this.props.taggerData.sponsorRelationship;return b};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react",["cx","fbt","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUICheckboxInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.defaultSponsorRelationship!==2&&this.props.defaultSponsorRelationship!==2;return this.props.showSponsorRelationship?b("React").jsxs("div",{className:"_4m0r",children:[b("React").jsx(b("InputLabel.react"),{display:"inline",label:h._("Show business partner in post"),children:b("React").jsx(b("XUICheckboxInput.react"),{name:"sponsorRelationshipToggle",checked:a,onChange:this.props.onChange})}),b("React").jsx(b("SUISimplePopover.react"),{content:b("React").jsxs("div",{children:[h._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),b("React").jsx("span",{className:"_2pis",children:b("React").jsx(b("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank",children:h._("Learn more")})})]}),theme:b("SUIBusinessTheme")})]}):null};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerSponsorTaggerComponent.react",["cx","fbt","AsyncRequest","BCHSTStrings","BCMPNuxContextSelectors","BrandedContentHandshakeToolTypedLoggerLite","BrandedContentMatchingToolCreatorTypedLogger","FDSCheckboxInput.react","Grid.react","Link.react","React","ReactComposerBrandedContentComposerUIV2Component.react","ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react","ReactComposerSponsorTaggerTypeahead.react","ReactComposerTaggerViewStyles","SUIBusinessTheme","SUISimplePopover.react","TokenizerExampleSearchSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","emptyFunction","gkx","prop-types","useBoolean","useEffectOnce"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("Grid.react").GridItem,j=b("React").useRef,k=5078;function l(a){__p&&__p();var c,d=b("useBoolean")(a.showDirectBoostNUX),e=d.value,f=d.setFalse;b("useEffectOnce")(function(){a.showDirectBoostNUX&&new(b("AsyncRequest"))().setURI(b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",k).getURI()).send(),new(b("BrandedContentMatchingToolCreatorTypedLogger"))().setPageID(a.creatorPageID).setEvent("ui_action_hst_deals_show_direct_boost").log()});var g=j();d=b("useBoolean")(!1);var i=d.value,l=d.setTrue;d=function(){if(!i){var c;b("BrandedContentHandshakeToolTypedLoggerLite").log({branded_content_event:"radio_button_tooltip_hover",creator_id:a.creatorPageID,enforcement_intercept_reason:a.enforcementInterceptReason,event_location:(c=a.eventLocation)!=null?c:null})}l()};var m=h._("Your business partner will be able to boost your post on Facebook or Instagram. If your business partner boosts this post, it will be associated with your Page on Facebook and your linked Instagram account on Instagram."),n=h._("Your business partner will be able to boost your post on Facebook or Instagram. If your business partner boosts this post, it will be associated with your Page on Facebook and your linked Instagram account on Instagram. Your business partner will also be able to add their own call to action to the boosted post.");return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx("div",{className:"_4m0r",children:c.jsx(b("FDSCheckboxInput.react"),{value:a.value,onChange:a.onChange,ref:g,label:h._("Allow business partner to boost this post {popover}",[h._param("popover",c.jsx(b("SUISimplePopover.react"),{content:c.jsxs("div",{children:[b("gkx")("1345598")?n:m,b("React").jsx("span",{className:"_2pis",children:b("React").jsx(b("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank",children:h._("Learn more")})})]}),onToggle:d,theme:b("SUIBusinessTheme")}))])})}),b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return g.current},position:"left",shown:e,onCloseButtonClick:function(){f(),new(b("AsyncRequest"))().setURI(b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",k).getURI()).send()},width:"custom",customwidth:240,children:h._("New! Your business partner will be able to boost your post.")})]})}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(!this.props.taggerData.bcmpDealID&&this.props.showDirectBoost&&this.props.taggerData.sponsors.length===0){var a={sponsors:this.props.taggerData.sponsors,directShareStatus:1,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(a)}};d.render=function(){__p&&__p();var a=this;if(this.props.taggerData.bcmpDealID)return null;if(this.props.showBrandedContentComposerUIV2)return b("React").jsx(b("ReactComposerBrandedContentComposerUIV2Component.react"),{autoFocus:this.props.autoFocus,composerID:this.props.composerID,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,taggerData:this.props.taggerData,onSelect:this.props.onSelect});var c=this.props,d=c.creatorPageID,e=c.onSelect,f=c.taggerData,g=c.showDirectBoost,j=c.showDirectBoostNUX;c=c.showLearnMoreLink;return b("React").jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER,children:b("React").jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[b("React").jsx(i,{className:"_5esm",children:b("React").jsx("span",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD,children:b("BCHSTStrings").tagging.tagSponsorLabel})},"label"),b("React").jsx(i,{className:"_5esw",children:b("React").jsx(b("ReactComposerSponsorTaggerTypeahead.react"),{sponsors:f.sponsors,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,onSponsorsChanged:function(a){return e&&e(babelHelpers["extends"]({},f,{bcmpDealUpsell:!1,sponsors:a}))}})},"tokenizer"),b("React").jsx(i,{colSpan:2,children:b("React").jsx(b("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react"),{onChange:function(a){return e&&e(babelHelpers["extends"]({},f,{sponsorRelationship:a.target.checked?1:2}))},defaultSponsorRelationship:f.sponsorRelationship,showSponsorRelationship:this.props.showSponsorRelationship})},"sponsor_relationship_toggle"),g?b("React").jsx(i,{colSpan:2,children:b("React").jsx(l,{creatorPageID:d,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showDirectBoostNUX:(g=j)!=null?g:!1,value:this.props.taggerData.directShareStatus===1,onChange:function(c){var d;b("BrandedContentHandshakeToolTypedLoggerLite").log({branded_content_event:c?"allow_boost":"dont_allow_boost",creator_id:a.props.creatorPageID,enforcement_intercept_reason:a.props.enforcementInterceptReason,event_location:(d=a.props.eventLocation)!=null?d:null});e&&e(babelHelpers["extends"]({},f,{directShareStatus:c?1:0,bcmpDealUpsell:!1}))}})},"toggle"):null,c&&b("React").jsx(i,{colSpan:2,className:"_36y5",children:b("React").jsx(b("Link.react"),{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_LEARN_MORE,href:"/help/publisher/1512279682412364/",target:"_blank",children:h._("Learn More")})},"branded_content_help_center")]})})};return c}(b("React").Component);a.propTypes={autoFocus:(c=b("prop-types")).bool,composerID:c.string,composerLocation:c.string,creatorPageID:c.string,detectedBrandId:c.string,detectedBrandName:c.string,enforcementInterceptReason:c.string,eventLocation:c.string,taggerSource:c.object,taggerData:c.object.isRequired,onPeopleTagRemove:c.func,onSelect:c.func,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape),showBrandPrefill:c.bool,showDirectBoost:c.bool,showDirectBoostNUX:c.bool,showSponsorRelationship:c.bool,showSponsorRelationshipRadioList:c.bool,showBrandedContentComposerUIV2:c.bool,showBrandedContentDealUpsell:c.bool,showLearnMoreLink:c.bool};a.defaultProps={autoFocus:!0,composerLocation:"default",creatorPageID:"",detectedBrandId:"",detectedBrandName:"",enforcementInterceptReason:"",eventLocation:"",onSelect:b("emptyFunction"),showBrandPrefill:!0,showDirectBoost:!1,showDirectBoostNUX:!1,showSponsorRelationship:!1,showSponsorRelationshipRadioList:!1,showBrandedContentComposerUIV2:!1,showBrandedContentDealUpsell:!1,showLearnMoreLink:!0,taggerData:{bcmpDealID:null,sponsors:[],directShareStatus:0,sponsorRelationship:1},taggerSource:new(b("TokenizerExampleSearchSource"))(),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=a}),null);
__d("VideoComposerActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ALL_TABS_BOOTLOADED:"",BACKDATE_CONFIRM:"",CLOSE_CONFIRM_DIALOG:"",CLOSE_TITLE_ERROR_TOOLTIP:"",CLOSE_PRIMARY_ERROR_DIALOG:"",EDIT_EXPIRATION:"",EDIT_TABS_LOADED:"",EDIT_SCHEDULED_TIME:"",EDIT_POST_END_TIME:"",EDIT_SHOULD_EXPIRE:"",EDIT_SHOULD_PUBLISH:"",EXIT_DIALOG:"",EXIT_DIALOG_ATTEMPT:"",EXIT_DIALOG_REPLACE_FILE:"",EXIT_DIALOG_SAVE_DRAFT:"",FIRST_STEP_FOOTER_NEXT_BUTTON_CLICKED:"",FIRST_STEP_FOOTER_AD_BREAK_SUBMIT_FOR_REVIEW:"",MINIMIZE_DIALOG:"",HIDE_MISSING_VIDEO_TYPE_TOOLTIP:"",HIGHLIGHT_MISSING_VIDEO_TYPE:"",HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:"",INITIALIZE_UPLOAD_COMPOSER:"",INITIALIZE_CROSSPOST_COMPOSER:"",INITIALIZE_EDIT_COMPOSER:"",INIT_VIDEO_UPLOADER:"",LOAD_VIDEO_DATA_FOR_ID:"",NAVIGATED_FROM_PAGE:"",METADATA_LOADED_FROM_HTML_PLAYER:"",METADATA_LOADED_FROM_VIDEO_UPLOADER:"",MOUNT_COMPOSER_DIALOG:"",POST_FAILED:"",POST_FINISHED:"",PUBLISH_POST:"",PREMIERE_REPLACE_FILE:"",INITIALIZE_COMPOSER_PREVIEW:"",RESET_COMPOSER:"",SET_COMPOSER_UPSELL_ELIGIBILITY_STATUS:"",SET_COMPOSER_SHOWN:"",SET_PASSES_UPSELL_GK:"",SAVE_POST_DATA_FOR_PAGES_COMPOSER:"",SELECT_TAB:"",UPDATE_IS_FEATURED_VIDEO:"",UPDATE_SHOW_VIDEO_TYPE:"",UPDATE_TITLE:"",UPLOAD_FAILED:"",UPLOAD_FINISHED:"",UPLOAD_PROGRESSED:"",POST_REQUEST_SENT:"",CLOSE_PUBLISH_CONFIRM_DIALOG:"",SAVE_EDITED_VIDEO:"",SAVE_EDITED_VIDEO_FAILURE:"",SAVE_EDITED_VIDEO_SUCCESS:"",SCHEDULE_CONFIRM:"",SENDING_POST_REQUEST:"",SET_VIDEO_START_END_TIME:"",SPHERICAL_METADATA_PARSED:"",SAVE_AS_DRAFT:"",SAVE_AS_DRAFT_ATTEMPT:"",SAVE_AS_DRAFT_ABORT:"",SAVE_AS_DRAFT_CONFIRM:"",SELECT_EDITING_PUBLISH_ACTION:"",TAB_LOAD_ERROR:"",UPDATE_PREMIERE_DATA:"",CANCEL_UPLOAD:"",SHOW_RIGHTS_CONFIRM_DIALOG:"",HIDE_RIGHTS_CONFIRM_DIALOG:"",OPEN_PUBLISH_DRAWER:"",CLOSE_PUBLISH_DRAWER:"",SET_PUBLISHING_TYPE:"",SET_POST_TYPE:"",SET_SCHEDULE_TYPE:"",SET_BACKDATE_HIDE_FROM_NEWS_FEED:"",SET_BACKDATE_DATE:"",SET_PREMIERE_DATE:"",SET_PREMIERE_FEED_BACKGROUND_IMAGE:"",TAB_BOOTLOAD_ERROR:"",TOGGLE_PREMIERE_WITH_SHOW_OR_SEASON:"",UPDATE_PREMIERE_CUSTOM_NAME:"",UPDATE_SHOULD_PREMIERE:"",UPDATE_PREMIERE_LIVING_ROOM_REMOVE_UNOWNED_VIDEOS:"",UPDATE_PREMIERE_LIVING_ROOM_VIDEOS:"",UPDATE_PREMIERE_AUDIENCE:"",POST_REQUEST_INVALID:"",PAGE_STORY_CREATION_ATTEMPT:"",PAGE_STORY_CREATION_FAILURE:"",PAGE_STORY_CREATION_SUCCESS:"",APPEND_CONTENT_TAGS:"",BOOTLOAD_DEFAULT_TAB_PARAMETERS:"",BOOTLOAD_CROSSPOST_DEFAULT_TAB:"",BOOTLOAD_DEFAULT_EDIT_PARAMS:"",CHANGE_GAME:"",HIDE_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:"",HIGHLIGHT_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:"",PAUSE_VIDEO_PREVIEW:"",SET_IS_VIDEO_PREVIEW_PAUSED:"",TOGGLE_CROSSPOST_TO_PARENT:"",UPDATE_CONTENT_TAGS:"",UPDATE_BROWSE_TAGS:"",UPDATE_HISTORY_TAGS:"",UPDATE_IS_EXPLICITLY_TAGGED_AS_GAMING_VIDEO:"",UPDATE_SUGGESTED_TAGS:"",UPDATE_TAG_SUGGESTION_SOURCE:"",UPDATE_DESCRIPTION_EDITOR_STATE:"",UPDATE_PLAYLIST_IDS:"",UPDATE_SEASON_ID_OLD:"",UPDATE_VIDEO_LIST_OPTIONS:"",UPDATE_VIDEO_PREVIEW_CONTROLLER:"",UPDATE_DEAL:"",UPDATE_FUNDED_CONTENT_PROGRAM:"",USER_PLAYED_VIDEO_PREVIEW:"",AGREE_VIDEO_RIGHTS:"",BOOTLOAD_AD_BREAK_PARAMETERS:"",DELETE_AD_BREAK:"",FETCH_AD_BREAK_EDIT_PARAMETERS:"",INSERT_AD_BREAK:"",SET_AUTO_INSERTION_CHECKBOX_VALUE:"",SET_CAN_USE_AD_BREAKS:"",SET_CURRENT_AD_BREAK:"",SET_CURRENT_PREVIEW_INDEX:"",SET_HAS_USER_SEEN_AD_BREAK_TAB:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_IS_AD_BREAK_TOGGLE_EDITED:"",SET_IS_BRANDED_CONTENT_VIDEO:"",SET_PREREVIEW_DIALOG:"",SET_SHOULD_SHOW_IMAGE_ADS_MODAL:"",SET_SHOULD_SHOW_IMAGE_ADS_UPSELL:"",SET_SHOULD_USE_IMAGE_ADS:"",SET_IS_IMAGE_ADS_DROPDOWN_EXPANDED:"",SET_SHOW_AD_BREAKS_UPSELL_DIALOG:"",SUBMIT_FOR_PREREVIEW:"",START_PAGE_ONBOARDING:"",SET_PAGE_ONBOARDING_PENDING:"",SHOW_ONBOARDED_PAGE_NUX:"",UPDATE_AD_BREAK_STATUS:"",UPDATE_HOLDOUT_TEST_STATUS:"",UPDATE_THUMBNAIL_URL:"",UPDATE_VPC:"",SET_IS_AUTO_INSERTION_PAGE_ENABLED:"",LOG_MID_ROLL_OPT_OUT_EVENT:"",LOG_SHORTER_CONTENT_MONETIZATION_EVENT:"",CONFIRM_REVIEWABLE_BRANDED_CONTENT:"",SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",MARK_AS_REVIEWABLE_BRANDED_CONTENT:"",ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",INITIALIZE_IS_AUTO_CAPTION:"",SET_DEFAULT_CAPTION_LOCALE:"",SET_DISMISS_CAPTIONS_NUX:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:"",RESET_PLAYER:"",SET_CURRENT_PLAY_POSITION:"",SET_VPC:"",SET_DURATION:"",SET_PLAYER_STATE:"",SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",CAPTION_HAS_TRIMMED:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",DELETE_SUBTITLES_FAILURE:"",DELETE_SUBTITLES_SUCCESS:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:"",FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:"",CAPTIONS_EDIT_PARAMS_FETCHED:"",CHANGE_PUBLISHED_STATE_URL:"",DELETE_CAPTIONS_URL:"",DELETE_LOCAL_CAPTION_FILE:"",DELETE_LOCALE_WITHOUT_SUBTITLE:"",FETCHED_AUTO_GEN_V1_SUBTITLE:"",UPDATE_ALL_LOCAL_CAPTIONS:"",UPLOAD_LOCAL_CAPTIONS:"",UPDATE_SHOULD_AUTOPUBLISH_CAPTIONS:"",BOOTLOAD_DISTRIBUTION_TAB:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_CROSSPOST:"",TOGGLE_ADD_TO_PAGES_STORY:"",TOGGLE_DISPLAY_IN_WATCH_OPTION:"",TOGGLE_NEWS_FEED:"",TOGGLE_EMBEDDING:"",TOGGLE_SECRET_VIDEO:"",CROSSPOST_PAGES_FETCHED:"",TOGGLE_CROSSPOST_PAGE:"",TOGGLE_GRAPHIC_WARNING:"",TOGGLE_BLOCK_SOCIAL:"",TOGGLE_COMMENTATING_PERMISSION:"",CROSSPOST_LINK_CLICKED:"",REFRESH_CROSSPOST_PAGES:"",SHOW_MATURE_CONTENT_APPEAL_FORM:"",HIDE_MATURE_CONTENT_APPEAL_FORM:"",SUBMIT_MATURE_CONTENT_APPEAL_FORM:"",SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS:"",UPDATE_CHARITY_DATA:"",UPDATE_MATURE_CONTENT_RATING:"",TOGGLE_DRM:"",UPDATE_SHOW_AND_SEASON_ID:"",BOOTLOAD_RIGHTS_PARAMETERS:"",BOOTLOAD_EDIT_RIGHTS_PARAMETERS:"",UPDATE_ATTRIBUTION:"",UPDATE_CATEGORY:"",UPDATE_CATEGORY_REQUIRED_ERROR:"",UPDATE_FB_WHITELISTED_USERS:"",UPDATE_IG_WHITELISTED_USERS:"",UPDATE_MONITORING_TYPE:"",UPDATE_OWNERSHIP_COUNTRIES:"",UPDATE_SHOULD_DETECT_MATCHES:"",UPDATE_MATCH_RULE:"",BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:"",BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:"",PARSE_SPHERICAL_METADATA:"",TOGGLE_SPHERICAL:"",BOOTLOAD_CROSSPOST_THUMBNAILS:"",BOOTLOAD_THUMBNAILS_FOR_EDIT:"",GENERATED_THUMBNAILS:"",GENERATED_THUMBNAILS_FAILED:"",GENERATED_THUMBNAILS_STARTED:"",SELECT_SECTION:"",THUMBNAIL_EDITOR_CANCEL:"",THUMBNAIL_EDITOR_OPEN:"",THUMBNAIL_EDITOR_SAVE:"",THUMBNAIL_PREVIEW_HIDE:"",TOGGLE_SELECTED_GENERATED_THUMBNAIL:"",UPDATE_CUSTOM_THUMBNAIL:"",UPDATE_SCRUBBED_THUMBNAIL:"",UPDATE_SELECTED_THUMBNAIL:"",APPEND_CUSTOM_LABELS:"",BOOTLOAD_TRACKING_EDIT_PARAMS:"",UPDATE_CUSTOM_LABELS:"",UPDATE_UNIVERSAL_ID:"",POLLS_ADD_NEW:"",POLLS_BOOTLOAD_EDIT:"",POLLS_CANCEL_CHANGES_ATTEMPT:"",POLLS_CANCEL_CHANGES_ABANDON:"",POLLS_CANCEL_CHANGES_CONFIRM:"",POLLS_CLOSE_EDITOR_ATTEMPT:"",POLLS_CLOSE_EDITOR_ABANDON:"",POLLS_CLOSE_EDITOR_CONFIRM:"",POLLS_DELETE_ATTEMPT:"",POLLS_DELETE_INTERACTION_CANCEL:"",POLLS_DELETE_CONFIRM:"",POLLS_DELETE_SLIDER_ATTEMPT:"",POLLS_DELETE_SLIDER_CONFIRM:"",POLLS_DRAFT_ADD_OPTION:"",POLLS_DRAFT_DELETE_OPTION:"",POLLS_DRAFT_SET_RESULTS_VISIBLE:"",POLLS_DRAFT_SET_DISPLAY_RESULTS_TIMESTAMP:"",POLLS_DRAFT_SET_VOTING_CLOSED_TIMESTAMP:"",POLLS_DRAFT_UPDATE_END_TIME:"",POLLS_DRAFT_UPDATE_OPTION_TEXT:"",POLLS_DRAFT_STICKER_SELECT:"",POLLS_DRAFT_UPDATE_IMAGE_ATTACHMENT:"",POLLS_DRAFT_UPDATE_QUESTION:"",POLLS_DRAFT_UPDATE_SLIDER_EMOJI:"",POLLS_DRAFT_UPDATE_SLIDER_QUESTION:"",POLLS_DRAFT_UPDATE_START_TIME:"",POLLS_DRAFT_TOGGLE_AD_BREAK_POLL:"",POLLS_EDIT_ATTEMPT:"",POLLS_EDIT_ATTEMPT_DISCARD_PREVIOUS:"",POLLS_EDIT_ATTEMPT_HIDE_DIALOG:"",POLLS_EDIT_ATTEMPT_SAVE_PREVIOUS:"",POLLS_EDIT_SLIDER_ATTEMPT:"",POLLS_OPEN_POLLS_FORM_SECTION_ATTEMPT:"",POLLS_OPEN_POLLS_FORM_SECTION_CONFIRM:"",POLLS_OPEN_POLLS_FORM_SECTION_CANCEL:"",POLLS_OPEN_SLIDERS_FORM_SECTION_ATTEMPT:"",POLLS_OPEN_SLIDERS_FORM_SECTION_CONFIRM:"",POLLS_OPEN_SLIDERS_FORM_SECTION_CANCEL:"",POLLS_SAVE:"",POLLS_SAVE_SLIDER:"",POLLS_TOGGLE_WAS_LIVE_VOTING:"",QUESTIONS_ADD_NEW:"",QUESTIONS_CANCEL_CHANGES_ATTEMPT:"",QUESTIONS_CLOSE_EDITOR_ATTEMPT:"",QUESTIONS_DRAFT_UPDATE_END_TIME:"",QUESTIONS_DRAFT_UPDATE_QUESTION:"",QUESTIONS_DRAFT_UPDATE_START_TIME:"",QUESTIONS_EDIT_ATTEMPT:"",QUESTIONS_SAVE:"",QUESTIONS_DELETE_ATTEMPT:"",QUESTIONS_CANCEL_CHANGES_ABANDON:"",QUESTIONS_CLOSE_EDITOR_ABANDON:"",QUESTIONS_CANCEL_CHANGES_CONFIRM:"",QUESTIONS_CLOSE_EDITOR_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_LOAD_AVAILABLE_GAMES_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_LOAD_GAME_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_LOAD_EDIT_DATA_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_SELECT_GAME:"",GAMESHOW_LIGHTWEIGHT_OPEN_EDITOR:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_ATTEMPT:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CANCEL:"",GAMESHOW_LIGHTWEIGHT_UPDATE_TIMESTAMP_STRING:"",GAMESHOW_LIGHTWEIGHT_ATTEMPT_SAVE_EDITS:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_ATTEMPT:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CANCEL:"",ATTEMPT_CLOSE_TRIMMING_EDITOR:"",CANCEL_CLOSE_TRIMMING_EDITOR:"",CONFIRM_CLOSE_TRIMMING_EDITOR:"",OPEN_TRIMMING_EDITOR:"",TRIMMING_PREVIEW_BY_START_END:"",TRIMMING_SAVE_DRAFT:"",TRIMMING_SET_END_TIME:"",TRIMMING_SET_PLAYER_STATE:"",TRIMMING_SET_START_TIME:"",TRIMMING_SET_VPC:"",TRIMMING_SET_IS_WAS_LIVE_TRIMMED:"",CLIPPING_ADD_CLIP:"",CLIPPING_EDIT_CLIP:"",CLIPPING_DELETE_CLIP:"",CLIPPING_MANUAL_INPUT:"",CLIPPING_SCRUBBER_INPUT:"",CLIPPING_SET_END_TIME:"",CLIPPING_SET_PLAYER_STATE:"",CLIPPING_SET_START_TIME:"",CLIPPING_SET_VPC:"",CLIPPING_PREVIEW_BY_START_END:"",ATTEMPT_CLOSE_SOUND_EDITOR:"",CANCEL_CLOSE_SOUND_EDITOR:"",CONFIRM_CLOSE_SOUND_EDITOR:"",FINISH_TRACK_SELECTION:"",OPEN_SOUND_EDITOR:"",OPEN_TRACK_SELECTOR:"",SOUND_EDITOR_ADD_NESTING_TRACK_ITEM:"",SOUND_EDITOR_DELETE_ADDED_TRACK:"",SOUND_EDITOR_EDIT_ADDED_TRACK:"",SOUND_EDITOR_REGISTER_SCRUBBER:"",SOUND_EDITOR_SAVE_DRAFT:"",SOUND_EDITOR_SCRUBBER_ADD_TRACK:"",SOUND_EDITOR_SET_SCRUBBER_FOCUS_POSITION:"",SOUND_EDITOR_SET_SOUND_COLLECTION_AUDIO_PLAYER:"",SOUND_EDITOR_SET_SOUND_COLLECTION_FILTER_SELECTION:"",SOUND_EDITOR_SET_SOUND_COLLECTION_IS_PLAYING:"",SOUND_EDITOR_SET_SOUND_COLLECTION_NEXT_PAGE_PROMISE:"",SOUND_EDITOR_SET_SOUND_COLLECTION_PLAY_TRACK:"",SOUND_EDITOR_SET_SOUND_COLLECTION_SEARCH_RESULTS:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_DONE:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_ERROR:"",SOUND_EDITOR_SET_VIDEO_PLAYER_VOLUME:"",SOUND_EDITOR_SET_VIDEO_VOLUME:"",SOUND_EDITOR_SHOW_VIDEO_VOLUME_EDITOR:"",SOUND_EDITOR_SOUND_COLLECTION_INIT:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_NEXT_PAGE:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_DONE:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_ERROR:"",SOUND_EDITOR_SOUND_COLLECTION_SELECT_TRACK:"",SOUND_EDITOR_SOUND_COLLECTION_UNSELECT_TRACK:"",SOUND_EDITOR_SUBMIT_EFFECTS_SEARCHSTRING:"",SOUND_EDITOR_SUBMIT_TRACKS_SEARCHSTRING:"",SOUND_EDITOR_UPDATE_ADDED_TRACK:"",SOUND_EDITOR_UPDATE_ADDED_TRACK_VOLUME:"",SOUND_EDITOR_UPDATE_SELECTED_TRACK_NESTING_ITEM_ORDER:"",SOUND_EDITOR_UPDATE_VIDEO_PLAYER_CONTROLLER:"",STARS_EDITOR_TOGGLE_STARS_ENABLED:"",OPEN_PREVIEW_DIALOG:"",CLOSE_PREVIEW_DIALOG:"",LOG_EVENT:""});e.exports=a}),null);
__d("VideoComposerPremiereUtils",["fbt","DateConsts","DateTime","LocalDate","ScheduleLiveVideoDialogConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=g._("Video premieres must be between 30 seconds and four hours long");c=function(a){var c=b("ScheduleLiveVideoDialogConfig").validMinStartTime/b("DateConsts").SEC_PER_MIN,d=b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_HOUR,e=b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_DAY;return a?g._("Premieres must be scheduled between {min start time in minutes} minutes and {max start time in days} days {max start time in hours} hours) from when you create them.",[g._param("min start time in minutes",c),g._param("max start time in days",e),g._param("max start time in hours","("+d)]):g._("Scheduled live videos must be scheduled between {min start time in minutes} minutes and {max start time in days} days {max start time in hours} hours) from when you create them.",[g._param("min start time in minutes",c),g._param("max start time in days",e),g._param("max start time in hours","("+d)])};d=function(a){if(b("ScheduleLiveVideoDialogConfig").startTimeOverride)return!0;var c=b("LocalDate").fromDateTime(b("DateTime").localNow());if(a.isBefore(c))return!1;return a.isAfter(c.addDays(b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_DAY))?!1:!0};f=function(a){if(a==null)return!1;if(b("ScheduleLiveVideoDialogConfig").startTimeOverride)return!0;a=a.getTime();var c=Date.now()+b("ScheduleLiveVideoDialogConfig").validMinStartTime*b("DateConsts").MS_PER_SEC,d=Date.now()+b("ScheduleLiveVideoDialogConfig").validMaxStartTime*b("DateConsts").MS_PER_SEC;c=a>c&&a<d;return c};var h=function(a){return a==null?!1:a.getTime()-Date.now()>b("DateConsts").SEC_PER_MIN*b("DateConsts").MS_PER_SEC};e.exports={INVALID_DURATION_MESSAGE:a,getScheduledLiveInvalidTimeNotice:c,isDateValid:d,isPremiereEditable:h,isPublishTimeValid:f}}),null);
__d("VideoComposerActions",["fbt","VideoComposerActionTypes","VideoComposerDispatchers","VideoComposerPremiereUtils","VideoUploadProgressBar","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a,c,d,e,f){c={type:b("VideoComposerActionTypes").BACKDATE_CONFIRM,year:c,month:d,day:e,hideFromNewsFeed:f};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").SAVE_POST_DATA_FOR_PAGES_COMPOSER,postData:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_TITLE_ERROR_TOOLTIP};b("VideoComposerDispatchers").get(a).dispatch(c)};var h=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PRIMARY_ERROR_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_FAILURE,error:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a){var c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").POST_FAILED,errorMessage:c.message};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").POST_FINISHED,data:null};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c,d){c={type:b("VideoComposerActionTypes").EDIT_EXPIRATION,expirationTime:c,expirationType:d};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_POST_END_TIME,postEndDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a){var c={type:b("VideoComposerActionTypes").EDIT_TABS_LOADED};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SCHEDULED_TIME,scheduleDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SHOULD_EXPIRE,expire:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SHOULD_PUBLISH,publish:c};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a){var c={type:b("VideoComposerActionTypes").MINIMIZE_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_REPLACE_FILE};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_SAVE_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a){var c={type:b("VideoComposerActionTypes").HIDE_MISSING_VIDEO_TYPE_TOOLTIP};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a,c,d){c={type:b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:c,tooltipText:d};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a){var c={type:b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:g._("Title Too Long"),tooltipText:g._("Please use a shorter title")};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a){return A(a,g._("Invalid video duration for premiere"),b("VideoComposerPremiereUtils").INVALID_DURATION_MESSAGE)},D=function(a,c){c={type:b("VideoComposerActionTypes").HIGHLIGHT_MISSING_VIDEO_TYPE,tooltipText:c};b("VideoComposerDispatchers").get(a).dispatch(c);$(a,"basic")},E=function(a,c){c={type:b("VideoComposerActionTypes").METADATA_LOADED_FROM_HTML_PLAYER,videoPlayer:c};b("VideoComposerDispatchers").get(a).dispatch(c)},F=function(a,c){c={type:b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)},G=function(a){var c={type:b("VideoComposerActionTypes").MOUNT_COMPOSER_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},H=function(a,c){c={type:b("VideoComposerActionTypes").SPHERICAL_METADATA_PARSED,sphericalMetadata:c};b("VideoComposerDispatchers").get(a).dispatch(c)},I=function(a,c,d){d={type:b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER,videoComposerID:a,serverParams:d,clientParams:c};b("VideoComposerDispatchers").get(a).dispatch(d)},J=function(a,c,d){c={type:b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER,videoComposerID:a,editParams:c,eventCallbacks:d};b("VideoComposerDispatchers").get(a).dispatch(c)},K=function(a,c){c={type:b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER,videoComposerID:a,params:c};b("VideoComposerDispatchers").get(a).dispatch(c)},L=function(a,c){c={type:b("VideoComposerActionTypes").INIT_VIDEO_UPLOADER,videoUploader:c};b("VideoComposerDispatchers").get(a).dispatch(c)},M=function(a,c){c={type:b("VideoComposerActionTypes").LOAD_VIDEO_DATA_FOR_ID,videoData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},N=function(a){var c={type:b("VideoComposerActionTypes").NAVIGATED_FROM_PAGE};b("VideoComposerDispatchers").get(a).dispatch(c)},O=function(a,c,d){c=d.error_summary;d.error_description&&typeof d.error_description==="string"&&d.error_description.trim()!=""&&(c=c+": "+d.error_description);d={type:b("VideoComposerActionTypes").POST_FAILED,errorMessage:c};b("VideoComposerDispatchers").get(a).dispatch(d)},P=function(a,c,d){c={type:b("VideoComposerActionTypes").POST_FINISHED,data:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Q=function(a){var c={type:b("VideoComposerActionTypes").PUBLISH_POST};b("VideoComposerDispatchers").get(a).dispatch(c)},R=function(a){var c={type:b("VideoComposerActionTypes").RESET_COMPOSER};b("VideoComposerDispatchers").get(a).dispatch(c)},S=function(a){var c={type:b("VideoComposerActionTypes").SAVE_AS_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},T=function(a){var c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO};b("VideoComposerDispatchers").get(a).dispatch(c)},U=function(a,c){c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE,errorMessage:c};b("VideoComposerDispatchers").get(a).dispatch(c)},V=function(a){var c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},W=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_EDITING_PUBLISH_ACTION,publishAction:c};b("VideoComposerDispatchers").get(a).dispatch(c)},X=function(a,c,d){c={type:b("VideoComposerActionTypes").SET_VIDEO_START_END_TIME,endTime:c,startTime:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Y=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_UPLOAD};b("VideoComposerDispatchers").get(a).dispatch(c)},Z=function(a,c,d,e,f,g){c={type:b("VideoComposerActionTypes").SCHEDULE_CONFIRM,scheduleDate:c,postEndDate:d,expireDate:e,expirationType:f,announcementPostTitle:g};b("VideoComposerDispatchers").get(a).dispatch(c)},aa=function(a,c){c={type:b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE,file:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ba=function(a,c,d,e){c={type:b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW,videoComposerID:a,entryPointRef:c,file:d,eventCallbacks:e};b("VideoComposerDispatchers").get(a).dispatch(c)},ca=function(a,c,d,e,f,g,h){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_DATA,scheduleDate:c,customProfileImage:d,customProfileImageFocus:e,feedBackgroundImage:f,feedBackgroundFocus:g,customAnnouncementThumbnail:h};b("VideoComposerDispatchers").get(a).dispatch(c)},$=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_TAB,tab:c};b("VideoComposerDispatchers").get(a).dispatch(c)},da=function(a){var c={type:b("VideoComposerActionTypes").SUBMIT_FOR_PREREVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},ea=function(a,c){c={type:b("VideoComposerActionTypes").TAB_LOAD_ERROR,error:c};b("VideoComposerDispatchers").get(a).dispatch(c)},fa=function(a){var c={type:b("VideoComposerActionTypes").UPDATE_IS_FEATURED_VIDEO};b("VideoComposerDispatchers").get(a).dispatch(c)},ga=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SHOW_VIDEO_TYPE,showVideoType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ha=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_TITLE,title:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ia=function(a,c){c={type:b("VideoComposerActionTypes").UPLOAD_FAILED,errorData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ja=function(a){var c={type:b("VideoComposerActionTypes").UPLOAD_FINISHED};b("VideoComposerDispatchers").get(a).dispatch(c)},ka=function(a,c,d){c=b("VideoUploadProgressBar").computeProgress(d.start_offset,d.sent_bytes,d.file_size,0,0);d={type:b("VideoComposerActionTypes").UPLOAD_PROGRESSED,progress:Math.round(10*c)/10};b("VideoComposerDispatchers").get(a).dispatch(d)},la=function(a){var c={type:b("VideoComposerActionTypes").SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};b("VideoComposerDispatchers").get(a).dispatch(c)},ma=function(a){var c={type:b("VideoComposerActionTypes").HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};b("VideoComposerDispatchers").get(a).dispatch(c)},na=function(a){var c={type:b("VideoComposerActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT};b("VideoComposerDispatchers").get(a).dispatch(c)},oa=function(a){var c={type:b("VideoComposerActionTypes").MARK_AS_REVIEWABLE_BRANDED_CONTENT};b("VideoComposerDispatchers").get(a).dispatch(c)},pa=function(a,c){c={type:b("VideoComposerActionTypes").POST_REQUEST_SENT,postData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},qa=function(a){var c={type:b("VideoComposerActionTypes").FIRST_STEP_FOOTER_NEXT_BUTTON_CLICKED};b("VideoComposerDispatchers").get(a).dispatch(c)},ra=function(a){var c={type:b("VideoComposerActionTypes").FIRST_STEP_FOOTER_AD_BREAK_SUBMIT_FOR_REVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},sa=function(a){var c={type:b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER};b("VideoComposerDispatchers").get(a).dispatch(c)},ta=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PUBLISH_DRAWER};b("VideoComposerDispatchers").get(a).dispatch(c)},ua=function(a){var c={type:b("VideoComposerActionTypes").OPEN_PREVIEW_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},va=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PREVIEW_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},wa=function(a,c){c={type:b("VideoComposerActionTypes").SET_PUBLISHING_TYPE,publishingType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},xa=function(a,c){c={type:b("VideoComposerActionTypes").SET_POST_TYPE,postType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ya=function(a,c){c={type:b("VideoComposerActionTypes").SET_SCHEDULE_TYPE,scheduleType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},za=function(a,c){c={type:"SET_BACKDATE_DATE",date:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Aa=function(a,c){c={type:"SET_BACKDATE_HIDE_FROM_NEWS_FEED",hideFromNewsFeed:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ba=function(a,c){c={type:"SET_PREMIERE_DATE",premiereDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ca=function(a,c){c={type:"SET_PREMIERE_FEED_BACKGROUND_IMAGE",image:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Da=function(a){var c={type:"TOGGLE_PREMIERE_WITH_SHOW_OR_SEASON"};b("VideoComposerDispatchers").get(a).dispatch(c)},Ea=function(a,c){c={type:"UPDATE_SHOULD_PREMIERE",shouldPremiere:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Fa=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_AUDIENCE,premiereAudience:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ga=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_VIDEOS,premiereLivingRoomVideos:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ha=function(a,c){if(c==null)return;c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_REMOVE_UNOWNED_VIDEOS,ownerID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ia=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_CUSTOM_NAME,name:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ja=function(a,c){c={type:b("VideoComposerActionTypes").SET_COMPOSER_SHOWN,composerShown:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ka=function(a,c){c={type:b("VideoComposerActionTypes").LOG_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)},La=function(a,c){c={type:b("VideoComposerActionTypes").SET_COMPOSER_UPSELL_ELIGIBILITY_STATUS,isEligible:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ma=function(a,c){c={type:b("VideoComposerActionTypes").SET_PASSES_UPSELL_GK,passesUpsellGK:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Na=function(a,c,d){c={type:b("VideoComposerActionTypes").POST_REQUEST_INVALID,postData:c,invalidationReasons:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Oa=function(a){var c={type:b("VideoComposerActionTypes").SHOW_RIGHTS_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},Pa=function(a){var c={type:b("VideoComposerActionTypes").HIDE_RIGHTS_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},Qa=function(a){var c={type:b("VideoComposerActionTypes").ALL_TABS_BOOTLOADED};b("VideoComposerDispatchers").get(a).dispatch(c)},Ra=function(a){var c={type:b("VideoComposerActionTypes").SENDING_POST_REQUEST};b("VideoComposerDispatchers").get(a).dispatch(c)},Sa=function(a,c,d){c={type:b("VideoComposerActionTypes").TAB_BOOTLOAD_ERROR,tab:c,error:d};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={allTabsBootloaded:Qa,backdateConfirm:a,cancelUpload:Y,closeConfirmDialog:d,closeTitleTooltip:f,closePreviewDialog:va,closePrimaryErrorDialog:h,closePublishConfirmDialog:i,closePublishDrawer:ta,confirmReviewableBrandedContent:na,createPageStoryAttempt:j,createPageStoryFailure:k,createPageStorySuccess:l,crosspostFailed:m,crosspostFinished:n,editExpiration:o,editTabsLoaded:q,editScheduledTime:r,editPostEndDate:p,editShouldExpire:s,editShouldPublish:t,exitDialog:v,exitDialogAttempt:w,exitDialogReplaceFile:x,exitDialogSaveDraft:y,firstStepFooterNextButtonClicked:qa,firstStepFooterAdBreakSubmitForReviewButtonClicked:ra,minimizeDialog:u,hideMissingVideoTypeTooltip:z,hideReviewableBrandedContentConfirmation:ma,hideRightsConfirmDialog:Pa,highlightPremiereVideoDurationIsInvalid:C,highlightTitleTooLong:B,highlightTitleWithErrorTooltip:A,highlightMissingVideoType:D,initializeComposer:I,initializeComposerPreview:ba,initializeCrosspostComposer:K,initializeEditComposer:J,initVideoUploader:L,loadVideoDataForID:M,logEvent:Ka,markAsReviewableBrandedContent:oa,navigatedFromPage:N,metadataLoadedFromHTMLPlayer:E,metadataLoadedFromVideoUploader:F,mountComposerDialog:G,openPreviewDialog:ua,openPublishDrawer:sa,postFailed:O,postFinished:P,postRequestInvalid:Na,postRequestSent:pa,premiereReplaceFile:aa,publishPost:Q,resetComposer:R,saveAsDraft:S,saveEditedVideo:T,saveEditedVideoFailure:U,saveEditedVideoSuccess:V,savePostDataForPagesComposer:c,scheduleConfirm:Z,selectEditPublishAction:W,selectTab:$,sendingPostRequest:Ra,setBackdateDate:za,setBackdateHideFromNewsFeed:Aa,setComposerShown:Ja,setIsComposerUpsellEligible:La,setPassesUpsellGK:Ma,setPremiereDate:Ba,setPremiereFeedBackgroundImage:Ca,setPublishingType:wa,setPostType:xa,setScheduleType:ya,setVideoStartEndTime:X,showRightsConfirmDialog:Oa,showReviewableBrandedContentConfirmation:la,submitForPrereview:da,sphericalMetadataParsed:H,tabBootloadError:Sa,tabLoadError:ea,togglePremiereWithShowOrSeason:Da,updateIsFeaturedVideo:fa,updateShouldPremiere:Ea,updatePremiereLivingRoomRemoveUnownedVideos:Ha,updatePremiereLivingRoomVideos:Ga,updatePremiereAudience:Fa,updatePremiereCustomName:Ia,updateShowVideoType:ga,updateTitle:ha,uploadFailed:ia,uploadFinished:ja,updatePremiereData:ca,uploadProgressed:ka}}),null);
__d("VideoComposerAdBreakActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c={type:b("VideoComposerActionTypes").AGREE_VIDEO_RIGHTS};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_AD_BREAK,adBreakIndex:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").INSERT_AD_BREAK};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").SET_CAN_USE_AD_BREAKS,canUseAdBreaks:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c){c={type:b("VideoComposerActionTypes").SET_CURRENT_AD_BREAK,adBreakTimeOffset:c};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a,c){c={type:b("VideoComposerActionTypes").SET_CURRENT_PREVIEW_INDEX,currentPreviewIndex:c};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,isAdBreakAutoAdjustmentEnabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,isAdBreakAutoInsertionEnabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c,d){c={type:b("VideoComposerActionTypes").SET_IS_AUTO_INSERTION_PAGE_ENABLED,pageID:c,enabled:d};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_TOGGLE_EDITED,isAdBreakToggleEdited:c};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_BRANDED_CONTENT_VIDEO,isBrandedContentVideo:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").SET_PREREVIEW_DIALOG,isAdBreakPrereviewDialogOpen:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a,c){c={type:b("VideoComposerActionTypes").START_PAGE_ONBOARDING,pageID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").SET_PAGE_ONBOARDING_PENDING,isPending:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOW_AD_BREAKS_UPSELL_DIALOG,showAdBreaksUpsellDialog:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){c={type:b("VideoComposerActionTypes").SHOW_ONBOARDED_PAGE_NUX,enabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_AD_BREAK_STATUS,adBreaksDisabled:c,isMonetizableShortVideo:d};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_HOLDOUT_TEST_STATUS,enabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_THUMBNAIL_URL,adBreakTimeOffset:c,thumbnailURL:d};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_VPC,vpc:c};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a,c){l(a,!0);c={type:b("VideoComposerActionTypes").SET_SHOULD_USE_IMAGE_ADS,shouldUseImageAds:c};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_IMAGE_ADS_DROPDOWN_EXPANDED,isImageAdsDropdownExpanded:c};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_UPSELL,shouldShowImageAdsUpsell:c};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a,c){c={type:b("VideoComposerActionTypes").LOG_MID_ROLL_OPT_OUT_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_MODAL,shouldShowImageAdsModal:c};b("VideoComposerDispatchers").get(a).dispatch(c)},D=function(a,c){c={type:b("VideoComposerActionTypes").SET_HAS_USER_SEEN_AD_BREAK_TAB,hasUserSeenAdBreakTab:c};b("VideoComposerDispatchers").get(a).dispatch(c)},E=function(a,c){c={type:b("VideoComposerActionTypes").LOG_SHORTER_CONTENT_MONETIZATION_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={agreeVideoRights:a,bootloadParameters:c,deleteAdBreak:d,fetchEditParameters:f,insertAdBreak:g,logMidRollOptOutEvent:B,logShorterContentMonetizationEvent:E,setCanUseAdBreaks:h,setCurrentAdBreak:i,setCurrentPreviewIndex:j,setHasUserSeenAdBreakTab:D,setIsAdBreakAutoAdjustmentEnabled:k,setIsAdBreakAutoInsertionEnabled:l,setIsAdBreakAutoInsertionProfileEnabled:m,setIsAdBreakToggleEdited:n,setIsBrandedContentVideo:o,setIsImageAdsDropdownExpanded:z,setPrereviewDialog:p,setShouldShowImageAdsModal:C,setShouldShowImageAdsUpsell:A,setShouldUseImageAds:y,setShowAdBreaksUpsellDialog:s,startPageOnboarding:q,setPageOnboardingPending:r,shouldOnboardedPageNux:t,updateAdBreakStatus:u,updateHoldoutTestStatus:v,updateThumbnailURL:w,updateVPC:x}}),null);
__d("ReactComposerSponsorTaggerContainer.react",["LivingRoomComposerActions","ReactComposerLoggingName","ReactComposerSponsorTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","VideoComposerActions","VideoComposerAdBreakActions","VideoComposerDispatchers","WebAsyncSearchSource","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSponsorTaggerContainer",_subscriptions:void 0,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").SPONSOR,loggingName:b("ReactComposerLoggingName").SPONSOR_TAGGER,taggerComponent:b("ReactComposerSponsorTaggerComponent.react")},propTypes:{creatorPageID:b("prop-types").string,viewer:b("prop-types").string.isRequired},getInitialState:function(){return{sponsorSentences:null,reachEstimate:null,searchSource:null}},UNSAFE_componentWillMount:function(){this._updateSponsorSearchSource()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()},componentDidMount:function(){var a=this.state.taggerData.sponsors.length!==0;b("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,a);b("VideoComposerAdBreakActions").setIsBrandedContentVideo(g,a);a&&this.props.creatorPageID!=null&&(b("LivingRoomComposerActions").removeUnownedVideo(this.context.composerID,this.props.creatorPageID),b("VideoComposerActions").updatePremiereLivingRoomRemoveUnownedVideos(g,this.props.creatorPageID))},__onTaggerDataChanged:function(a){a=a.sponsors.length!==0;b("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,a);b("VideoComposerAdBreakActions").setIsBrandedContentVideo(g,a);a&&this.props.creatorPageID!=null&&(b("LivingRoomComposerActions").removeUnownedVideo(this.context.composerID,this.props.creatorPageID),b("VideoComposerActions").updatePremiereLivingRoomRemoveUnownedVideos(g,this.props.creatorPageID))},_updateSponsorSearchSource:function(){var a=this.state.searchSource;a===null&&(a=this._createAndBootstrapSponsorTypeSearchSource());b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").SPONSOR,a)},_createAndBootstrapSponsorTypeSearchSource:function(){var a={filter:["page"],viewer:this.props.viewer,rsp:"mentions",bsp:"false",context:"topics"};return new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:Object.assign({},a,{is_bootstrap:!1})}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:Object.assign({},a,{is_bootstrap:!0})}],auxiliaryFields:{verified:"is_verified"}})}});e.exports=a}),null);
__d("RelayFBEnvironmentFactory",["requireCond","RelayFBHandlerProvider","RelayFBOperationLoader","RelayModern","RelayRuntime","cr:1121434","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f){"use strict";a=b("RelayModern").createEnvironmentFactory;var g=b("RelayRuntime").RecordSource,h=b("RelayRuntime").Store;e.exports=a(function(a){return{configName:"RelayFBDefaultEnvironment",handlerProvider:b("RelayFBHandlerProvider"),log:b("cr:1121434")!=null?b("cr:1121434")():null,operationLoader:b("RelayFBOperationLoader"),store:new h(new g(),{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")}),UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),actorID:a}})}),null);