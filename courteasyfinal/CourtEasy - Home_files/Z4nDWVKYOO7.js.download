if (self.CavalryLogger) { CavalryLogger.start_js(["Na+LQ"]); }

__d("AdsCanvasInlineBuilderPreviewCanvasDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired")("AdsCanvasInlineBuilderPreviewCanvasDataActionLoggerPlugin",function(a){return b("Laminar").__createLogger("AdsCanvasInlineBuilderPreviewCanvasDataActionLoggerPlugin",a,{},["AdsMgmtRegistry"])})]},"PREVIEW_CANVAS");e.exports=a}),null);
__d("AdsCanvasInlineDynamicAdCustomizationDuplicateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsCanvasInlineDynamicAdCustomizationDuplicateDataActionPlugin");e.exports=a}),null);
__d("AdsCanvasInlineTransformCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS.CANVAS.INLINE.TRANSFORM_CANVAS");e.exports=a}),null);
__d("adsCanvasInlineBuilderActionBarSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasInlineUIStore","AdsDynamicAdCustomizationDialogDataProvider","RichMediaEditorStore","adsCanvasAllDocumentElementsSelector","adsCanvasAllDocumentsSelector","adsCanvasDocumentProductSetIDSelector","adsCanvasHasElementUploadingSelector","adsCanvasProductsElementTemplatePluginSelector","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.adgroup.id})},{name:e.id+".adgroupIDsSelector"});c=b("adsCreateSelector")([b("adsCanvasAllDocumentsSelector"),b("adsCanvasAllDocumentElementsSelector"),b("AdsCanvasInlineUIStore").getTemplateID,b("adsCanvasDocumentProductSetIDSelector"),b("adsCanvasProductsElementTemplatePluginSelector"),a,b("adsCanvasHasElementUploadingSelector"),b("AdsCanvasCurrentCanvasIDStore").getActiveCanvasIndex,b("RichMediaEditorStore").getDocumentEditState,b("RichMediaEditorStore").getError,b("RichMediaEditorStore").getSendingPreview,b("AdsDynamicAdCustomizationDialogDataProvider").toFluxSelector()],function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=a.every(function(a){return a.hasValue()})&&b.flatten(!0).every(function(a){return a.hasValue()})&&e.hasValue();if(!m)return{isReady:!1};m=a.map(function(a){return a.getValueEnforcing()});a=b.map(function(a){return a.map(function(a){return a.getValueEnforcing()})});return{activeCanvasIndex:h,adgroupIDs:f,allCanvases:m,allElements:a,canvasTemplateID:c,documentEditState:i,error:j,hasElementUploading:g,isReady:!0,isSendingPreview:k,productSetID:d,templatePlugin:e.getValueEnforcing(),useMultiLanguageDialog:l.isDialogShown}},{name:e.id});e.exports=c}),null);
__d("adsCanvasInlineBuilderSelector",["adsCanvasAllDocumentElementsSelector","adsCanvasAllDocumentsSelector","adsCanvasInlineBuilderShouldTransformInlineCanvas","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsCanvasAllDocumentsSelector"),b("adsCanvasAllDocumentElementsSelector")],function(a,c){__p&&__p();var d=a.every(function(a){return a.hasValue()})&&c.flatten(!0).every(function(a){return a.hasValue()});if(!d)return{areCanvasesLoaded:!1,areCanvasReady:!1};d=a.map(function(a){return a.getValueEnforcing()});var e=c.map(function(a){return a.map(function(a){return a.getValueEnforcing()})});if(d.some(function(a){return!!a.dynamicSetting}))return{allCanvases:d,hasCanvasDynamic:!0};return d.some(function(a,c){return b("adsCanvasInlineBuilderShouldTransformInlineCanvas")(a,e.get(c))})?{allCanvases:d,allElements:e,areCanvasesLoaded:!0,areCanvasReady:!1,hasCanvasDynamic:!1}:{areCanvasesLoaded:!0,areCanvasReady:!0,hasCanvasDynamic:!1}},{name:e.id+".selector"});e.exports=a}),null);
__d("AdsCanvasInlineBuilderActionBar.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSTooltip.react","Image.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("gkx")("677817")?null:b("React").jsx("div",{className:"_28r_",children:b("React").jsx(b("FDSButton.react"),{"data-testid":"ads-canvas-inline-builder-preview-button",icon:b("React").jsx(b("Image.react"),{src:g("407232")}),isDisabled:this.props.disabled||this.props.hasElementUploading,label:i._("Preview on Mobile"),ref:"inlineBuilderPreviewButton",onClick:this.props.onClickPreview})});return b("React").jsxs("div",{className:"_28rz",children:[this.$1(),this.$2(),a,b("React").jsx(b("FDSButton.react"),{"data-testid":"ads-canvas-inline-builder-finish-button",isDisabled:this.props.disabled||this.props.hasElementUploading,label:this.$3()?i._("Saving..."):i._("Done"),use:"primary",onClick:this.props.onClickDone})]})};d.$3=function(){return this.props.disabled};d.$1=function(){return!this.$3()?null:b("React").jsx("div",{className:"_28r_",children:b("React").jsx(b("FDSSpinner.react"),{"data-testid":"toolbar-loading-indicator",shade:"light",size:"small"})})};d.$2=function(){var a=this.props.error;if(!a)return null;var c=g("380535");return b("React").jsx("div",{className:"_2lei",children:b("React").jsx(b("FDSTooltip.react"),{tooltip:a.message,children:b("React").jsx(b("Image.react"),{src:c})})})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasInlineBuilderActionBarContainer.react",["AdsCanvasBuilderUtils","AdsCanvasEditorEnums","AdsCanvasInlineBuilderActionBar.react","AdsCanvasInlineBuilderActions","AdsCanvasInlineBuilderPreviewCanvasDataAction","AdsCanvasInlineBuilderUtils","AdsCanvasInlineDynamicAdCustomizationDuplicateDataAction","AdsFluxContainer","AdsUEditorContextType","AsyncRequest","React","RichMediaEditorActions","XMobileCanvasAdPreviewController","adsCanvasInlineBuilderActionBarSelector","emptyFunction","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").SaveStateEnum;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(!d.state.isReady)return;d.$3(b("nullthrows")(d.context.onDoneSuccess),b("emptyFunction"));b("AdsCanvasInlineBuilderActions").inlineTemplateBuilderDone()},d.$2=function(){if(!d.state.isReady)return;d.$3(d.$4,b("emptyFunction"));b("AdsCanvasInlineBuilderActions").inlineTemplateBuilderMobilePreview()},d.$4=function(a,c){if(!a){b("RichMediaEditorActions").setPreviewFailed(!0);return}b("RichMediaEditorActions").setSendingPreview(!0);c=b("XMobileCanvasAdPreviewController").getURIBuilder().setString("node_id",a).setString("page_id",d.context.pageID).setBool("is_id_encoded",isNaN(a)).getURI();a=new(b("AsyncRequest"))().setURI(c).setHandler(function(a){b("AdsCanvasInlineBuilderPreviewCanvasDataAction").dispatch({},{line:"158",module:"AdsCanvasInlineBuilderActionBarContainer.react.js"})});a.send()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsCanvasInlineBuilderActionBarSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsCanvasInlineBuilderActionBarSelector")(a)};var d=c.prototype;d.render=function(){return!this.state.isReady?b("React").jsx(b("AdsCanvasInlineBuilderActionBar.react"),{disabled:!0,error:null,hasElementUploading:!1,ref:"inlineBuilderActionBar",onClickDone:this.$1,onClickPreview:this.$2}):b("React").jsx(b("AdsCanvasInlineBuilderActionBar.react"),{disabled:this.state.documentEditState===g.SAVING||this.state.isSendingPreview,error:this.state.error,hasElementUploading:this.state.hasElementUploading,ref:"inlineBuilderActionBar",onClickDone:this.$1,onClickPreview:this.$2})};d.$3=function(a,c){if(!this.state.isReady)return;var d=this.state.productSetID!==null?this.state.productSetID:this.context.productSetID,e=this.state,f=e.allCanvases,g=e.allElements,h=e.activeCanvasIndex;e=e.useMultiLanguageDialog;e?b("AdsCanvasInlineDynamicAdCustomizationDuplicateDataAction").dispatch({canvasDocument:f.get(h),elements:g.get(h),onSuccess:function(b,c){a(b.id,b.canvasAdSettings)},pageID:this.context.pageID},{line:"183",module:"AdsCanvasInlineBuilderActionBarContainer.react.js"}):f.count()>1?this.state.isReady&&b("AdsCanvasInlineBuilderUtils").saveAllCanvases(a,c,this.state.adgroupIDs,this.state.templatePlugin,this.state.allCanvases,this.state.allElements,d,this.context.pageID,this.context.adgroupEditorContext):this.state.isReady&&b("AdsCanvasInlineBuilderUtils").saveCurrentCanvas(a,c,this.state.activeCanvasIndex,this.state.adgroupIDs,this.state.allCanvases,this.state.allElements,this.state.documentEditState,this.state.templatePlugin,d,this.context.pageID,this.context.adgroupEditorContext,!1)};return c}(b("React").PureComponent);a.contextTypes=babelHelpers["extends"]({},b("AdsCanvasBuilderUtils").getContextTypes(),b("AdsUEditorContextType").adgroup);e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsCanvasInlineBuilderTour.react",["cx","AdsCanvasInlineBuilderActions","AdsCanvasInlineContent","ContextualLayerUpdateOnScroll","React","SimpleNUXMessage","SUIBusinessTheme","SUIText.react","Text.react","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={424787857903852:"BRAND",1063217037112304:"RETAIL",133471657203838:"ACQUISITION"},i={BRAND:{nuxName:"727232757449618",steps:(a=b("AdsCanvasInlineContent")).INLINE_CREATION_BRAND_RETAIL_TOUR_MAX_STEPS,tour:a.INLINE_CREATION_BRAND_RETAIL_TOUR},RETAIL:{nuxName:"727232757449618",steps:a.INLINE_CREATION_BRAND_RETAIL_TOUR_MAX_STEPS,tour:a.INLINE_CREATION_BRAND_RETAIL_TOUR},ACQUISITION:{nuxName:"175599466304273",steps:a.INLINE_CREATION_ACQUISITION_TOUR_MAX_STEPS,tour:a.INLINE_CREATION_ACQUISITION_TOUR}};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=function(){b("AdsCanvasInlineBuilderActions").inlineBuilderNuxTourXout(d.state.currentStep,d.props.templateID),d.$4()};d.$2=function(){b("AdsCanvasInlineBuilderActions").inlineBuilderNuxTourComplete(d.state.currentStep,d.props.templateID),d.$4()};d.$3=function(){if(d.state.currentStep==null)return;d.setState({currentStep:d.state.currentStep+1})};c=h[d.props.templateID];c=i[c];if(!c){d.state={currentStep:null,hasTour:!1,nuxName:null,nuxShown:!1,tour:null,tourSteps:0};return babelHelpers.assertThisInitialized(d)}var e=c.nuxName;if(!e){d.state={currentStep:null,hasTour:!1,nuxName:null,nuxShown:!1,tour:null,tourSteps:0};return babelHelpers.assertThisInitialized(d)}d.state={currentStep:0,hasTour:!0,nuxName:e,nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(e),tour:c.tour,tourSteps:c.steps};return d}var d=c.prototype;d.render=function(){var a=this.state.currentStep;if(a==null||this.props.contextRefs==null||this.state.hasTour==!1||this.state.nuxShown==!1||this.state.tour==null||this.state.tourSteps==null||a>this.props.contextRefs.length-1||a>this.state.tourSteps-1)return null;var c=this.state.tour[a];return b("React").jsxs(b("XUIAmbientNUX.react"),{alignment:c.alignment,behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:this.props.contextRefs[a],offsetY:8,position:c.position,shown:this.state.nuxShown,width:"normal",onCloseButtonClick:this.$1,children:[b("React").jsx(b("SUIText.react"),{className:"_4jal",shade:"white",size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold",children:c.title}),b("React").jsx(b("SUIText.react"),{className:"_4jal _4jam",shade:"white",size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),children:c.content}),b("React").jsx("div",{className:"_4jan",children:b("React").jsx("button",{className:"_4jao",href:"#",onClick:c.isFinalStep==="true"?this.$2:this.$3,children:b("React").jsx(b("Text.react"),{className:"_4jap",children:c.buttonText})})})]})};d.$4=function(){if(!this.state.nuxName)return;b("SimpleNUXMessage").markMessageSeenByUser(this.state.nuxName);this.setState({nuxShown:!1})};return c}(b("React").Component);e.exports=c}),null);
__d("AdsCanvasInlineBuilder.react",["cx","AdsCanvasBuilderUtils","AdsCanvasInlineBuilderActionBarContainer.react","AdsCanvasInlineBuilderTour.react","AdsCanvasPreviewContainer.react","AdsCanvasUnifiedBuilderEditorPaneContainer.react","AdsLeadGenConstants","Layout.react","React","RichMediaEditorConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j=(a=b("RichMediaEditorConstants")).EDITOR_ELEMENT_CONTAINER_ID,k=a.INLINE_EDITOR_HEIGHT,l=a.INLINE_PREVIEW_WIDTH,m=a.INLINE_PREVIEW_HEIGHT_WITH_TAB,n=a.INLINE_PREVIEW_WIDTH_WITH_TAB,o=a.INLINE_PREVIEW_MARGIN_WITH_TAB;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){return c.refs.inlineBuilderEditorContainer},c.$3=function(){var a=c.refs.inlineBuilderActionBarContainer;a=a.refs.inlineBuilderActionBar;return a.refs.inlineBuilderPreviewButton},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=k,c=l,d=0,e=this.context.canvasCapabilityConfig.hasCapability("CAN_CREATE_INSTAGRAM_CANVAS");e&&this.props.templateID!==b("AdsLeadGenConstants").CANVAS_TEMPLATE_FOR_USE_FORM_ID&&(a=m,c=n,d=o);return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_15ck",children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(i,{children:b("React").jsx("div",{className:"_15cl","data-testid":void 0,id:j,ref:"inlineBuilderEditorContainer",children:b("React").jsx(b("AdsCanvasUnifiedBuilderEditorPaneContainer.react"),{isInlineTemplate:!0})})}),b("React").jsx(h,{children:b("React").jsx("div",{className:"_15cm",children:b("React").jsx(b("AdsCanvasPreviewContainer.react"),{height:a,margin:d,templateID:this.props.templateID,width:c})})})]})}),b("React").jsx("div",{className:"_15cn",children:b("React").jsx(b("AdsCanvasInlineBuilderActionBarContainer.react"),{ref:"inlineBuilderActionBarContainer"})}),this.$1()]})};d.$1=function(){return b("React").jsx(b("AdsCanvasInlineBuilderTour.react"),{contextRefs:[this.$2,this.$2,this.$3],templateID:this.props.templateID})};return c}(b("React").Component);c.contextTypes=b("AdsCanvasBuilderUtils").getContextTypes();e.exports=c}),null);
__d("AdsCanvasInlineBuilderContainer.react",["cx","AdsCallToActionTypesCond","AdsCanvasBuilderUtils","AdsCanvasInitDataAction","AdsCanvasInlineBuilder.react","AdsCanvasInlineBuilderUtils","AdsCanvasInlineContent","AdsCanvasInlineTransformCanvasDataAction","AdsCanvasLoadDynamicCanvasAction","AdsFluxContainer","AdsLeadGenFormEditorClearValidationStoreAction","AdsLeadGenFormEditorClearViewStoreAction","AdsLeadGenFormEditorSetCallToActionTypeAction","AdsLeadGenFormEditorSetPageAction","FDSSpinner.react","FDSText.react","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","adsCanvasInlineBuilderSelector","adsCanvasInlineBuilderShouldTransformInlineCanvas","cxMargin","immutable","nullthrows","AdsCanvasCurrentCanvasIDStore","RichMediaEditorLoggerStore","RichMediaEditorStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("AdsCanvasCurrentCanvasIDStore"),b("RichMediaEditorLoggerStore"),b("RichMediaEditorStore"),b("AdsLeadGenFormEditorClearValidationStoreAction").dispatch({},{line:"75",module:"AdsCanvasInlineBuilderContainer.react.js"}),b("AdsLeadGenFormEditorClearViewStoreAction").dispatch({},{line:"76",module:"AdsCanvasInlineBuilderContainer.react.js"}),b("AdsLeadGenFormEditorSetCallToActionTypeAction").dispatch({callToActionType:b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name},{line:"78",module:"AdsCanvasInlineBuilderContainer.react.js"}),b("AdsLeadGenFormEditorSetPageAction").dispatch({page:{capabilities:b("immutable").Set(),id:this.props.pageID,name:this.props.pageName,pictureURL:this.props.pagePictureUrl||""}},{line:"82",module:"AdsCanvasInlineBuilderContainer.react.js"}),b("AdsCanvasInitDataAction").dispatch({canvasID:this.props.canvasID,pageID:this.props.pageID,source:this.props.canvasSource,supportFacebookEnabled:this.props.supportFacebookEnabled,supportInstagramEnabled:this.props.supportInstagramEnabled},{line:"91",module:"AdsCanvasInlineBuilderContainer.react.js"})};c.getStores=function(){return b("adsCanvasInlineBuilderSelector").getStores()};c.calculateState=function(){return b("adsCanvasInlineBuilderSelector")()};d.getChildContext=function(){return{accessToken:this.props.accessToken,businessID:this.props.businessID,canvasCapabilityConfig:this.props.canvasCapabilityConfig,defaultURL:this.props.defaultURL,forceChooseSpecificOrder:this.props.forceChooseSpecificOrder,pageID:this.props.pageID,pageName:this.props.pageName,productCatalogID:this.props.productCatalogID,productSetID:this.props.productSetID,onDoneSuccess:this.props.onDoneSuccess}};d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){if(!this.state.areCanvasReady){var a;return(a=b("React")).jsx("div",{className:"_2j_x",children:a.jsxs("div",{className:"_5_zr",children:[a.jsx(b("FDSSpinner.react"),{}),a.jsx(b("FDSText.react"),{margin:"_3-8-",size:"meta1",children:b("AdsCanvasInlineContent").INLINE_BUILDER_LOADING})]})})}return b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:b("React").jsx("div",{className:"_2j_x","data-testid":"ads-canvas-inline-builder",children:b("React").jsx(b("AdsCanvasInlineBuilder.react"),{templateID:this.props.templateID})})})};d.$1=function(){this.state.hasCanvasDynamic&&this.$2(this.state.allCanvases),this.state.areCanvasesLoaded&&!this.state.areCanvasReady&&this.$3(this.state.allCanvases,this.state.allElements)};d.$2=function(a){a=a.get(0);a=b("nullthrows")(a.dynamicSetting);a=a.childDocumentIDs;b("AdsCanvasLoadDynamicCanvasAction").dispatch({canvasIDs:h(a)},{line:"174",module:"AdsCanvasInlineBuilderContainer.react.js"})};d.$3=function(a,c){__p&&__p();var d=this;a.map(function(e,f){if(b("adsCanvasInlineBuilderShouldTransformInlineCanvas")(e,c.get(f))){e=b("AdsCanvasInlineBuilderUtils").duplicateTemplateSourceDocument(e,c.get(f),d.props.templateID,d.props.defaultURL,d.props.canvasSource,!1,d.props.forceChooseSpecificOrder);var g=e.canvasDocument;e=e.elements;a=a.set(f,g);c=c.set(f,e)}});b("AdsCanvasInlineTransformCanvasDataAction").dispatch({canvases:a,elements:c.flatten(!0)},{line:"210",module:"AdsCanvasInlineBuilderContainer.react.js"})};return c}(b("React").PureComponent);a.childContextTypes=b("AdsCanvasBuilderUtils").getContextTypes();e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsCanvasInlineBuilderDialog.react",["cx","fbt","AdsCanvasInlineBuilderContainer.react","AdsCanvasInlineContent","AdsStaticGuidanceCard.react","LayerFadeOnHide","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.refs.dialog&&this.refs.dialog.layer.subscribe("beforehide",this.props.onBeforeHide)};d.render=function(){if(this.props.canvasID==null||this.props.canvasID===""||!this.props.isShown)return null;return this.props.pageID==null||this.props.pageID===""?this.$1():b("React").jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},ref:"dialog",shown:this.props.isShown,useCustomPadding:!0,width:836,onToggle:this.props.onToggle,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:this.props.createFromTemplate?b("AdsCanvasInlineContent").INLINE_BUILDER_TITLE_CREATE:b("AdsCanvasInlineContent").INLINE_BUILDER_TITLE_EDIT}),b("React").jsx(b("XUIDialogBody.react"),{useCustomPadding:!0,children:b("React").jsx(b("AdsCanvasInlineBuilderContainer.react"),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvasCapabilityConfig:this.props.canvasCapabilityConfig,canvasID:this.props.canvasID,canvasSource:this.props.canvasSource,defaultURL:this.props.defaultURL,forceChooseSpecificOrder:!1,pageID:b("nullthrows")(this.props.pageID),pageName:this.props.pageName,pagePictureUrl:this.props.pagePictureUrl,productCatalogID:this.props.productCatalogID,productSetID:this.props.productSetID,supportFacebookEnabled:this.props.supportFacebookEnabled,supportInstagramEnabled:this.props.supportInstagramEnabled,templateID:b("nullthrows")(this.props.templateID),onDoneSuccess:this.props.onDoneSuccess})})]},"dialog")};d.$1=function(){return b("React").jsx("div",{className:"_21uh",children:b("React").jsx(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ERROR",messageID:"message_that_the_advertiser_has_no_role_for_selected_page",textData:[{type:"PARAGRAPH",data:{text:h._("You don't have any page selected. You need to have an admin role on a page to create Instant Experience ads for that page.")}}]}})})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerCollectionDialogContainer.react",["AdsCanvasCapabilityConfig","AdsCanvasCloseUnsavedCanvasDialogContainer.react","AdsCanvasEditorEnums","AdsCanvasInlineBuilderDialog.react","AdsCanvasInlineUIStore","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsCFAdgroupEditorContext","AdsPageStore","AdsUEditorAdgroupContextContainer.react","ApiClient","DOM","FluxContainer","React","ReactComposerCollectionActions","ReactDOM","RichMediaEditorStore","adsCanvasIsCurrentDocumentPublishedSelector","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").SaveStateEnum;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=function(){if(!d.state.showInlineModal||d.state.documentEditState===g.SAVED||d.state.isPublished)return!0;b("ReactDOM").render(b("React").jsx(b("AdsCanvasCloseUnsavedCanvasDialogContainer.react"),{onCancel:b("emptyFunction"),onConfirm:d.$3}),b("DOM").create("div"));b("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").dispatch({showDialog:!0},{line:"149",module:"ReactComposerCollectionDialogContainer.react.js"});return!1};d.$3=function(){d.$4()};d.$2=function(a,c){b("ReactComposerCollectionActions").selectCollection(d.props.composerID,d.props.actorID,a,d.props.targetID),d.$4(a)};b("ApiClient").setAccessToken(c.config.accessToken);return d}c.getStores=function(){return[].concat(b("adsCanvasIsCurrentDocumentPublishedSelector").getStores(),[b("AdsCanvasInlineUIStore"),b("RichMediaEditorStore"),b("AdsPageStore")])};c.calculateState=function(a,c){a=b("AdsPageStore").get(c.config.pageID);return{canvasID:b("AdsCanvasInlineUIStore").getCanvasID(),defaultURL:a.link,documentEditState:b("RichMediaEditorStore").getDocumentEditState(),isPublished:b("adsCanvasIsCurrentDocumentPublishedSelector")(),pageName:a.name,showInlineModal:b("AdsCanvasInlineUIStore").getShowInlineModal(),templateID:b("AdsCanvasInlineUIStore").getTemplateID()}};var d=c.prototype;d.render=function(){var a,c=this.props.config,d=c.canvasCapabilities;d=new(b("AdsCanvasCapabilityConfig"))((a={},a.CAN_ADD_PRODUCT_SET=d.canAddProductSet,a.CAN_ADD_STORE_LOCATOR=d.canAddStoreLocator,a));return b("React").jsx(b("AdsUEditorAdgroupContextContainer.react"),{context:b("AdsCFAdgroupEditorContext"),children:b("React").jsx(b("AdsCanvasInlineBuilderDialog.react"),{accessToken:c.accessToken,businessID:c.businessID,canvasCapabilityConfig:d,canvasID:this.state.canvasID,canvasSource:"page_composer",createFromTemplate:!0,defaultURL:this.state.defaultURL,isShown:this.state.showInlineModal,pageID:c.pageID,pageName:this.state.pageName,supportFacebookEnabled:!0,supportInstagramEnabled:!1,templateID:this.state.templateID,onBeforeHide:this.$1,onDoneSuccess:this.$2,onToggle:b("emptyFunction")})})};d.$4=function(a){b("ReactComposerCollectionActions").updateCollectionDialogVisibility(this.props.composerID,!1,a)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ReactComposerCollectionPostButton.react",["React","ReactComposerCollectionDialogContainer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:this.props.className,onClick:this.props.onShowDialog,role:"presentation",children:[this.props.children,b("React").jsx(b("ReactComposerCollectionDialogContainer.react"),{actorID:this.props.actorID,canvasCapabilities:this.props.config.canvasCapabilities,composerID:this.props.composerID,composerType:this.props.composerType,config:this.props.config,targetID:this.props.targetID})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerCollectionPostButtonContainer.react",["AdsCanvasInlineUIStore","FluxContainer","React","ReactComposerCollectionActions","ReactComposerCollectionPostButton.react","RichMediaEditorActions","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.context.composerID,c=d.props.config;b("ReactComposerCollectionActions").setDefaultCanvasAndTemplateID(a,c.defaultCanvasID,c.templateID);b("RichMediaEditorActions").setCanvasPageId(c.pageID);b("ReactComposerCollectionActions").updateCollectionDialogVisibility(a,!0,d.state.canvasID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("AdsCanvasInlineUIStore")]};c.calculateState=function(){return{canvasID:b("AdsCanvasInlineUIStore").getCanvasID()}};var d=c.prototype;d.render=function(){var a=this.props.config;return b("React").jsx(b("ReactComposerCollectionPostButton.react"),{actorID:this.context.actorID,config:a,canvasCapabilities:a.canvasCapabilities,composerID:this.context.composerID,composerType:this.context.composerType,onShowDialog:this.$1,targetID:this.context.targetID,children:this.props.children})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a)}),null);
__d("ReactPageComposerMediaAttachmentButtons.react",["cx","fbt","ix","ActorURI","AsyncRequest","ComposerStructuredLoggerUtil","ComposerTargetData","ComposerXSessionIDs","DOMContainer.react","FileInput.react","FlexLayout.react","Grid.react","MediaManagerLibertyUtils","MediaManagerTypedLogger","PageContentTabAdsIXDisplayConstants","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent","ReactComposerAttachmentStore","ReactComposerCanvasActions","ReactComposerCollectionPostButtonContainer.react","ReactComposerContextTypes","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaUtils","ReactComposerPhotoCarouselActions","ReactComposerSlideshowPostButtonContainer.react","SimpleNUXMessage","SimpleNUXMessageTypes","XCarouselPageComposerPhotoUploadFirstController","Image.react","Link.react","ReactComponentWithPureRenderMixin","prop-types","React","createReactClass_DEPRECATED","XMediaManagerController","asset","cxMargin","ReactPageComposerMediaAttachmentSimplifiedButtons.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PageContentTabAdsIXDisplayConstants").IX_PAGE_COMPOSER_BUTTON_LABEL,k=b("Grid.react").GridItem;b("ReactPageComposerMediaAttachmentSimplifiedButtons.react");a=b("createReactClass_DEPRECATED")({displayName:"ReactPageComposerMediaAttachmentButtons",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{canUploadPhotos:b("prop-types").bool,canvasConfig:b("prop-types").object,carouselConfig:b("prop-types").object,collectionConfig:b("prop-types").object,createAlbumLink:b("prop-types").any,mediaAcceptParam:b("prop-types").shape({videos:b("prop-types").string,photos:b("prop-types").string,both:b("prop-types").string}).isRequired,onFilesSelected:b("prop-types").func.isRequired,showCanvasEntryPoint:b("prop-types").bool,showCarouselEntryPoint:b("prop-types").bool,showCollectionEntryPoint:b("prop-types").bool,showMultipostEntryPoint:b("prop-types").bool,showPhotoAlbumEntryPoint:b("prop-types").bool,showSlideshowEntryPoint:b("prop-types").bool,showUploadPhotosButton:b("prop-types").bool,slideshowConfig:b("prop-types").object,targetData:b("prop-types").instanceOf(b("ComposerTargetData")).isRequired},getDefaultProps:function(){return{mediaAcceptParam:{}}},componentDidMount:function(){b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID)&&b("PagesComposerActionsLogger").log({event:b("PagesComposerPostActionsLoggerEvent").SHOW_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)}),this.props.showMultipostEntryPoint&&new(b("MediaManagerTypedLogger"))().setEvent("liberty_multipost_pages_composer_impression").setEventSource("liberty_pages_composer").setMediaManagerVisitSource("liberty_multipost_pages_composer_nux").setSelectedPageIds([this.context.targetID]).log()},render:function(){__p&&__p();var a=[];this.props.showUploadPhotosButton&&a.push(this._getUploadPhotosButton());this.props.showMultipostEntryPoint&&a.push(this._getPostAcrossPagesButton());var c=null,d=null;if(this.props.showPhotoAlbumEntryPoint&&this.props.createAlbumLink){var e=b("React").jsx(b("DOMContainer.react"),{className:"_3m1x","data-testid":void 0,display:"block",children:this.props.createAlbumLink});c=b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("Link.react"),{className:"_3m1z _5xvh",onClick:this._onClickPhotoAlbumOption,children:e})},"createAlbum")}c&&this._logImpression(l.PHOTOALBUM);this.props.showCarouselEntryPoint&&(d=this._getCarouselPostButton());a.push(c);a.push(d);this.props.showSlideshowEntryPoint&&a.push(this._getSlideshowPostButton());this.props.showCollectionEntryPoint&&a.push(this._getCollectionPostButton());this.props.showCanvasEntryPoint&&a.push(this._getCanvasPostButton());return b("React").jsx("div",{className:"_3m1_","data-testid":void 0,children:b("React").jsx(b("Grid.react"),{className:"_3m20",cols:1,children:a.filter(function(a){return a!=null})})})},_getUploadPhotosButton:function(){if(!this.props.canUploadPhotos)return null;var a=this.props.targetData.targetSupportsMultiplePhotos,c=this.props.mediaAcceptParam.both,d=a?h._("Upload Photos\/Video"):h._("Upload Photo\/Video"),e=h._("Add photos or video to your status.");this._logImpression(l.PHOTOVIDEO);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("FileInput.react"),{accept:c,multiple:a,name:"composer_photo",onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:"fileInput","data-testid":void 0,children:b("React").jsx(b("Link.react"),{className:"_3m1z",children:this._renderPhotoPostOption(l.PHOTOVIDEO,d,e)})})},"uploadPhoto")},_redirectToCreatorStudio:function(){this._logClick(l.MULTIPAGEPOST);new(b("MediaManagerTypedLogger"))().setEvent("liberty_multipost_pages_composer_clicked").setEventSource("liberty_pages_composer").setSelectedPageIds([this.context.targetID]).setMediaManagerVisitSource("liberty_multipost_pages_composer_nux").log();var a=b("XMediaManagerController").getURIBuilder().setFBID("multipost_page_id",this.context.targetID).setFBID("selected_single_page_id",this.context.targetID).setEnum("reference","liberty_multipost_pages_composer_nux").getURI();b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").CREATOR_STUDIO_MULTIPOST_UPSELL_NUX_ON_PAGES_COMPOSER);b("MediaManagerLibertyUtils").openCreatorStudio(a,!1)},_getPostAcrossPagesButton:function(){var a=h._("Post Video Across Pages"),c=h._("Upload and post your video across multiple Pages at the same time."),d=!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").CREATOR_STUDIO_MULTIPOST_UPSELL_NUX_ON_PAGES_COMPOSER),e=h._("NEW");this._logImpression(l.MULTIPAGEPOST);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("Link.react"),{className:"_3m1z _5xvh",onClick:this._redirectToCreatorStudio,children:b("React").jsxs(b("FlexLayout.react"),{justify:"all",children:[this._renderPhotoPostOption(l.MULTIPAGEPOST,a,c),d?b("React").jsx("div",{className:"_7bqx",children:b("React").jsx("div",{className:"_7bqy",children:e})}):null]})})},"postAcrossPages")},_onUploadPhotosClick:function(){b("ReactComposerLoggingActions").mediaUploadInputClicked(this.context.composerID,b("ReactComposerLoggingName").MEDIA_ATTACHMENT_UPLOAD_BUTTON),b("PagesComposerActionsLogger").log({event:b("PagesComposerPostActionsLoggerEvent").CLICK_UPLOAD_PHOTO_OPTION,target_id:parseInt(this.context.targetID,10)}),this._logClick(l.PHOTOVIDEO)},_onClickPhotoAlbumOption:function(){b("PagesComposerActionsLogger").log({event:b("PagesComposerPostActionsLoggerEvent").CLICK_PHOTO_ALBUM_OPTION,target_id:parseInt(this.context.targetID,10)}),this._logClick(l.PHOTOALBUM)},_onFilesSelected:function(a){this.props.onFilesSelected(a,this.refs.fileInput.getFileInput()),b("ReactComposerMediaUtils").clearInput(this.refs.fileInput.getFileInput())},_getCarouselPostButton:function(){if(!this.props.canUploadPhotos)return null;var a=h._("Create a Photo Carousel");this.props.carouselConfig&&this.props.carouselConfig.supportVideoCarousel&&(a=h._("Create a Photo\/Video Carousel"));var c=h._("Build a scrolling photo carousel with a link.");this._logImpression(l.CAROUSEL);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("Link.react"),{onClick:this._onCarouselClick,className:"_3m1z _5xvh",children:this._renderPhotoPostOption(l.CAROUSEL,a,c)})},"carousel")},_onCarouselClick:function(){__p&&__p();b("ReactComposerPhotoCarouselActions").selectPhotoCarouselEntryPoint(this.context.composerID);if(!this.props.carouselConfig||!this.props.carouselConfig.ComposerPhotoCarouselUploadFirst)b("ReactComposerPhotoCarouselActions").showPhotoCarouselUrlEditArea(this.context.composerID);else{var a=b("XCarouselPageComposerPhotoUploadFirstController").getURIBuilder().setString("composer_id",this.context.composerID).setInt("target_id",parseInt(this.context.targetID,10)).getURI();a=b("ActorURI").create(a,this.context.targetID);a=new(b("AsyncRequest"))().setURI(a);a.send();b("ReactComposerPhotoCarouselActions").setPreviewIncompleted(this.context.composerID)}a={event:b("PagesComposerPostActionsLoggerEvent").CLICK_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10),composer_session_id:b("ComposerXSessionIDs").getSessionID(this.context.composerID)};b("PagesComposerActionsLogger").log(a);this._logClick(l.CAROUSEL)},_getSlideshowPostButton:function(){var a=this.props.slideshowConfig;if(!a)return null;var c=h._("Create Slideshow"),d=h._({"*":{"*":"Add {Minimum number of images} to {Maximum number of images} photos to create a video."}},[h._param("Minimum number of images",a?a.minPhotoNum:3,[0]),h._param("Maximum number of images",a?a.maxPhotoNum:7,[0])]);c=b("React").jsx(b("Link.react"),{className:"_3m1z _5xvh",children:this._renderPhotoPostOption(l.SLIDESHOW,c,d)});this._logImpression(l.SLIDESHOW);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("ReactComposerSlideshowPostButtonContainer.react"),{className:"_3-8-",maxSelectedImages:a.maxPhotoNum,mediaAcceptParam:this.props.mediaAcceptParam.photos,pageID:a.pageID,showSlideshowNewDesign:a.showSlideshowNewDesign,onFilesSelected:this._onSlideshowFilesUpload,children:c})},"slideshow")},_onSlideshowFilesUpload:function(a,c){this.props.onFilesSelected(a,c),b("ReactComposerMediaUtils").clearInput(c),this._logClick(l.SLIDESHOW)},_getCanvasPostButton:function(){var a=j,c=h._("Now you can tell a more immersive story by combining images and videos.");this.props.canvasConfig&&this.props.canvasConfig.supportVideoCanvas&&(c=h._("Combine photos and videos into a fullscreen experience that opens instantly from your post."));this._logImpression(l.CANVAS);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("Link.react"),{"data-testid":void 0,onClick:this._onCanvasClick,className:"_3m1z _5xvh",children:this._renderPhotoPostOption(l.CANVAS,a,c)})},"canvas")},_onCanvasClick:function(){b("ReactComposerCanvasActions").showCanvasSelector(this.context.composerID);var a={event:b("PagesComposerPostActionsLoggerEvent").CLICK_CANVAS_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};b("PagesComposerActionsLogger").log(a);this._logClick(l.CANVAS)},_getCollectionPostButton:function(){var a=this.props.collectionConfig;if(!a)return null;var c=h._("Create a Collection"),d=h._("Feature a collection of items that open into a fullscreen mobile experience.");this._logImpression(l.COLLECTION);return b("React").jsx(k,{className:"_3m1y",children:b("React").jsx(b("ReactComposerCollectionPostButtonContainer.react"),{config:a,children:b("React").jsx(b("Link.react"),{className:"_3m1z _5xvh",onClick:this._onCollectionClick,children:this._renderPhotoPostOption(l.COLLECTION,c,d)})})},"collection")},_onCollectionClick:function(){var a={event:b("PagesComposerPostActionsLoggerEvent").CLICK_COLLECTION_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};b("PagesComposerActionsLogger").log(a);this._logClick(l.COLLECTION)},_renderPhotoPostOption:function(a,c,d){var e=null,f=null;if(a===l.CAROUSEL&&this.props.carouselConfig&&this.props.carouselConfig.showCarouselOptionSuperscript){var g=h._("NEW");e=b("React").jsx("sup",{className:"_9td",children:g})}a===l.MULTIPAGEPOST&&(f=b("React").jsx("div",{className:"_7bqz",children:b("React").jsx(b("Image.react"),{src:i("517122")})}));return b("React").jsxs(b("Grid.react"),{className:"_3m1-",cols:2,children:[b("React").jsx(k,{className:"_5xvi",children:b("React").jsx(b("Image.react"),{className:"_5xvj",src:this._getIconSource(a)})}),b("React").jsxs(k,{className:"_5xvk",children:[b("React").jsxs("div",{className:"_5xvl",children:[c,e,f]}),b("React").jsx("div",{className:"_5xvm",children:d})]})]})},_getIconSource:function(a){switch(a){case l.PHOTOVIDEO:return i("28660");case l.PHOTOALBUM:return i("28659");case l.CAROUSEL:return i("28656");case l.SLIDESHOW:return i("28661");case l.COLLECTION:return i("358650");case l.CANVAS:return i("28658");case l.MULTIPAGEPOST:return i("793855");default:return null}},_logImpression:function(a){return},_logClick:function(a){return},_getLoggingData:function(a){return babelHelpers["extends"]({},b("ComposerStructuredLoggerUtil").getLoggingBaseData(this.context.composerID),{event_data:{feature_type:a}})}});var l=Object.freeze({PHOTOVIDEO:"photo_video",PHOTOALBUM:"photo_album",CAROUSEL:"carousel",SLIDESHOW:"slideshow",CANVAS:"canvas",COLLECTION:"collection",MULTIPAGEPOST:"multi_page_post"});e.exports=a}),null);